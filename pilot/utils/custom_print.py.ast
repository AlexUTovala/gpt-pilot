Module(body=[Import(names=[alias(name='builtins')]), ImportFrom(module='helpers.ipc', names=[alias(name='IPCClient')], level=0), ImportFrom(module='const.ipc', names=[alias(name='MESSAGE_TYPE'), alias(name='LOCAL_IGNORE_MESSAGE_TYPES')], level=0), FunctionDef(name='get_custom_print', args=arguments(posonlyargs=[], args=[arg(arg='args')], kwonlyargs=[], kw_defaults=[], defaults=[]), body=[Assign(targets=[Name(id='built_in_print', ctx=Store())], value=Attribute(value=Name(id='builtins', ctx=Load()), attr='print', ctx=Load())), FunctionDef(name='print_to_external_process', args=arguments(posonlyargs=[], args=[], vararg=arg(arg='args'), kwonlyargs=[], kw_defaults=[], kwarg=arg(arg='kwargs'), defaults=[]), body=[Assign(targets=[Name(id='message', ctx=Store())], value=Subscript(value=Name(id='args', ctx=Load()), slice=Constant(value=0), ctx=Load())), If(test=Compare(left=Constant(value='type'), ops=[NotIn()], comparators=[Name(id='kwargs', ctx=Load())]), body=[Assign(targets=[Subscript(value=Name(id='kwargs', ctx=Load()), slice=Constant(value='type'), ctx=Store())], value=Constant(value='verbose'))], orelse=[If(test=Compare(left=Subscript(value=Name(id='kwargs', ctx=Load()), slice=Constant(value='type'), ctx=Load()), ops=[Eq()], comparators=[Subscript(value=Name(id='MESSAGE_TYPE', ctx=Load()), slice=Constant(value='local'), ctx=Load())]), body=[Expr(value=Call(func=Name(id='local_print', ctx=Load()), args=[Starred(value=Name(id='args', ctx=Load()), ctx=Load())], keywords=[keyword(value=Name(id='kwargs', ctx=Load()))])), Return()], orelse=[])]), Expr(value=Call(func=Attribute(value=Name(id='ipc_client_instance', ctx=Load()), attr='send', ctx=Load()), args=[Dict(keys=[Constant(value='type'), Constant(value='content')], values=[Subscript(value=Name(id='MESSAGE_TYPE', ctx=Load()), slice=Subscript(value=Name(id='kwargs', ctx=Load()), slice=Constant(value='type'), ctx=Load()), ctx=Load()), Name(id='message', ctx=Load())])], keywords=[])), If(test=Compare(left=Subscript(value=Name(id='kwargs', ctx=Load()), slice=Constant(value='type'), ctx=Load()), ops=[Eq()], comparators=[Subscript(value=Name(id='MESSAGE_TYPE', ctx=Load()), slice=Constant(value='user_input_request'), ctx=Load())]), body=[Return(value=Call(func=Attribute(value=Name(id='ipc_client_instance', ctx=Load()), attr='listen', ctx=Load()), args=[], keywords=[]))], orelse=[])], decorator_list=[]), FunctionDef(name='local_print', args=arguments(posonlyargs=[], args=[], vararg=arg(arg='args'), kwonlyargs=[], kw_defaults=[], kwarg=arg(arg='kwargs'), defaults=[]), body=[Assign(targets=[Name(id='message', ctx=Store())], value=Call(func=Attribute(value=Constant(value=' '), attr='join', ctx=Load()), args=[Call(func=Name(id='map', ctx=Load()), args=[Name(id='str', ctx=Load()), Name(id='args', ctx=Load())], keywords=[])], keywords=[])), If(test=Compare(left=Constant(value='type'), ops=[In()], comparators=[Name(id='kwargs', ctx=Load())]), body=[If(test=Compare(left=Subscript(value=Name(id='kwargs', ctx=Load()), slice=Constant(value='type'), ctx=Load()), ops=[In()], comparators=[Name(id='LOCAL_IGNORE_MESSAGE_TYPES', ctx=Load())]), body=[Return()], orelse=[]), Delete(targets=[Subscript(value=Name(id='kwargs', ctx=Load()), slice=Constant(value='type'), ctx=Del())])], orelse=[]), Expr(value=Call(func=Name(id='built_in_print', ctx=Load()), args=[Name(id='message', ctx=Load())], keywords=[keyword(value=Name(id='kwargs', ctx=Load()))]))], decorator_list=[]), Assign(targets=[Name(id='ipc_client_instance', ctx=Store())], value=Constant(value=None)), If(test=Compare(left=Constant(value='--external-log-process-port'), ops=[In()], comparators=[Name(id='args', ctx=Load())]), body=[Assign(targets=[Name(id='ipc_client_instance', ctx=Store())], value=Call(func=Name(id='IPCClient', ctx=Load()), args=[Subscript(value=Name(id='args', ctx=Load()), slice=Constant(value='--external-log-process-port'), ctx=Load())], keywords=[])), Return(value=Tuple(elts=[Name(id='print_to_external_process', ctx=Load()), Name(id='ipc_client_instance', ctx=Load())], ctx=Load()))], orelse=[Return(value=Tuple(elts=[Name(id='local_print', ctx=Load()), Name(id='ipc_client_instance', ctx=Load())], ctx=Load()))])], decorator_list=[])], type_ignores=[])