Module(body=[Import(names=[alias(name='hashlib')]), Import(names=[alias(name='os')]), Import(names=[alias(name='re')]), Import(names=[alias(name='sys')]), Import(names=[alias(name='uuid')]), ImportFrom(module='getpass', names=[alias(name='getuser')], level=0), ImportFrom(module='database.database', names=[alias(name='get_app'), alias(name='get_app_by_user_workspace')], level=0), ImportFrom(module='utils.style', names=[alias(name='color_green_bold'), alias(name='style_config')], level=0), ImportFrom(module='utils.utils', names=[alias(name='should_execute_step')], level=0), ImportFrom(module='const.common', names=[alias(name='STEPS')], level=0), FunctionDef(name='get_arguments', args=arguments(posonlyargs=[], args=[], kwonlyargs=[], kw_defaults=[], defaults=[]), body=[Assign(targets=[Name(id='args', ctx=Store())], value=Subscript(value=Attribute(value=Name(id='sys', ctx=Load()), attr='argv', ctx=Load()), slice=Slice(lower=Constant(value=1)), ctx=Load())), Assign(targets=[Name(id='arguments', ctx=Store())], value=Dict(keys=[Constant(value='continuing_project')], values=[Constant(value=False)])), For(target=Name(id='arg', ctx=Store()), iter=Name(id='args', ctx=Load()), body=[If(test=Compare(left=Constant(value='='), ops=[In()], comparators=[Name(id='arg', ctx=Load())]), body=[Assign(targets=[Tuple(elts=[Name(id='key', ctx=Store()), Name(id='value', ctx=Store())], ctx=Store())], value=Call(func=Attribute(value=Name(id='arg', ctx=Load()), attr='split', ctx=Load()), args=[Constant(value='='), Constant(value=1)], keywords=[])), Assign(targets=[Subscript(value=Name(id='arguments', ctx=Load()), slice=Name(id='key', ctx=Load()), ctx=Store())], value=Name(id='value', ctx=Load()))], orelse=[Assign(targets=[Subscript(value=Name(id='arguments', ctx=Load()), slice=Name(id='arg', ctx=Load()), ctx=Store())], value=Constant(value=True))])], orelse=[]), Assign(targets=[Name(id='theme_mapping', ctx=Store())], value=Dict(keys=[Constant(value='light'), Constant(value='dark')], values=[Attribute(value=Attribute(value=Name(id='style_config', ctx=Load()), attr='theme', ctx=Load()), attr='LIGHT', ctx=Load()), Attribute(value=Attribute(value=Name(id='style_config', ctx=Load()), attr='theme', ctx=Load()), attr='DARK', ctx=Load())])), Assign(targets=[Name(id='theme_value', ctx=Store())], value=Call(func=Attribute(value=Name(id='arguments', ctx=Load()), attr='get', ctx=Load()), args=[Constant(value='theme'), Constant(value='dark')], keywords=[])), Expr(value=Call(func=Attribute(value=Name(id='style_config', ctx=Load()), attr='set_theme', ctx=Load()), args=[], keywords=[keyword(arg='theme', value=Call(func=Attribute(value=Name(id='theme_mapping', ctx=Load()), attr='get', ctx=Load()), args=[Name(id='theme_value', ctx=Load()), Attribute(value=Attribute(value=Name(id='style_config', ctx=Load()), attr='theme', ctx=Load()), attr='DARK', ctx=Load())], keywords=[]))])), If(test=Compare(left=Constant(value='user_id'), ops=[NotIn()], comparators=[Name(id='arguments', ctx=Load())]), body=[Assign(targets=[Subscript(value=Name(id='arguments', ctx=Load()), slice=Constant(value='user_id'), ctx=Store())], value=Call(func=Name(id='username_to_uuid', ctx=Load()), args=[Call(func=Name(id='getuser', ctx=Load()), args=[], keywords=[])], keywords=[]))], orelse=[]), Assign(targets=[Name(id='app', ctx=Store())], value=Constant(value=None)), If(test=Compare(left=Constant(value='workspace'), ops=[In()], comparators=[Name(id='arguments', ctx=Load())]), body=[Assign(targets=[Subscript(value=Name(id='arguments', ctx=Load()), slice=Constant(value='workspace'), ctx=Store())], value=Call(func=Attribute(value=Attribute(value=Name(id='os', ctx=Load()), attr='path', ctx=Load()), attr='abspath', ctx=Load()), args=[Subscript(value=Name(id='arguments', ctx=Load()), slice=Constant(value='workspace'), ctx=Load())], keywords=[])), Assign(targets=[Name(id='app', ctx=Store())], value=Call(func=Name(id='get_app_by_user_workspace', ctx=Load()), args=[Subscript(value=Name(id='arguments', ctx=Load()), slice=Constant(value='user_id'), ctx=Load()), Subscript(value=Name(id='arguments', ctx=Load()), slice=Constant(value='workspace'), ctx=Load())], keywords=[])), If(test=Compare(left=Name(id='app', ctx=Load()), ops=[IsNot()], comparators=[Constant(value=None)]), body=[Assign(targets=[Subscript(value=Name(id='arguments', ctx=Load()), slice=Constant(value='app_id'), ctx=Store())], value=Call(func=Name(id='str', ctx=Load()), args=[Attribute(value=Name(id='app', ctx=Load()), attr='id', ctx=Load())], keywords=[])), Assign(targets=[Subscript(value=Name(id='arguments', ctx=Load()), slice=Constant(value='continuing_project'), ctx=Store())], value=Constant(value=True))], orelse=[])], orelse=[Assign(targets=[Subscript(value=Name(id='arguments', ctx=Load()), slice=Constant(value='workspace'), ctx=Store())], value=Constant(value=None))]), If(test=Compare(left=Constant(value='app_id'), ops=[In()], comparators=[Name(id='arguments', ctx=Load())]), body=[If(test=Compare(left=Name(id='app', ctx=Load()), ops=[Is()], comparators=[Constant(value=None)]), body=[Assign(targets=[Name(id='app', ctx=Store())], value=Call(func=Name(id='get_app', ctx=Load()), args=[Subscript(value=Name(id='arguments', ctx=Load()), slice=Constant(value='app_id'), ctx=Load())], keywords=[]))], orelse=[]), Assign(targets=[Subscript(value=Name(id='arguments', ctx=Load()), slice=Constant(value='app_type'), ctx=Store())], value=Attribute(value=Name(id='app', ctx=Load()), attr='app_type', ctx=Load())), Assign(targets=[Subscript(value=Name(id='arguments', ctx=Load()), slice=Constant(value='name'), ctx=Store())], value=Attribute(value=Name(id='app', ctx=Load()), attr='name', ctx=Load())), Assign(targets=[Subscript(value=Name(id='arguments', ctx=Load()), slice=Constant(value='status'), ctx=Store())], value=Attribute(value=Name(id='app', ctx=Load()), attr='status', ctx=Load())), Assign(targets=[Subscript(value=Name(id='arguments', ctx=Load()), slice=Constant(value='continuing_project'), ctx=Store())], value=Constant(value=True)), If(test=BoolOp(op=Or(), values=[Compare(left=Constant(value='step'), ops=[NotIn()], comparators=[Name(id='arguments', ctx=Load())]), BoolOp(op=And(), values=[Compare(left=Constant(value='step'), ops=[In()], comparators=[Name(id='arguments', ctx=Load())]), UnaryOp(op=Not(), operand=Call(func=Name(id='should_execute_step', ctx=Load()), args=[Subscript(value=Name(id='arguments', ctx=Load()), slice=Constant(value='step'), ctx=Load()), Attribute(value=Name(id='app', ctx=Load()), attr='status', ctx=Load())], keywords=[]))])]), body=[Assign(targets=[Subscript(value=Name(id='arguments', ctx=Load()), slice=Constant(value='step'), ctx=Store())], value=IfExp(test=Compare(left=Attribute(value=Name(id='app', ctx=Load()), attr='status', ctx=Load()), ops=[Eq()], comparators=[Constant(value='finished')]), body=Constant(value='finished'), orelse=Subscript(value=Name(id='STEPS', ctx=Load()), slice=BinOp(left=Call(func=Attribute(value=Name(id='STEPS', ctx=Load()), attr='index', ctx=Load()), args=[Attribute(value=Name(id='app', ctx=Load()), attr='status', ctx=Load())], keywords=[]), op=Add(), right=Constant(value=1)), ctx=Load())))], orelse=[]), Expr(value=Call(func=Name(id='print', ctx=Load()), args=[Call(func=Name(id='color_green_bold', ctx=Load()), args=[Constant(value='\n------------------ LOADING PROJECT ----------------------')], keywords=[])], keywords=[])), Expr(value=Call(func=Name(id='print', ctx=Load()), args=[Call(func=Name(id='color_green_bold', ctx=Load()), args=[JoinedStr(values=[FormattedValue(value=Attribute(value=Name(id='app', ctx=Load()), attr='name', ctx=Load()), conversion=-1), Constant(value=' (app_id='), FormattedValue(value=Subscript(value=Name(id='arguments', ctx=Load()), slice=Constant(value='app_id'), ctx=Load()), conversion=-1), Constant(value=')')])], keywords=[])], keywords=[])), Expr(value=Call(func=Name(id='print', ctx=Load()), args=[Call(func=Name(id='color_green_bold', ctx=Load()), args=[Constant(value='--------------------------------------------------------------\n')], keywords=[])], keywords=[]))], orelse=[If(test=Compare(left=Constant(value='--get-created-apps-with-steps'), ops=[NotIn()], comparators=[Name(id='args', ctx=Load())]), body=[Assign(targets=[Subscript(value=Name(id='arguments', ctx=Load()), slice=Constant(value='app_id'), ctx=Store())], value=Call(func=Name(id='str', ctx=Load()), args=[Call(func=Attribute(value=Name(id='uuid', ctx=Load()), attr='uuid4', ctx=Load()), args=[], keywords=[])], keywords=[])), Expr(value=Call(func=Name(id='print', ctx=Load()), args=[Call(func=Name(id='color_green_bold', ctx=Load()), args=[Constant(value='\n------------------ STARTING NEW PROJECT ----------------------')], keywords=[])], keywords=[])), Expr(value=Call(func=Name(id='print', ctx=Load()), args=[Constant(value='If you wish to continue with this project in future run:')], keywords=[])), Expr(value=Call(func=Name(id='print', ctx=Load()), args=[Call(func=Name(id='color_green_bold', ctx=Load()), args=[JoinedStr(values=[Constant(value='python '), FormattedValue(value=Subscript(value=Attribute(value=Name(id='sys', ctx=Load()), attr='argv', ctx=Load()), slice=Constant(value=0), ctx=Load()), conversion=-1), Constant(value=' app_id='), FormattedValue(value=Subscript(value=Name(id='arguments', ctx=Load()), slice=Constant(value='app_id'), ctx=Load()), conversion=-1)])], keywords=[])], keywords=[])), Expr(value=Call(func=Name(id='print', ctx=Load()), args=[Call(func=Name(id='color_green_bold', ctx=Load()), args=[Constant(value='--------------------------------------------------------------\n')], keywords=[])], keywords=[]))], orelse=[])]), If(test=Compare(left=Constant(value='email'), ops=[NotIn()], comparators=[Name(id='arguments', ctx=Load())]), body=[Assign(targets=[Subscript(value=Name(id='arguments', ctx=Load()), slice=Constant(value='email'), ctx=Store())], value=Call(func=Name(id='get_email', ctx=Load()), args=[], keywords=[]))], orelse=[]), If(test=Compare(left=Constant(value='password'), ops=[NotIn()], comparators=[Name(id='arguments', ctx=Load())]), body=[Assign(targets=[Subscript(value=Name(id='arguments', ctx=Load()), slice=Constant(value='password'), ctx=Store())], value=Constant(value='password'))], orelse=[]), If(test=Compare(left=Constant(value='step'), ops=[NotIn()], comparators=[Name(id='arguments', ctx=Load())]), body=[Assign(targets=[Subscript(value=Name(id='arguments', ctx=Load()), slice=Constant(value='step'), ctx=Store())], value=Constant(value=None))], orelse=[]), Return(value=Name(id='arguments', ctx=Load()))], decorator_list=[]), FunctionDef(name='get_email', args=arguments(posonlyargs=[], args=[], kwonlyargs=[], kw_defaults=[], defaults=[]), body=[Assign(targets=[Name(id='gitconfig_path', ctx=Store())], value=Call(func=Attribute(value=Attribute(value=Name(id='os', ctx=Load()), attr='path', ctx=Load()), attr='expanduser', ctx=Load()), args=[Constant(value='~/.gitconfig')], keywords=[])), If(test=Call(func=Attribute(value=Attribute(value=Name(id='os', ctx=Load()), attr='path', ctx=Load()), attr='exists', ctx=Load()), args=[Name(id='gitconfig_path', ctx=Load())], keywords=[]), body=[With(items=[withitem(context_expr=Call(func=Name(id='open', ctx=Load()), args=[Name(id='gitconfig_path', ctx=Load()), Constant(value='r')], keywords=[keyword(arg='encoding', value=Constant(value='utf-8'))]), optional_vars=Name(id='file', ctx=Store()))], body=[Assign(targets=[Name(id='content', ctx=Store())], value=Call(func=Attribute(value=Name(id='file', ctx=Load()), attr='read', ctx=Load()), args=[], keywords=[])), Assign(targets=[Name(id='email_match', ctx=Store())], value=Call(func=Attribute(value=Name(id='re', ctx=Load()), attr='search', ctx=Load()), args=[Constant(value='email\\s*=\\s*([\\w\\.-]+@[\\w\\.-]+)'), Name(id='content', ctx=Load())], keywords=[])), If(test=Name(id='email_match', ctx=Load()), body=[Return(value=Call(func=Attribute(value=Name(id='email_match', ctx=Load()), attr='group', ctx=Load()), args=[Constant(value=1)], keywords=[]))], orelse=[])])], orelse=[]), Return(value=Call(func=Name(id='str', ctx=Load()), args=[Call(func=Attribute(value=Name(id='uuid', ctx=Load()), attr='uuid4', ctx=Load()), args=[], keywords=[])], keywords=[]))], decorator_list=[]), FunctionDef(name='username_to_uuid', args=arguments(posonlyargs=[], args=[arg(arg='username')], kwonlyargs=[], kw_defaults=[], defaults=[]), body=[Expr(value=Constant(value='\n    Creates a consistent UUID from a username\n    :param username:\n    :return:\n    ')), Assign(targets=[Name(id='sha1', ctx=Store())], value=Call(func=Attribute(value=Call(func=Attribute(value=Name(id='hashlib', ctx=Load()), attr='sha1', ctx=Load()), args=[Call(func=Attribute(value=Name(id='username', ctx=Load()), attr='encode', ctx=Load()), args=[], keywords=[])], keywords=[]), attr='hexdigest', ctx=Load()), args=[], keywords=[])), Assign(targets=[Name(id='uuid_str', ctx=Store())], value=Call(func=Attribute(value=Constant(value='{}-{}-{}-{}-{}'), attr='format', ctx=Load()), args=[Subscript(value=Name(id='sha1', ctx=Load()), slice=Slice(upper=Constant(value=8)), ctx=Load()), Subscript(value=Name(id='sha1', ctx=Load()), slice=Slice(lower=Constant(value=8), upper=Constant(value=12)), ctx=Load()), Subscript(value=Name(id='sha1', ctx=Load()), slice=Slice(lower=Constant(value=12), upper=Constant(value=16)), ctx=Load()), Subscript(value=Name(id='sha1', ctx=Load()), slice=Slice(lower=Constant(value=16), upper=Constant(value=20)), ctx=Load()), Subscript(value=Name(id='sha1', ctx=Load()), slice=Slice(lower=Constant(value=20), upper=Constant(value=32)), ctx=Load())], keywords=[])), Return(value=Call(func=Name(id='str', ctx=Load()), args=[Call(func=Attribute(value=Name(id='uuid', ctx=Load()), attr='UUID', ctx=Load()), args=[Name(id='uuid_str', ctx=Load())], keywords=[])], keywords=[]))], decorator_list=[])], type_ignores=[])