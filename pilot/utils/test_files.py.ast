Module(body=[Import(names=[alias(name='os')]), ImportFrom(module='unittest.mock', names=[alias(name='patch')], level=0), ImportFrom(module='utils.files', names=[alias(name='setup_workspace')], level=0), FunctionDef(name='mocked_create_directory', args=arguments(posonlyargs=[], args=[arg(arg='path'), arg(arg='exist_ok')], kwonlyargs=[], kw_defaults=[], defaults=[Constant(value=True)]), body=[Return()], decorator_list=[]), FunctionDef(name='mocked_abspath', args=arguments(posonlyargs=[], args=[arg(arg='file')], kwonlyargs=[], kw_defaults=[], defaults=[]), body=[Return(value=Constant(value='/root_path/pilot/helpers'))], decorator_list=[]), FunctionDef(name='test_setup_workspace_with_existing_workspace', args=arguments(posonlyargs=[], args=[arg(arg='mock_makedirs')], kwonlyargs=[], kw_defaults=[], defaults=[]), body=[Assign(targets=[Name(id='args', ctx=Store())], value=Dict(keys=[Constant(value='workspace'), Constant(value='name')], values=[Constant(value='/some/directory'), Constant(value='sample')])), Assign(targets=[Name(id='result', ctx=Store())], value=Call(func=Name(id='setup_workspace', ctx=Load()), args=[Name(id='args', ctx=Load())], keywords=[])), Assert(test=Compare(left=Name(id='result', ctx=Load()), ops=[Eq()], comparators=[Constant(value='/some/directory')]))], decorator_list=[Call(func=Name(id='patch', ctx=Load()), args=[Constant(value='utils.files.os.makedirs')], keywords=[keyword(arg='side_effect', value=Name(id='mocked_create_directory', ctx=Load()))])]), FunctionDef(name='test_setup_workspace_with_root_arg', args=arguments(posonlyargs=[], args=[arg(arg='monkeypatch')], kwonlyargs=[], kw_defaults=[], defaults=[]), body=[Assign(targets=[Name(id='args', ctx=Store())], value=Dict(keys=[Constant(value='root'), Constant(value='name')], values=[Constant(value='/my/root'), Constant(value='project_name')])), Expr(value=Call(func=Attribute(value=Name(id='monkeypatch', ctx=Load()), attr='setattr', ctx=Load()), args=[Constant(value='os.path.abspath'), Name(id='mocked_abspath', ctx=Load())], keywords=[])), Expr(value=Call(func=Attribute(value=Name(id='monkeypatch', ctx=Load()), attr='setattr', ctx=Load()), args=[Constant(value='os.makedirs'), Name(id='mocked_create_directory', ctx=Load())], keywords=[])), Assign(targets=[Name(id='result', ctx=Store())], value=Call(func=Name(id='setup_workspace', ctx=Load()), args=[Name(id='args', ctx=Load())], keywords=[])), Assert(test=Compare(left=Call(func=Attribute(value=Name(id='result', ctx=Load()), attr='replace', ctx=Load()), args=[Constant(value='\\'), Constant(value='/')], keywords=[]), ops=[Eq()], comparators=[Constant(value='/my/root/workspace/project_name')]))], decorator_list=[]), FunctionDef(name='test_setup_workspace_without_existing_workspace', args=arguments(posonlyargs=[], args=[arg(arg='mock_makedirs'), arg(arg='mock_abs_path')], kwonlyargs=[], kw_defaults=[], defaults=[]), body=[Assign(targets=[Name(id='args', ctx=Store())], value=Dict(keys=[Constant(value='workspace'), Constant(value='name')], values=[Constant(value=None), Constant(value='project_name')])), Assign(targets=[Name(id='result', ctx=Store())], value=Call(func=Name(id='setup_workspace', ctx=Load()), args=[Name(id='args', ctx=Load())], keywords=[])), Assert(test=Compare(left=Call(func=Attribute(value=Name(id='result', ctx=Load()), attr='replace', ctx=Load()), args=[Constant(value='\\'), Constant(value='/')], keywords=[]), ops=[Eq()], comparators=[Constant(value='/root_path/workspace/project_name')]))], decorator_list=[Call(func=Name(id='patch', ctx=Load()), args=[Constant(value='utils.files.os.path.abspath')], keywords=[keyword(arg='return_value', value=Constant(value='/root_path/pilot/helpers'))]), Call(func=Name(id='patch', ctx=Load()), args=[Constant(value='utils.files.os.makedirs')], keywords=[keyword(arg='side_effect', value=Name(id='mocked_create_directory', ctx=Load()))])])], type_ignores=[])