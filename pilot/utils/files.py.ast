Module(body=[Import(names=[alias(name='os')]), ImportFrom(module='pathlib', names=[alias(name='Path')], level=0), ImportFrom(module='database.database', names=[alias(name='save_user_app')], level=0), FunctionDef(name='get_parent_folder', args=arguments(posonlyargs=[], args=[arg(arg='folder_name')], kwonlyargs=[], kw_defaults=[], defaults=[]), body=[Assign(targets=[Name(id='current_path', ctx=Store())], value=Call(func=Name(id='Path', ctx=Load()), args=[Call(func=Attribute(value=Attribute(value=Name(id='os', ctx=Load()), attr='path', ctx=Load()), attr='abspath', ctx=Load()), args=[Name(id='__file__', ctx=Load())], keywords=[])], keywords=[])), While(test=Compare(left=Attribute(value=Name(id='current_path', ctx=Load()), attr='name', ctx=Load()), ops=[NotEq()], comparators=[Name(id='folder_name', ctx=Load())]), body=[Assign(targets=[Name(id='current_path', ctx=Store())], value=Attribute(value=Name(id='current_path', ctx=Load()), attr='parent', ctx=Load()))], orelse=[]), Return(value=Attribute(value=Name(id='current_path', ctx=Load()), attr='parent', ctx=Load()))], decorator_list=[]), FunctionDef(name='setup_workspace', args=arguments(posonlyargs=[], args=[arg(arg='args')], kwonlyargs=[], kw_defaults=[], defaults=[]), body=[Expr(value=Constant(value="\n    Creates & returns the path to the project workspace.\n    Also creates a 'tests' folder inside the workspace.\n    :param args: may contain 'root' key\n    ")), Assign(targets=[Name(id='workspace', ctx=Store())], value=Call(func=Attribute(value=Name(id='args', ctx=Load()), attr='get', ctx=Load()), args=[Constant(value='workspace')], keywords=[])), If(test=Name(id='workspace', ctx=Load()), body=[Assign(targets=[Name(id='project_path', ctx=Store())], value=Name(id='workspace', ctx=Load()))], orelse=[Assign(targets=[Name(id='root', ctx=Store())], value=BoolOp(op=Or(), values=[Call(func=Attribute(value=Name(id='args', ctx=Load()), attr='get', ctx=Load()), args=[Constant(value='root')], keywords=[]), Call(func=Name(id='get_parent_folder', ctx=Load()), args=[Constant(value='pilot')], keywords=[])])), Assign(targets=[Name(id='name', ctx=Store())], value=Call(func=Attribute(value=Name(id='args', ctx=Load()), attr='get', ctx=Load()), args=[Constant(value='name'), Constant(value='default_project_name')], keywords=[])), Assign(targets=[Name(id='project_path', ctx=Store())], value=Call(func=Name(id='create_directory', ctx=Load()), args=[Call(func=Attribute(value=Attribute(value=Name(id='os', ctx=Load()), attr='path', ctx=Load()), attr='join', ctx=Load()), args=[Name(id='root', ctx=Load()), Constant(value='workspace')], keywords=[]), Name(id='name', ctx=Load())], keywords=[]))]), Expr(value=Call(func=Name(id='create_directory', ctx=Load()), args=[Name(id='project_path', ctx=Load()), Constant(value='tests')], keywords=[])), Try(body=[Expr(value=Call(func=Name(id='save_user_app', ctx=Load()), args=[Call(func=Attribute(value=Name(id='args', ctx=Load()), attr='get', ctx=Load()), args=[Constant(value='user_id')], keywords=[]), Call(func=Attribute(value=Name(id='args', ctx=Load()), attr='get', ctx=Load()), args=[Constant(value='app_id')], keywords=[]), Name(id='project_path', ctx=Load())], keywords=[]))], handlers=[ExceptHandler(type=Name(id='Exception', ctx=Load()), name='e', body=[Expr(value=Call(func=Name(id='print', ctx=Load()), args=[JoinedStr(values=[Constant(value='Error saving user app: '), FormattedValue(value=Call(func=Name(id='str', ctx=Load()), args=[Name(id='e', ctx=Load())], keywords=[]), conversion=-1)])], keywords=[]))])], orelse=[], finalbody=[]), Expr(value=Call(func=Name(id='print', ctx=Load()), args=[Call(func=Attribute(value=Attribute(value=Name(id='os', ctx=Load()), attr='path', ctx=Load()), attr='basename', ctx=Load()), args=[Name(id='project_path', ctx=Load())], keywords=[])], keywords=[keyword(arg='type', value=Constant(value='project_folder_name'))])), Return(value=Name(id='project_path', ctx=Load()))], decorator_list=[], returns=Name(id='str', ctx=Load())), FunctionDef(name='create_directory', args=arguments(posonlyargs=[], args=[arg(arg='parent_directory'), arg(arg='new_directory')], kwonlyargs=[], kw_defaults=[], defaults=[]), body=[Assign(targets=[Name(id='new_directory_path', ctx=Store())], value=Call(func=Attribute(value=Attribute(value=Name(id='os', ctx=Load()), attr='path', ctx=Load()), attr='join', ctx=Load()), args=[Name(id='parent_directory', ctx=Load()), Name(id='new_directory', ctx=Load())], keywords=[])), Expr(value=Call(func=Attribute(value=Name(id='os', ctx=Load()), attr='makedirs', ctx=Load()), args=[Name(id='new_directory_path', ctx=Load())], keywords=[keyword(arg='exist_ok', value=Constant(value=True))])), Return(value=Name(id='new_directory_path', ctx=Load()))], decorator_list=[]), FunctionDef(name='count_lines_of_code', args=arguments(posonlyargs=[], args=[arg(arg='files')], kwonlyargs=[], kw_defaults=[], defaults=[]), body=[Return(value=Call(func=Name(id='sum', ctx=Load()), args=[GeneratorExp(elt=Call(func=Name(id='len', ctx=Load()), args=[Call(func=Attribute(value=Subscript(value=Name(id='file', ctx=Load()), slice=Constant(value='content'), ctx=Load()), attr='splitlines', ctx=Load()), args=[], keywords=[])], keywords=[]), generators=[comprehension(target=Name(id='file', ctx=Store()), iter=Name(id='files', ctx=Load()), ifs=[], is_async=0)])], keywords=[]))], decorator_list=[])], type_ignores=[])