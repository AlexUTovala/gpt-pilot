Module(body=[ImportFrom(module='utils.utils', names=[alias(name='step_already_finished')], level=0), ImportFrom(module='helpers.Agent', names=[alias(name='Agent')], level=0), Import(names=[alias(name='json')]), ImportFrom(module='utils.style', names=[alias(name='color_green_bold')], level=0), ImportFrom(module='const.function_calls', names=[alias(name='ARCHITECTURE')], level=0), ImportFrom(module='utils.utils', names=[alias(name='should_execute_step'), alias(name='generate_app_data')], level=0), ImportFrom(module='database.database', names=[alias(name='save_progress'), alias(name='get_progress_steps')], level=0), ImportFrom(module='logger.logger', names=[alias(name='logger')], level=0), ImportFrom(module='helpers.AgentConvo', names=[alias(name='AgentConvo')], level=0), Assign(targets=[Name(id='ARCHITECTURE_STEP', ctx=Store())], value=Constant(value='architecture')), ClassDef(name='Architect', bases=[Name(id='Agent', ctx=Load())], keywords=[], body=[FunctionDef(name='__init__', args=arguments(posonlyargs=[], args=[arg(arg='self'), arg(arg='project')], kwonlyargs=[], kw_defaults=[], defaults=[]), body=[Expr(value=Call(func=Attribute(value=Call(func=Name(id='super', ctx=Load()), args=[], keywords=[]), attr='__init__', ctx=Load()), args=[Constant(value='architect'), Name(id='project', ctx=Load())], keywords=[])), Assign(targets=[Attribute(value=Name(id='self', ctx=Load()), attr='convo_architecture', ctx=Store())], value=Constant(value=None))], decorator_list=[]), FunctionDef(name='get_architecture', args=arguments(posonlyargs=[], args=[arg(arg='self')], kwonlyargs=[], kw_defaults=[], defaults=[]), body=[Expr(value=Call(func=Name(id='print', ctx=Load()), args=[Call(func=Attribute(value=Name(id='json', ctx=Load()), attr='dumps', ctx=Load()), args=[Dict(keys=[Constant(value='project_stage')], values=[Constant(value='architecture')])], keywords=[])], keywords=[keyword(arg='type', value=Constant(value='info'))])), Assign(targets=[Attribute(value=Attribute(value=Name(id='self', ctx=Load()), attr='project', ctx=Load()), attr='current_step', ctx=Store())], value=Name(id='ARCHITECTURE_STEP', ctx=Load())), Assign(targets=[Name(id='step', ctx=Store())], value=Call(func=Name(id='get_progress_steps', ctx=Load()), args=[Subscript(value=Attribute(value=Attribute(value=Name(id='self', ctx=Load()), attr='project', ctx=Load()), attr='args', ctx=Load()), slice=Constant(value='app_id'), ctx=Load()), Name(id='ARCHITECTURE_STEP', ctx=Load())], keywords=[])), If(test=BoolOp(op=And(), values=[Name(id='step', ctx=Load()), UnaryOp(op=Not(), operand=Call(func=Name(id='should_execute_step', ctx=Load()), args=[Subscript(value=Attribute(value=Attribute(value=Name(id='self', ctx=Load()), attr='project', ctx=Load()), attr='args', ctx=Load()), slice=Constant(value='step'), ctx=Load()), Name(id='ARCHITECTURE_STEP', ctx=Load())], keywords=[]))]), body=[Expr(value=Call(func=Name(id='step_already_finished', ctx=Load()), args=[Attribute(value=Attribute(value=Name(id='self', ctx=Load()), attr='project', ctx=Load()), attr='args', ctx=Load()), Name(id='step', ctx=Load())], keywords=[])), Assign(targets=[Attribute(value=Attribute(value=Name(id='self', ctx=Load()), attr='project', ctx=Load()), attr='architecture', ctx=Store())], value=Subscript(value=Name(id='step', ctx=Load()), slice=Constant(value='architecture'), ctx=Load())), Return()], orelse=[]), Expr(value=Call(func=Name(id='print', ctx=Load()), args=[Call(func=Name(id='color_green_bold', ctx=Load()), args=[Constant(value='Planning project architecture...\n')], keywords=[])], keywords=[])), Expr(value=Call(func=Attribute(value=Name(id='logger', ctx=Load()), attr='info', ctx=Load()), args=[Constant(value='Planning project architecture...')], keywords=[])), Assign(targets=[Attribute(value=Name(id='self', ctx=Load()), attr='convo_architecture', ctx=Store())], value=Call(func=Name(id='AgentConvo', ctx=Load()), args=[Name(id='self', ctx=Load())], keywords=[])), Assign(targets=[Name(id='llm_response', ctx=Store())], value=Call(func=Attribute(value=Attribute(value=Name(id='self', ctx=Load()), attr='convo_architecture', ctx=Load()), attr='send_message', ctx=Load()), args=[Constant(value='architecture/technologies.prompt'), Dict(keys=[Constant(value='name'), Constant(value='app_summary'), Constant(value='clarifications'), Constant(value='user_stories'), Constant(value='user_tasks'), Constant(value='app_type')], values=[Subscript(value=Attribute(value=Attribute(value=Name(id='self', ctx=Load()), attr='project', ctx=Load()), attr='args', ctx=Load()), slice=Constant(value='name'), ctx=Load()), Attribute(value=Attribute(value=Name(id='self', ctx=Load()), attr='project', ctx=Load()), attr='project_description', ctx=Load()), Attribute(value=Attribute(value=Name(id='self', ctx=Load()), attr='project', ctx=Load()), attr='clarifications', ctx=Load()), Attribute(value=Attribute(value=Name(id='self', ctx=Load()), attr='project', ctx=Load()), attr='user_stories', ctx=Load()), Attribute(value=Attribute(value=Name(id='self', ctx=Load()), attr='project', ctx=Load()), attr='user_tasks', ctx=Load()), Subscript(value=Attribute(value=Attribute(value=Name(id='self', ctx=Load()), attr='project', ctx=Load()), attr='args', ctx=Load()), slice=Constant(value='app_type'), ctx=Load())]), Name(id='ARCHITECTURE', ctx=Load())], keywords=[])), Assign(targets=[Attribute(value=Attribute(value=Name(id='self', ctx=Load()), attr='project', ctx=Load()), attr='architecture', ctx=Store())], value=Subscript(value=Name(id='llm_response', ctx=Load()), slice=Constant(value='technologies'), ctx=Load())), If(test=Call(func=Attribute(value=Attribute(value=Attribute(value=Name(id='self', ctx=Load()), attr='project', ctx=Load()), attr='args', ctx=Load()), attr='get', ctx=Load()), args=[Constant(value='advanced'), Constant(value=False)], keywords=[]), body=[Assign(targets=[Name(id='llm_response', ctx=Store())], value=Call(func=Attribute(value=Attribute(value=Name(id='self', ctx=Load()), attr='convo_architecture', ctx=Load()), attr='get_additional_info_from_user', ctx=Load()), args=[Name(id='ARCHITECTURE', ctx=Load())], keywords=[])), If(test=Compare(left=Name(id='llm_response', ctx=Load()), ops=[IsNot()], comparators=[Constant(value=None)]), body=[Assign(targets=[Attribute(value=Attribute(value=Name(id='self', ctx=Load()), attr='project', ctx=Load()), attr='architecture', ctx=Store())], value=Subscript(value=Name(id='llm_response', ctx=Load()), slice=Constant(value='technologies'), ctx=Load()))], orelse=[])], orelse=[]), Expr(value=Call(func=Attribute(value=Name(id='logger', ctx=Load()), attr='info', ctx=Load()), args=[JoinedStr(values=[Constant(value='Final architecture: '), FormattedValue(value=Attribute(value=Attribute(value=Name(id='self', ctx=Load()), attr='project', ctx=Load()), attr='architecture', ctx=Load()), conversion=-1)])], keywords=[])), Expr(value=Call(func=Name(id='save_progress', ctx=Load()), args=[Subscript(value=Attribute(value=Attribute(value=Name(id='self', ctx=Load()), attr='project', ctx=Load()), attr='args', ctx=Load()), slice=Constant(value='app_id'), ctx=Load()), Attribute(value=Attribute(value=Name(id='self', ctx=Load()), attr='project', ctx=Load()), attr='current_step', ctx=Load()), Dict(keys=[Constant(value='messages'), Constant(value='architecture'), Constant(value='app_data')], values=[Attribute(value=Attribute(value=Name(id='self', ctx=Load()), attr='convo_architecture', ctx=Load()), attr='messages', ctx=Load()), Attribute(value=Attribute(value=Name(id='self', ctx=Load()), attr='project', ctx=Load()), attr='architecture', ctx=Load()), Call(func=Name(id='generate_app_data', ctx=Load()), args=[Attribute(value=Attribute(value=Name(id='self', ctx=Load()), attr='project', ctx=Load()), attr='args', ctx=Load())], keywords=[])])], keywords=[])), Return()], decorator_list=[])], decorator_list=[])], type_ignores=[])