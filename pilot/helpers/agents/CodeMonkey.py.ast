Module(body=[ImportFrom(module='const.function_calls', names=[alias(name='GET_FILES'), alias(name='IMPLEMENT_CHANGES')], level=0), ImportFrom(module='helpers.AgentConvo', names=[alias(name='AgentConvo')], level=0), ImportFrom(module='helpers.Agent', names=[alias(name='Agent')], level=0), ClassDef(name='CodeMonkey', bases=[Name(id='Agent', ctx=Load())], keywords=[], body=[FunctionDef(name='__init__', args=arguments(posonlyargs=[], args=[arg(arg='self'), arg(arg='project'), arg(arg='developer')], kwonlyargs=[], kw_defaults=[], defaults=[]), body=[Expr(value=Call(func=Attribute(value=Call(func=Name(id='super', ctx=Load()), args=[], keywords=[]), attr='__init__', ctx=Load()), args=[Constant(value='code_monkey'), Name(id='project', ctx=Load())], keywords=[])), Assign(targets=[Attribute(value=Name(id='self', ctx=Load()), attr='developer', ctx=Store())], value=Name(id='developer', ctx=Load()))], decorator_list=[]), FunctionDef(name='implement_code_changes', args=arguments(posonlyargs=[], args=[arg(arg='self'), arg(arg='convo'), arg(arg='task_description'), arg(arg='code_changes_description'), arg(arg='step'), arg(arg='step_index')], kwonlyargs=[], kw_defaults=[], defaults=[Constant(value=0)]), body=[If(test=Compare(left=Name(id='convo', ctx=Load()), ops=[Is()], comparators=[Constant(value=None)]), body=[Assign(targets=[Name(id='convo', ctx=Store())], value=Call(func=Name(id='AgentConvo', ctx=Load()), args=[Name(id='self', ctx=Load())], keywords=[]))], orelse=[]), Assign(targets=[Name(id='llm_response', ctx=Store())], value=Call(func=Attribute(value=Name(id='convo', ctx=Load()), attr='send_message', ctx=Load()), args=[Constant(value='development/implement_changes.prompt'), Dict(keys=[Constant(value='step_description'), Constant(value='step'), Constant(value='task_description'), Constant(value='step_index'), Constant(value='directory_tree'), Constant(value='files')], values=[Name(id='code_changes_description', ctx=Load()), Name(id='step', ctx=Load()), Name(id='task_description', ctx=Load()), Name(id='step_index', ctx=Load()), Call(func=Attribute(value=Attribute(value=Name(id='self', ctx=Load()), attr='project', ctx=Load()), attr='get_directory_tree', ctx=Load()), args=[Constant(value=True)], keywords=[]), Call(func=Attribute(value=Attribute(value=Name(id='self', ctx=Load()), attr='project', ctx=Load()), attr='get_all_coded_files', ctx=Load()), args=[], keywords=[])]), Name(id='IMPLEMENT_CHANGES', ctx=Load())], keywords=[])), Expr(value=Call(func=Attribute(value=Name(id='convo', ctx=Load()), attr='remove_last_x_messages', ctx=Load()), args=[Constant(value=2)], keywords=[])), Assign(targets=[Name(id='changes', ctx=Store())], value=Call(func=Attribute(value=Attribute(value=Name(id='self', ctx=Load()), attr='developer', ctx=Load()), attr='replace_old_code_comments', ctx=Load()), args=[Subscript(value=Name(id='llm_response', ctx=Load()), slice=Constant(value='files'), ctx=Load())], keywords=[])), If(test=Compare(left=Attribute(value=Attribute(value=Name(id='self', ctx=Load()), attr='project', ctx=Load()), attr='skip_until_dev_step', ctx=Load()), ops=[NotEq()], comparators=[Call(func=Name(id='str', ctx=Load()), args=[Attribute(value=Subscript(value=Attribute(value=Attribute(value=Name(id='self', ctx=Load()), attr='project', ctx=Load()), attr='checkpoints', ctx=Load()), slice=Constant(value='last_development_step'), ctx=Load()), attr='id', ctx=Load())], keywords=[])]), body=[For(target=Name(id='file_data', ctx=Store()), iter=Name(id='changes', ctx=Load()), body=[Expr(value=Call(func=Attribute(value=Attribute(value=Name(id='self', ctx=Load()), attr='project', ctx=Load()), attr='save_file', ctx=Load()), args=[Name(id='file_data', ctx=Load())], keywords=[]))], orelse=[])], orelse=[]), Return(value=Name(id='convo', ctx=Load()))], decorator_list=[])], decorator_list=[])], type_ignores=[])