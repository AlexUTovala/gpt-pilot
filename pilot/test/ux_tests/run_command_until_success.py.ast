Module(body=[Import(names=[alias(name='os')]), ImportFrom(module='helpers.agents', names=[alias(name='Developer'), alias(name='ENVIRONMENT_SETUP_STEP')], level=0), ImportFrom(module='helpers', names=[alias(name='AgentConvo'), alias(name='Project')], level=0), ImportFrom(module='helpers.files', names=[alias(name='update_file')], level=0), ImportFrom(module='database', names=[alias(name='save_app')], level=0), FunctionDef(name='run_command_until_success', args=arguments(posonlyargs=[], args=[], kwonlyargs=[], kw_defaults=[], defaults=[]), body=[Assign(targets=[Name(id='name', ctx=Store())], value=Constant(value='run_command_until_success')), Assign(targets=[Name(id='project', ctx=Store())], value=Call(func=Name(id='Project', ctx=Load()), args=[Dict(keys=[Constant(value='app_id'), Constant(value='name'), Constant(value='app_type'), Constant(value='user_id'), Constant(value='email'), Constant(value='password')], values=[Constant(value='84c2c532-e07c-4694-bcb0-70767c348b07'), Name(id='name', ctx=Load()), Constant(value=''), Constant(value='97510ce7-dbca-44b6-973c-d27346ce4009'), Constant(value='7ed2f578-c791-4719-959c-dedf94394ad3'), Constant(value='secret')])], keywords=[keyword(arg='name', value=Name(id='name', ctx=Load())), keyword(arg='architecture', value=List(elts=[], ctx=Load())), keyword(arg='user_stories', value=List(elts=[], ctx=Load()))])), Expr(value=Call(func=Attribute(value=Name(id='project', ctx=Load()), attr='set_root_path', ctx=Load()), args=[Call(func=Attribute(value=Attribute(value=Name(id='os', ctx=Load()), attr='path', ctx=Load()), attr='abspath', ctx=Load()), args=[Call(func=Attribute(value=Attribute(value=Name(id='os', ctx=Load()), attr='path', ctx=Load()), attr='join', ctx=Load()), args=[Call(func=Attribute(value=Attribute(value=Name(id='os', ctx=Load()), attr='path', ctx=Load()), attr='dirname', ctx=Load()), args=[Call(func=Attribute(value=Attribute(value=Name(id='os', ctx=Load()), attr='path', ctx=Load()), attr='abspath', ctx=Load()), args=[Name(id='__file__', ctx=Load())], keywords=[])], keywords=[]), Constant(value='../../../workspace/TestDeveloper')], keywords=[])], keywords=[])], keywords=[])), Assign(targets=[Attribute(value=Name(id='project', ctx=Load()), attr='technologies', ctx=Store())], value=List(elts=[], ctx=Load())), Assign(targets=[Attribute(value=Name(id='project', ctx=Load()), attr='current_step', ctx=Store())], value=Name(id='ENVIRONMENT_SETUP_STEP', ctx=Load())), Assign(targets=[Attribute(value=Name(id='project', ctx=Load()), attr='app', ctx=Store())], value=Call(func=Name(id='save_app', ctx=Load()), args=[Name(id='project', ctx=Load())], keywords=[])), Expr(value=Call(func=Name(id='update_file', ctx=Load()), args=[JoinedStr(values=[FormattedValue(value=Attribute(value=Name(id='project', ctx=Load()), attr='root_path', ctx=Load()), conversion=-1), Constant(value='/package.json')]), Constant(value='{"dependencies": {"axios": "^1.5.0", "express": "^4.18.2", "mongoose": "^7.5.0"}}')], keywords=[])), Assign(targets=[Name(id='developer', ctx=Store())], value=Call(func=Name(id='Developer', ctx=Load()), args=[Name(id='project', ctx=Load())], keywords=[])), Assign(targets=[Attribute(value=Name(id='developer', ctx=Load()), attr='run_command', ctx=Store())], value=Constant(value='npm install')), Assign(targets=[Name(id='convo', ctx=Store())], value=Call(func=Name(id='AgentConvo', ctx=Load()), args=[Name(id='developer', ctx=Load())], keywords=[])), Assign(targets=[Name(id='step', ctx=Store())], value=Dict(keys=[Constant(value='type'), Constant(value='human_intervention_description')], values=[Constant(value='human_intervention'), Constant(value='I want you to test that this process works from the CLI _and_ from the UI.')])), Expr(value=Call(func=Attribute(value=Name(id='developer', ctx=Load()), attr='step_human_intervention', ctx=Load()), args=[Name(id='convo', ctx=Load()), Name(id='step', ctx=Load())], keywords=[]))], decorator_list=[])], type_ignores=[])