Module(body=[Import(names=[alias(name='psycopg2')]), ImportFrom(module='peewee', names=[alias(name='PostgresqlDatabase')], level=0), ImportFrom(module='psycopg2.extensions', names=[alias(name='quote_ident')], level=0), ImportFrom(module='database.config', names=[alias(name='DB_NAME'), alias(name='DB_HOST'), alias(name='DB_PORT'), alias(name='DB_USER'), alias(name='DB_PASSWORD')], level=0), FunctionDef(name='get_postgres_database', args=arguments(posonlyargs=[], args=[], kwonlyargs=[], kw_defaults=[], defaults=[]), body=[Return(value=Call(func=Name(id='PostgresqlDatabase', ctx=Load()), args=[Name(id='DB_NAME', ctx=Load())], keywords=[keyword(arg='user', value=Name(id='DB_USER', ctx=Load())), keyword(arg='password', value=Name(id='DB_PASSWORD', ctx=Load())), keyword(arg='host', value=Name(id='DB_HOST', ctx=Load())), keyword(arg='port', value=Name(id='DB_PORT', ctx=Load()))]))], decorator_list=[]), FunctionDef(name='create_postgres_database', args=arguments(posonlyargs=[], args=[], kwonlyargs=[], kw_defaults=[], defaults=[]), body=[Assign(targets=[Name(id='conn', ctx=Store())], value=Call(func=Attribute(value=Name(id='psycopg2', ctx=Load()), attr='connect', ctx=Load()), args=[], keywords=[keyword(arg='dbname', value=Constant(value='postgres')), keyword(arg='user', value=Name(id='DB_USER', ctx=Load())), keyword(arg='password', value=Name(id='DB_PASSWORD', ctx=Load())), keyword(arg='host', value=Name(id='DB_HOST', ctx=Load())), keyword(arg='port', value=Name(id='DB_PORT', ctx=Load()))])), Assign(targets=[Attribute(value=Name(id='conn', ctx=Load()), attr='autocommit', ctx=Store())], value=Constant(value=True)), Assign(targets=[Name(id='cursor', ctx=Store())], value=Call(func=Attribute(value=Name(id='conn', ctx=Load()), attr='cursor', ctx=Load()), args=[], keywords=[])), Assign(targets=[Name(id='safe_db_name', ctx=Store())], value=Call(func=Name(id='quote_ident', ctx=Load()), args=[Name(id='DB_NAME', ctx=Load()), Name(id='conn', ctx=Load())], keywords=[])), Expr(value=Call(func=Attribute(value=Name(id='cursor', ctx=Load()), attr='execute', ctx=Load()), args=[JoinedStr(values=[Constant(value='CREATE DATABASE '), FormattedValue(value=Name(id='safe_db_name', ctx=Load()), conversion=-1)])], keywords=[])), Expr(value=Call(func=Attribute(value=Name(id='cursor', ctx=Load()), attr='close', ctx=Load()), args=[], keywords=[])), Expr(value=Call(func=Attribute(value=Name(id='conn', ctx=Load()), attr='close', ctx=Load()), args=[], keywords=[]))], decorator_list=[])], type_ignores=[])