Module(body=[Import(names=[alias(name='distutils.command.bdist_rpm', asname='orig')]), ImportFrom(module='warnings', names=[alias(name='SetuptoolsDeprecationWarning')], level=2), ClassDef(name='bdist_rpm', bases=[Attribute(value=Name(id='orig', ctx=Load()), attr='bdist_rpm', ctx=Load())], keywords=[], body=[Expr(value=Constant(value="\n    Override the default bdist_rpm behavior to do the following:\n\n    1. Run egg_info to ensure the name and version are properly calculated.\n    2. Always run 'install' using --single-version-externally-managed to\n       disable eggs in RPM distributions.\n    ")), FunctionDef(name='run', args=arguments(posonlyargs=[], args=[arg(arg='self')], kwonlyargs=[], kw_defaults=[], defaults=[]), body=[Expr(value=Call(func=Attribute(value=Name(id='SetuptoolsDeprecationWarning', ctx=Load()), attr='emit', ctx=Load()), args=[Constant(value='Deprecated command'), Constant(value='\n            bdist_rpm is deprecated and will be removed in a future version.\n            Use bdist_wheel (wheel packages) instead.\n            ')], keywords=[keyword(arg='see_url', value=Constant(value='https://github.com/pypa/setuptools/issues/1988')), keyword(arg='due_date', value=Tuple(elts=[Constant(value=2023), Constant(value=10), Constant(value=30)], ctx=Load()))])), Expr(value=Call(func=Attribute(value=Name(id='self', ctx=Load()), attr='run_command', ctx=Load()), args=[Constant(value='egg_info')], keywords=[])), Expr(value=Call(func=Attribute(value=Attribute(value=Name(id='orig', ctx=Load()), attr='bdist_rpm', ctx=Load()), attr='run', ctx=Load()), args=[Name(id='self', ctx=Load())], keywords=[]))], decorator_list=[]), FunctionDef(name='_make_spec_file', args=arguments(posonlyargs=[], args=[arg(arg='self')], kwonlyargs=[], kw_defaults=[], defaults=[]), body=[Assign(targets=[Name(id='spec', ctx=Store())], value=Call(func=Attribute(value=Attribute(value=Name(id='orig', ctx=Load()), attr='bdist_rpm', ctx=Load()), attr='_make_spec_file', ctx=Load()), args=[Name(id='self', ctx=Load())], keywords=[])), Assign(targets=[Name(id='spec', ctx=Store())], value=ListComp(elt=Call(func=Attribute(value=Call(func=Attribute(value=Name(id='line', ctx=Load()), attr='replace', ctx=Load()), args=[Constant(value='setup.py install '), Constant(value='setup.py install --single-version-externally-managed ')], keywords=[]), attr='replace', ctx=Load()), args=[Constant(value='%setup'), Constant(value='%setup -n %{name}-%{unmangled_version}')], keywords=[]), generators=[comprehension(target=Name(id='line', ctx=Store()), iter=Name(id='spec', ctx=Load()), ifs=[], is_async=0)])), Return(value=Name(id='spec', ctx=Load()))], decorator_list=[])], decorator_list=[])], type_ignores=[])