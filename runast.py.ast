Module(body=[Import(names=[alias(name='ast')]), Import(names=[alias(name='os')]), FunctionDef(name='generate_ast', args=arguments(posonlyargs=[], args=[arg(arg='root_dir')], kwonlyargs=[], kw_defaults=[], defaults=[]), body=[For(target=Tuple(elts=[Name(id='dir_name', ctx=Store()), Name(id='dirs', ctx=Store()), Name(id='files', ctx=Store())], ctx=Store()), iter=Call(func=Attribute(value=Name(id='os', ctx=Load()), attr='walk', ctx=Load()), args=[Name(id='root_dir', ctx=Load())], keywords=[]), body=[For(target=Name(id='file_name', ctx=Store()), iter=Name(id='files', ctx=Load()), body=[If(test=Call(func=Attribute(value=Name(id='file_name', ctx=Load()), attr='endswith', ctx=Load()), args=[Constant(value='.py')], keywords=[]), body=[Assign(targets=[Name(id='file_path', ctx=Store())], value=Call(func=Attribute(value=Attribute(value=Name(id='os', ctx=Load()), attr='path', ctx=Load()), attr='join', ctx=Load()), args=[Name(id='dir_name', ctx=Load()), Name(id='file_name', ctx=Load())], keywords=[])), With(items=[withitem(context_expr=Call(func=Name(id='open', ctx=Load()), args=[Name(id='file_path', ctx=Load()), Constant(value='r')], keywords=[]), optional_vars=Name(id='file', ctx=Store()))], body=[Assign(targets=[Name(id='file_content', ctx=Store())], value=Call(func=Attribute(value=Name(id='file', ctx=Load()), attr='read', ctx=Load()), args=[], keywords=[]))]), Try(body=[Assign(targets=[Name(id='tree', ctx=Store())], value=Call(func=Attribute(value=Name(id='ast', ctx=Load()), attr='parse', ctx=Load()), args=[Name(id='file_content', ctx=Load())], keywords=[])), Expr(value=Call(func=Name(id='save_ast_result', ctx=Load()), args=[Name(id='file_path', ctx=Load()), Name(id='tree', ctx=Load())], keywords=[]))], handlers=[ExceptHandler(type=Name(id='SyntaxError', ctx=Load()), name='e', body=[Expr(value=Call(func=Name(id='print', ctx=Load()), args=[JoinedStr(values=[Constant(value='Syntax error in file '), FormattedValue(value=Name(id='file_path', ctx=Load()), conversion=-1), Constant(value=': '), FormattedValue(value=Name(id='e', ctx=Load()), conversion=-1)])], keywords=[]))])], orelse=[], finalbody=[])], orelse=[])], orelse=[])], orelse=[])], decorator_list=[]), FunctionDef(name='save_ast_result', args=arguments(posonlyargs=[], args=[arg(arg='file_path'), arg(arg='tree')], kwonlyargs=[], kw_defaults=[], defaults=[]), body=[Assign(targets=[Name(id='ast_file_path', ctx=Store())], value=BinOp(left=Name(id='file_path', ctx=Load()), op=Add(), right=Constant(value='.ast'))), With(items=[withitem(context_expr=Call(func=Name(id='open', ctx=Load()), args=[Name(id='ast_file_path', ctx=Load()), Constant(value='w')], keywords=[]), optional_vars=Name(id='ast_file', ctx=Store()))], body=[Expr(value=Call(func=Attribute(value=Name(id='ast_file', ctx=Load()), attr='write', ctx=Load()), args=[Call(func=Attribute(value=Name(id='ast', ctx=Load()), attr='dump', ctx=Load()), args=[Name(id='tree', ctx=Load())], keywords=[])], keywords=[]))])], decorator_list=[]), Expr(value=Call(func=Name(id='generate_ast', ctx=Load()), args=[Constant(value='/Users/alexurbanec/gpt-pilot')], keywords=[]))], type_ignores=[])