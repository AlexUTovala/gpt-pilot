Module(body=[Import(names=[alias(name='os')]), Import(names=[alias(name='shutil')]), Import(names=[alias(name='zipfile')]), FunctionDef(name='main', args=arguments(posonlyargs=[], args=[], kwonlyargs=[], kw_defaults=[], defaults=[]), body=[Assign(targets=[Name(id='base_dir', ctx=Store())], value=Call(func=Attribute(value=Attribute(value=Name(id='os', ctx=Load()), attr='path', ctx=Load()), attr='dirname', ctx=Load()), args=[Call(func=Attribute(value=Attribute(value=Name(id='os', ctx=Load()), attr='path', ctx=Load()), attr='dirname', ctx=Load()), args=[Call(func=Attribute(value=Attribute(value=Name(id='os', ctx=Load()), attr='path', ctx=Load()), attr='abspath', ctx=Load()), args=[Name(id='__file__', ctx=Load())], keywords=[])], keywords=[])], keywords=[])), Assign(targets=[Name(id='repo_path', ctx=Store())], value=Call(func=Attribute(value=Attribute(value=Name(id='os', ctx=Load()), attr='path', ctx=Load()), attr='abspath', ctx=Load()), args=[Name(id='base_dir', ctx=Load())], keywords=[])), Assign(targets=[Name(id='files_to_exclude', ctx=Store())], value=List(elts=[Constant(value='pilot/.env'), Constant(value='pilot/gpt-pilot')], ctx=Load())), Assign(targets=[Name(id='tmp_excluded_paths', ctx=Store())], value=List(elts=[], ctx=Load())), For(target=Name(id='file', ctx=Store()), iter=Name(id='files_to_exclude', ctx=Load()), body=[Assign(targets=[Name(id='source_path', ctx=Store())], value=Call(func=Attribute(value=Attribute(value=Name(id='os', ctx=Load()), attr='path', ctx=Load()), attr='join', ctx=Load()), args=[Name(id='repo_path', ctx=Load()), Name(id='file', ctx=Load())], keywords=[])), If(test=Call(func=Attribute(value=Attribute(value=Name(id='os', ctx=Load()), attr='path', ctx=Load()), attr='exists', ctx=Load()), args=[Name(id='source_path', ctx=Load())], keywords=[]), body=[Assign(targets=[Name(id='tmp_path', ctx=Store())], value=Call(func=Attribute(value=Attribute(value=Name(id='os', ctx=Load()), attr='path', ctx=Load()), attr='join', ctx=Load()), args=[Constant(value='/tmp'), Call(func=Attribute(value=Attribute(value=Name(id='os', ctx=Load()), attr='path', ctx=Load()), attr='basename', ctx=Load()), args=[Name(id='file', ctx=Load())], keywords=[])], keywords=[])), Expr(value=Call(func=Attribute(value=Name(id='shutil', ctx=Load()), attr='move', ctx=Load()), args=[Name(id='source_path', ctx=Load()), Name(id='tmp_path', ctx=Load())], keywords=[])), Expr(value=Call(func=Attribute(value=Name(id='tmp_excluded_paths', ctx=Load()), attr='append', ctx=Load()), args=[Tuple(elts=[Name(id='tmp_path', ctx=Load()), Name(id='source_path', ctx=Load())], ctx=Load())], keywords=[]))], orelse=[])], orelse=[]), Assign(targets=[Name(id='items_to_package', ctx=Store())], value=List(elts=[Constant(value='pilot'), Constant(value='scripts'), Constant(value='Dockerfile'), Constant(value='docker-compose.yml'), Constant(value='LICENSE'), Constant(value='README.md'), Constant(value='requirements.txt')], ctx=Load())), Assign(targets=[Name(id='parent_directory', ctx=Store())], value=Call(func=Attribute(value=Attribute(value=Name(id='os', ctx=Load()), attr='path', ctx=Load()), attr='dirname', ctx=Load()), args=[Name(id='base_dir', ctx=Load())], keywords=[])), Assign(targets=[Name(id='archive_path', ctx=Store())], value=Call(func=Attribute(value=Attribute(value=Name(id='os', ctx=Load()), attr='path', ctx=Load()), attr='join', ctx=Load()), args=[Name(id='parent_directory', ctx=Load()), Constant(value='gpt-pilot-packaged.zip')], keywords=[])), With(items=[withitem(context_expr=Call(func=Attribute(value=Name(id='zipfile', ctx=Load()), attr='ZipFile', ctx=Load()), args=[Name(id='archive_path', ctx=Load()), Constant(value='w'), Attribute(value=Name(id='zipfile', ctx=Load()), attr='ZIP_DEFLATED', ctx=Load())], keywords=[]), optional_vars=Name(id='archive', ctx=Store()))], body=[For(target=Name(id='item', ctx=Store()), iter=Name(id='items_to_package', ctx=Load()), body=[Assign(targets=[Name(id='item_path', ctx=Store())], value=Call(func=Attribute(value=Attribute(value=Name(id='os', ctx=Load()), attr='path', ctx=Load()), attr='join', ctx=Load()), args=[Name(id='repo_path', ctx=Load()), Name(id='item', ctx=Load())], keywords=[])), If(test=Call(func=Attribute(value=Attribute(value=Name(id='os', ctx=Load()), attr='path', ctx=Load()), attr='isfile', ctx=Load()), args=[Name(id='item_path', ctx=Load())], keywords=[]), body=[Expr(value=Call(func=Attribute(value=Name(id='archive', ctx=Load()), attr='write', ctx=Load()), args=[Name(id='item_path', ctx=Load()), Name(id='item', ctx=Load())], keywords=[]))], orelse=[If(test=Call(func=Attribute(value=Attribute(value=Name(id='os', ctx=Load()), attr='path', ctx=Load()), attr='isdir', ctx=Load()), args=[Name(id='item_path', ctx=Load())], keywords=[]), body=[For(target=Tuple(elts=[Name(id='root', ctx=Store()), Name(id='_', ctx=Store()), Name(id='files', ctx=Store())], ctx=Store()), iter=Call(func=Attribute(value=Name(id='os', ctx=Load()), attr='walk', ctx=Load()), args=[Name(id='item_path', ctx=Load())], keywords=[]), body=[For(target=Name(id='file', ctx=Store()), iter=Name(id='files', ctx=Load()), body=[Assign(targets=[Name(id='file_path', ctx=Store())], value=Call(func=Attribute(value=Attribute(value=Name(id='os', ctx=Load()), attr='path', ctx=Load()), attr='join', ctx=Load()), args=[Name(id='root', ctx=Load()), Name(id='file', ctx=Load())], keywords=[])), Assign(targets=[Name(id='archive_path', ctx=Store())], value=Call(func=Attribute(value=Attribute(value=Name(id='os', ctx=Load()), attr='path', ctx=Load()), attr='relpath', ctx=Load()), args=[Name(id='file_path', ctx=Load()), Name(id='repo_path', ctx=Load())], keywords=[])), Expr(value=Call(func=Attribute(value=Name(id='archive', ctx=Load()), attr='write', ctx=Load()), args=[Name(id='file_path', ctx=Load()), Name(id='archive_path', ctx=Load())], keywords=[]))], orelse=[])], orelse=[])], orelse=[])])], orelse=[])]), For(target=Tuple(elts=[Name(id='tmp_path', ctx=Store()), Name(id='orig_path', ctx=Store())], ctx=Store()), iter=Name(id='tmp_excluded_paths', ctx=Load()), body=[If(test=Call(func=Attribute(value=Attribute(value=Name(id='os', ctx=Load()), attr='path', ctx=Load()), attr='exists', ctx=Load()), args=[Name(id='tmp_path', ctx=Load())], keywords=[]), body=[Expr(value=Call(func=Attribute(value=Name(id='shutil', ctx=Load()), attr='move', ctx=Load()), args=[Name(id='tmp_path', ctx=Load()), Name(id='orig_path', ctx=Load())], keywords=[]))], orelse=[])], orelse=[])], decorator_list=[]), If(test=Compare(left=Name(id='__name__', ctx=Load()), ops=[Eq()], comparators=[Constant(value='__main__')]), body=[Expr(value=Call(func=Name(id='main', ctx=Load()), args=[], keywords=[]))], orelse=[])], type_ignores=[])