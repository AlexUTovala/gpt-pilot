Module(body=[Import(names=[alias(name='inspect')]), ImportFrom(module='functools', names=[alias(name='partial')], level=0), ImportFrom(module='typing', names=[alias(name='Any'), alias(name='Callable'), alias(name='Iterable'), alias(name='List'), alias(name='Optional'), alias(name='Tuple'), alias(name='Type'), alias(name='TypeVar'), alias(name='Union'), alias(name='overload')], level=0), Assign(targets=[Name(id='T', ctx=Store())], value=Call(func=Name(id='TypeVar', ctx=Load()), args=[Constant(value='T')], keywords=[])), Assign(targets=[Name(id='Result', ctx=Store())], value=Subscript(value=Name(id='Iterable', ctx=Load()), slice=Subscript(value=Name(id='Union', ctx=Load()), slice=Tuple(elts=[Name(id='Any', ctx=Load()), Subscript(value=Name(id='Tuple', ctx=Load()), slice=Name(id='Any', ctx=Load()), ctx=Load()), Subscript(value=Name(id='Tuple', ctx=Load()), slice=Tuple(elts=[Name(id='str', ctx=Load()), Name(id='Any', ctx=Load())], ctx=Load()), ctx=Load()), Subscript(value=Name(id='Tuple', ctx=Load()), slice=Tuple(elts=[Name(id='str', ctx=Load()), Name(id='Any', ctx=Load()), Name(id='Any', ctx=Load())], ctx=Load()), ctx=Load())], ctx=Load()), ctx=Load()), ctx=Load())), Assign(targets=[Name(id='RichReprResult', ctx=Store())], value=Name(id='Result', ctx=Load())), ClassDef(name='ReprError', bases=[Name(id='Exception', ctx=Load())], keywords=[], body=[Expr(value=Constant(value='An error occurred when attempting to build a repr.'))], decorator_list=[]), FunctionDef(name='auto', args=arguments(posonlyargs=[], args=[arg(arg='cls', annotation=Subscript(value=Name(id='Optional', ctx=Load()), slice=Subscript(value=Name(id='Type', ctx=Load()), slice=Name(id='T', ctx=Load()), ctx=Load()), ctx=Load()))], kwonlyargs=[], kw_defaults=[], defaults=[]), body=[Expr(value=Constant(value=Ellipsis))], decorator_list=[Name(id='overload', ctx=Load())], returns=Subscript(value=Name(id='Type', ctx=Load()), slice=Name(id='T', ctx=Load()), ctx=Load())), FunctionDef(name='auto', args=arguments(posonlyargs=[], args=[], kwonlyargs=[arg(arg='angular', annotation=Name(id='bool', ctx=Load()))], kw_defaults=[Constant(value=False)], defaults=[]), body=[Expr(value=Constant(value=Ellipsis))], decorator_list=[Name(id='overload', ctx=Load())], returns=Subscript(value=Name(id='Callable', ctx=Load()), slice=Tuple(elts=[List(elts=[Subscript(value=Name(id='Type', ctx=Load()), slice=Name(id='T', ctx=Load()), ctx=Load())], ctx=Load()), Subscript(value=Name(id='Type', ctx=Load()), slice=Name(id='T', ctx=Load()), ctx=Load())], ctx=Load()), ctx=Load())), FunctionDef(name='auto', args=arguments(posonlyargs=[], args=[arg(arg='cls', annotation=Subscript(value=Name(id='Optional', ctx=Load()), slice=Subscript(value=Name(id='Type', ctx=Load()), slice=Name(id='T', ctx=Load()), ctx=Load()), ctx=Load()))], kwonlyargs=[arg(arg='angular', annotation=Subscript(value=Name(id='Optional', ctx=Load()), slice=Name(id='bool', ctx=Load()), ctx=Load()))], kw_defaults=[Constant(value=None)], defaults=[Constant(value=None)]), body=[Expr(value=Constant(value='Class decorator to create __repr__ from __rich_repr__')), FunctionDef(name='do_replace', args=arguments(posonlyargs=[], args=[arg(arg='cls', annotation=Subscript(value=Name(id='Type', ctx=Load()), slice=Name(id='T', ctx=Load()), ctx=Load())), arg(arg='angular', annotation=Subscript(value=Name(id='Optional', ctx=Load()), slice=Name(id='bool', ctx=Load()), ctx=Load()))], kwonlyargs=[], kw_defaults=[], defaults=[Constant(value=None)]), body=[FunctionDef(name='auto_repr', args=arguments(posonlyargs=[], args=[arg(arg='self', annotation=Name(id='T', ctx=Load()))], kwonlyargs=[], kw_defaults=[], defaults=[]), body=[Expr(value=Constant(value='Create repr string from __rich_repr__')), AnnAssign(target=Name(id='repr_str', ctx=Store()), annotation=Subscript(value=Name(id='List', ctx=Load()), slice=Name(id='str', ctx=Load()), ctx=Load()), value=List(elts=[], ctx=Load()), simple=1), Assign(targets=[Name(id='append', ctx=Store())], value=Attribute(value=Name(id='repr_str', ctx=Load()), attr='append', ctx=Load())), AnnAssign(target=Name(id='angular', ctx=Store()), annotation=Name(id='bool', ctx=Load()), value=Call(func=Name(id='getattr', ctx=Load()), args=[Attribute(value=Name(id='self', ctx=Load()), attr='__rich_repr__', ctx=Load()), Constant(value='angular'), Constant(value=False)], keywords=[]), simple=1), For(target=Name(id='arg', ctx=Store()), iter=Call(func=Attribute(value=Name(id='self', ctx=Load()), attr='__rich_repr__', ctx=Load()), args=[], keywords=[]), body=[If(test=Call(func=Name(id='isinstance', ctx=Load()), args=[Name(id='arg', ctx=Load()), Name(id='tuple', ctx=Load())], keywords=[]), body=[If(test=Compare(left=Call(func=Name(id='len', ctx=Load()), args=[Name(id='arg', ctx=Load())], keywords=[]), ops=[Eq()], comparators=[Constant(value=1)]), body=[Expr(value=Call(func=Name(id='append', ctx=Load()), args=[Call(func=Name(id='repr', ctx=Load()), args=[Subscript(value=Name(id='arg', ctx=Load()), slice=Constant(value=0), ctx=Load())], keywords=[])], keywords=[]))], orelse=[Assign(targets=[Tuple(elts=[Name(id='key', ctx=Store()), Name(id='value', ctx=Store()), Starred(value=Name(id='default', ctx=Store()), ctx=Store())], ctx=Store())], value=Name(id='arg', ctx=Load())), If(test=Compare(left=Name(id='key', ctx=Load()), ops=[Is()], comparators=[Constant(value=None)]), body=[Expr(value=Call(func=Name(id='append', ctx=Load()), args=[Call(func=Name(id='repr', ctx=Load()), args=[Name(id='value', ctx=Load())], keywords=[])], keywords=[]))], orelse=[If(test=BoolOp(op=And(), values=[Name(id='default', ctx=Load()), Compare(left=Subscript(value=Name(id='default', ctx=Load()), slice=Constant(value=0), ctx=Load()), ops=[Eq()], comparators=[Name(id='value', ctx=Load())])]), body=[Continue()], orelse=[]), Expr(value=Call(func=Name(id='append', ctx=Load()), args=[JoinedStr(values=[FormattedValue(value=Name(id='key', ctx=Load()), conversion=-1), Constant(value='='), FormattedValue(value=Name(id='value', ctx=Load()), conversion=114)])], keywords=[]))])])], orelse=[Expr(value=Call(func=Name(id='append', ctx=Load()), args=[Call(func=Name(id='repr', ctx=Load()), args=[Name(id='arg', ctx=Load())], keywords=[])], keywords=[]))])], orelse=[]), If(test=Name(id='angular', ctx=Load()), body=[Return(value=JoinedStr(values=[Constant(value='<'), FormattedValue(value=Attribute(value=Attribute(value=Name(id='self', ctx=Load()), attr='__class__', ctx=Load()), attr='__name__', ctx=Load()), conversion=-1), Constant(value=' '), FormattedValue(value=Call(func=Attribute(value=Constant(value=' '), attr='join', ctx=Load()), args=[Name(id='repr_str', ctx=Load())], keywords=[]), conversion=-1), Constant(value='>')]))], orelse=[Return(value=JoinedStr(values=[FormattedValue(value=Attribute(value=Attribute(value=Name(id='self', ctx=Load()), attr='__class__', ctx=Load()), attr='__name__', ctx=Load()), conversion=-1), Constant(value='('), FormattedValue(value=Call(func=Attribute(value=Constant(value=', '), attr='join', ctx=Load()), args=[Name(id='repr_str', ctx=Load())], keywords=[]), conversion=-1), Constant(value=')')]))])], decorator_list=[], returns=Name(id='str', ctx=Load())), FunctionDef(name='auto_rich_repr', args=arguments(posonlyargs=[], args=[arg(arg='self', annotation=Subscript(value=Name(id='Type', ctx=Load()), slice=Name(id='T', ctx=Load()), ctx=Load()))], kwonlyargs=[], kw_defaults=[], defaults=[]), body=[Expr(value=Constant(value='Auto generate __rich_rep__ from signature of __init__')), Try(body=[Assign(targets=[Name(id='signature', ctx=Store())], value=Call(func=Attribute(value=Name(id='inspect', ctx=Load()), attr='signature', ctx=Load()), args=[Attribute(value=Name(id='self', ctx=Load()), attr='__init__', ctx=Load())], keywords=[])), For(target=Tuple(elts=[Name(id='name', ctx=Store()), Name(id='param', ctx=Store())], ctx=Store()), iter=Call(func=Attribute(value=Attribute(value=Name(id='signature', ctx=Load()), attr='parameters', ctx=Load()), attr='items', ctx=Load()), args=[], keywords=[]), body=[If(test=Compare(left=Attribute(value=Name(id='param', ctx=Load()), attr='kind', ctx=Load()), ops=[Eq()], comparators=[Attribute(value=Name(id='param', ctx=Load()), attr='POSITIONAL_ONLY', ctx=Load())]), body=[Expr(value=Yield(value=Call(func=Name(id='getattr', ctx=Load()), args=[Name(id='self', ctx=Load()), Name(id='name', ctx=Load())], keywords=[])))], orelse=[If(test=Compare(left=Attribute(value=Name(id='param', ctx=Load()), attr='kind', ctx=Load()), ops=[In()], comparators=[Tuple(elts=[Attribute(value=Name(id='param', ctx=Load()), attr='POSITIONAL_OR_KEYWORD', ctx=Load()), Attribute(value=Name(id='param', ctx=Load()), attr='KEYWORD_ONLY', ctx=Load())], ctx=Load())]), body=[If(test=Compare(left=Attribute(value=Name(id='param', ctx=Load()), attr='default', ctx=Load()), ops=[Eq()], comparators=[Attribute(value=Name(id='param', ctx=Load()), attr='empty', ctx=Load())]), body=[Expr(value=Yield(value=Call(func=Name(id='getattr', ctx=Load()), args=[Name(id='self', ctx=Load()), Attribute(value=Name(id='param', ctx=Load()), attr='name', ctx=Load())], keywords=[])))], orelse=[Expr(value=Yield(value=Tuple(elts=[Attribute(value=Name(id='param', ctx=Load()), attr='name', ctx=Load()), Call(func=Name(id='getattr', ctx=Load()), args=[Name(id='self', ctx=Load()), Attribute(value=Name(id='param', ctx=Load()), attr='name', ctx=Load())], keywords=[]), Attribute(value=Name(id='param', ctx=Load()), attr='default', ctx=Load())], ctx=Load())))])], orelse=[])])], orelse=[])], handlers=[ExceptHandler(type=Name(id='Exception', ctx=Load()), name='error', body=[Raise(exc=Call(func=Name(id='ReprError', ctx=Load()), args=[JoinedStr(values=[Constant(value='Failed to auto generate __rich_repr__; '), FormattedValue(value=Name(id='error', ctx=Load()), conversion=-1)])], keywords=[]), cause=Constant(value=None))])], orelse=[], finalbody=[])], decorator_list=[], returns=Name(id='Result', ctx=Load())), If(test=UnaryOp(op=Not(), operand=Call(func=Name(id='hasattr', ctx=Load()), args=[Name(id='cls', ctx=Load()), Constant(value='__rich_repr__')], keywords=[])), body=[Assign(targets=[Attribute(value=Name(id='auto_rich_repr', ctx=Load()), attr='__doc__', ctx=Store())], value=Constant(value='Build a rich repr')), Assign(targets=[Attribute(value=Name(id='cls', ctx=Load()), attr='__rich_repr__', ctx=Store())], value=Name(id='auto_rich_repr', ctx=Load()))], orelse=[]), Assign(targets=[Attribute(value=Name(id='auto_repr', ctx=Load()), attr='__doc__', ctx=Store())], value=Constant(value='Return repr(self)')), Assign(targets=[Attribute(value=Name(id='cls', ctx=Load()), attr='__repr__', ctx=Store())], value=Name(id='auto_repr', ctx=Load())), If(test=Compare(left=Name(id='angular', ctx=Load()), ops=[IsNot()], comparators=[Constant(value=None)]), body=[Assign(targets=[Attribute(value=Attribute(value=Name(id='cls', ctx=Load()), attr='__rich_repr__', ctx=Load()), attr='angular', ctx=Store())], value=Name(id='angular', ctx=Load()))], orelse=[]), Return(value=Name(id='cls', ctx=Load()))], decorator_list=[], returns=Subscript(value=Name(id='Type', ctx=Load()), slice=Name(id='T', ctx=Load()), ctx=Load())), If(test=Compare(left=Name(id='cls', ctx=Load()), ops=[Is()], comparators=[Constant(value=None)]), body=[Return(value=Call(func=Name(id='partial', ctx=Load()), args=[Name(id='do_replace', ctx=Load())], keywords=[keyword(arg='angular', value=Name(id='angular', ctx=Load()))]))], orelse=[Return(value=Call(func=Name(id='do_replace', ctx=Load()), args=[Name(id='cls', ctx=Load())], keywords=[keyword(arg='angular', value=Name(id='angular', ctx=Load()))]))])], decorator_list=[], returns=Subscript(value=Name(id='Union', ctx=Load()), slice=Tuple(elts=[Subscript(value=Name(id='Type', ctx=Load()), slice=Name(id='T', ctx=Load()), ctx=Load()), Subscript(value=Name(id='Callable', ctx=Load()), slice=Tuple(elts=[List(elts=[Subscript(value=Name(id='Type', ctx=Load()), slice=Name(id='T', ctx=Load()), ctx=Load())], ctx=Load()), Subscript(value=Name(id='Type', ctx=Load()), slice=Name(id='T', ctx=Load()), ctx=Load())], ctx=Load()), ctx=Load())], ctx=Load()), ctx=Load())), FunctionDef(name='rich_repr', args=arguments(posonlyargs=[], args=[arg(arg='cls', annotation=Subscript(value=Name(id='Optional', ctx=Load()), slice=Subscript(value=Name(id='Type', ctx=Load()), slice=Name(id='T', ctx=Load()), ctx=Load()), ctx=Load()))], kwonlyargs=[], kw_defaults=[], defaults=[]), body=[Expr(value=Constant(value=Ellipsis))], decorator_list=[Name(id='overload', ctx=Load())], returns=Subscript(value=Name(id='Type', ctx=Load()), slice=Name(id='T', ctx=Load()), ctx=Load())), FunctionDef(name='rich_repr', args=arguments(posonlyargs=[], args=[], kwonlyargs=[arg(arg='angular', annotation=Name(id='bool', ctx=Load()))], kw_defaults=[Constant(value=False)], defaults=[]), body=[Expr(value=Constant(value=Ellipsis))], decorator_list=[Name(id='overload', ctx=Load())], returns=Subscript(value=Name(id='Callable', ctx=Load()), slice=Tuple(elts=[List(elts=[Subscript(value=Name(id='Type', ctx=Load()), slice=Name(id='T', ctx=Load()), ctx=Load())], ctx=Load()), Subscript(value=Name(id='Type', ctx=Load()), slice=Name(id='T', ctx=Load()), ctx=Load())], ctx=Load()), ctx=Load())), FunctionDef(name='rich_repr', args=arguments(posonlyargs=[], args=[arg(arg='cls', annotation=Subscript(value=Name(id='Optional', ctx=Load()), slice=Subscript(value=Name(id='Type', ctx=Load()), slice=Name(id='T', ctx=Load()), ctx=Load()), ctx=Load()))], kwonlyargs=[arg(arg='angular', annotation=Name(id='bool', ctx=Load()))], kw_defaults=[Constant(value=False)], defaults=[Constant(value=None)]), body=[If(test=Compare(left=Name(id='cls', ctx=Load()), ops=[Is()], comparators=[Constant(value=None)]), body=[Return(value=Call(func=Name(id='auto', ctx=Load()), args=[], keywords=[keyword(arg='angular', value=Name(id='angular', ctx=Load()))]))], orelse=[Return(value=Call(func=Name(id='auto', ctx=Load()), args=[Name(id='cls', ctx=Load())], keywords=[]))])], decorator_list=[], returns=Subscript(value=Name(id='Union', ctx=Load()), slice=Tuple(elts=[Subscript(value=Name(id='Type', ctx=Load()), slice=Name(id='T', ctx=Load()), ctx=Load()), Subscript(value=Name(id='Callable', ctx=Load()), slice=Tuple(elts=[List(elts=[Subscript(value=Name(id='Type', ctx=Load()), slice=Name(id='T', ctx=Load()), ctx=Load())], ctx=Load()), Subscript(value=Name(id='Type', ctx=Load()), slice=Name(id='T', ctx=Load()), ctx=Load())], ctx=Load()), ctx=Load())], ctx=Load()), ctx=Load())), If(test=Compare(left=Name(id='__name__', ctx=Load()), ops=[Eq()], comparators=[Constant(value='__main__')]), body=[ClassDef(name='Foo', bases=[], keywords=[], body=[FunctionDef(name='__rich_repr__', args=arguments(posonlyargs=[], args=[arg(arg='self')], kwonlyargs=[], kw_defaults=[], defaults=[]), body=[Expr(value=Yield(value=Constant(value='foo'))), Expr(value=Yield(value=Tuple(elts=[Constant(value='bar'), Dict(keys=[Constant(value='shopping')], values=[List(elts=[Constant(value='eggs'), Constant(value='ham'), Constant(value='pineapple')], ctx=Load())])], ctx=Load()))), Expr(value=Yield(value=Tuple(elts=[Constant(value='buy'), Constant(value='hand sanitizer')], ctx=Load())))], decorator_list=[], returns=Name(id='Result', ctx=Load()))], decorator_list=[Name(id='auto', ctx=Load())]), Assign(targets=[Name(id='foo', ctx=Store())], value=Call(func=Name(id='Foo', ctx=Load()), args=[], keywords=[])), ImportFrom(module='pip._vendor.rich.console', names=[alias(name='Console')], level=0), Assign(targets=[Name(id='console', ctx=Store())], value=Call(func=Name(id='Console', ctx=Load()), args=[], keywords=[])), Expr(value=Call(func=Attribute(value=Name(id='console', ctx=Load()), attr='rule', ctx=Load()), args=[Constant(value='Standard repr')], keywords=[])), Expr(value=Call(func=Attribute(value=Name(id='console', ctx=Load()), attr='print', ctx=Load()), args=[Name(id='foo', ctx=Load())], keywords=[])), Expr(value=Call(func=Attribute(value=Name(id='console', ctx=Load()), attr='print', ctx=Load()), args=[Name(id='foo', ctx=Load())], keywords=[keyword(arg='width', value=Constant(value=60))])), Expr(value=Call(func=Attribute(value=Name(id='console', ctx=Load()), attr='print', ctx=Load()), args=[Name(id='foo', ctx=Load())], keywords=[keyword(arg='width', value=Constant(value=30))])), Expr(value=Call(func=Attribute(value=Name(id='console', ctx=Load()), attr='rule', ctx=Load()), args=[Constant(value='Angular repr')], keywords=[])), Assign(targets=[Attribute(value=Attribute(value=Name(id='Foo', ctx=Load()), attr='__rich_repr__', ctx=Load()), attr='angular', ctx=Store())], value=Constant(value=True)), Expr(value=Call(func=Attribute(value=Name(id='console', ctx=Load()), attr='print', ctx=Load()), args=[Name(id='foo', ctx=Load())], keywords=[])), Expr(value=Call(func=Attribute(value=Name(id='console', ctx=Load()), attr='print', ctx=Load()), args=[Name(id='foo', ctx=Load())], keywords=[keyword(arg='width', value=Constant(value=60))])), Expr(value=Call(func=Attribute(value=Name(id='console', ctx=Load()), attr='print', ctx=Load()), args=[Name(id='foo', ctx=Load())], keywords=[keyword(arg='width', value=Constant(value=30))]))], orelse=[])], type_ignores=[])