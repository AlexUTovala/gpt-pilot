Module(body=[ImportFrom(module='typing', names=[alias(name='List'), alias(name='Optional'), alias(name='Union')], level=0), ImportFrom(module='charsetprober', names=[alias(name='CharSetProber')], level=1), ImportFrom(module='enums', names=[alias(name='LanguageFilter'), alias(name='ProbingState')], level=1), ClassDef(name='CharSetGroupProber', bases=[Name(id='CharSetProber', ctx=Load())], keywords=[], body=[FunctionDef(name='__init__', args=arguments(posonlyargs=[], args=[arg(arg='self'), arg(arg='lang_filter', annotation=Name(id='LanguageFilter', ctx=Load()))], kwonlyargs=[], kw_defaults=[], defaults=[Attribute(value=Name(id='LanguageFilter', ctx=Load()), attr='NONE', ctx=Load())]), body=[Expr(value=Call(func=Attribute(value=Call(func=Name(id='super', ctx=Load()), args=[], keywords=[]), attr='__init__', ctx=Load()), args=[], keywords=[keyword(arg='lang_filter', value=Name(id='lang_filter', ctx=Load()))])), Assign(targets=[Attribute(value=Name(id='self', ctx=Load()), attr='_active_num', ctx=Store())], value=Constant(value=0)), AnnAssign(target=Attribute(value=Name(id='self', ctx=Load()), attr='probers', ctx=Store()), annotation=Subscript(value=Name(id='List', ctx=Load()), slice=Name(id='CharSetProber', ctx=Load()), ctx=Load()), value=List(elts=[], ctx=Load()), simple=0), AnnAssign(target=Attribute(value=Name(id='self', ctx=Load()), attr='_best_guess_prober', ctx=Store()), annotation=Subscript(value=Name(id='Optional', ctx=Load()), slice=Name(id='CharSetProber', ctx=Load()), ctx=Load()), value=Constant(value=None), simple=0)], decorator_list=[], returns=Constant(value=None)), FunctionDef(name='reset', args=arguments(posonlyargs=[], args=[arg(arg='self')], kwonlyargs=[], kw_defaults=[], defaults=[]), body=[Expr(value=Call(func=Attribute(value=Call(func=Name(id='super', ctx=Load()), args=[], keywords=[]), attr='reset', ctx=Load()), args=[], keywords=[])), Assign(targets=[Attribute(value=Name(id='self', ctx=Load()), attr='_active_num', ctx=Store())], value=Constant(value=0)), For(target=Name(id='prober', ctx=Store()), iter=Attribute(value=Name(id='self', ctx=Load()), attr='probers', ctx=Load()), body=[Expr(value=Call(func=Attribute(value=Name(id='prober', ctx=Load()), attr='reset', ctx=Load()), args=[], keywords=[])), Assign(targets=[Attribute(value=Name(id='prober', ctx=Load()), attr='active', ctx=Store())], value=Constant(value=True)), AugAssign(target=Attribute(value=Name(id='self', ctx=Load()), attr='_active_num', ctx=Store()), op=Add(), value=Constant(value=1))], orelse=[]), Assign(targets=[Attribute(value=Name(id='self', ctx=Load()), attr='_best_guess_prober', ctx=Store())], value=Constant(value=None))], decorator_list=[], returns=Constant(value=None)), FunctionDef(name='charset_name', args=arguments(posonlyargs=[], args=[arg(arg='self')], kwonlyargs=[], kw_defaults=[], defaults=[]), body=[If(test=UnaryOp(op=Not(), operand=Attribute(value=Name(id='self', ctx=Load()), attr='_best_guess_prober', ctx=Load())), body=[Expr(value=Call(func=Attribute(value=Name(id='self', ctx=Load()), attr='get_confidence', ctx=Load()), args=[], keywords=[])), If(test=UnaryOp(op=Not(), operand=Attribute(value=Name(id='self', ctx=Load()), attr='_best_guess_prober', ctx=Load())), body=[Return(value=Constant(value=None))], orelse=[])], orelse=[]), Return(value=Attribute(value=Attribute(value=Name(id='self', ctx=Load()), attr='_best_guess_prober', ctx=Load()), attr='charset_name', ctx=Load()))], decorator_list=[Name(id='property', ctx=Load())], returns=Subscript(value=Name(id='Optional', ctx=Load()), slice=Name(id='str', ctx=Load()), ctx=Load())), FunctionDef(name='language', args=arguments(posonlyargs=[], args=[arg(arg='self')], kwonlyargs=[], kw_defaults=[], defaults=[]), body=[If(test=UnaryOp(op=Not(), operand=Attribute(value=Name(id='self', ctx=Load()), attr='_best_guess_prober', ctx=Load())), body=[Expr(value=Call(func=Attribute(value=Name(id='self', ctx=Load()), attr='get_confidence', ctx=Load()), args=[], keywords=[])), If(test=UnaryOp(op=Not(), operand=Attribute(value=Name(id='self', ctx=Load()), attr='_best_guess_prober', ctx=Load())), body=[Return(value=Constant(value=None))], orelse=[])], orelse=[]), Return(value=Attribute(value=Attribute(value=Name(id='self', ctx=Load()), attr='_best_guess_prober', ctx=Load()), attr='language', ctx=Load()))], decorator_list=[Name(id='property', ctx=Load())], returns=Subscript(value=Name(id='Optional', ctx=Load()), slice=Name(id='str', ctx=Load()), ctx=Load())), FunctionDef(name='feed', args=arguments(posonlyargs=[], args=[arg(arg='self'), arg(arg='byte_str', annotation=Subscript(value=Name(id='Union', ctx=Load()), slice=Tuple(elts=[Name(id='bytes', ctx=Load()), Name(id='bytearray', ctx=Load())], ctx=Load()), ctx=Load()))], kwonlyargs=[], kw_defaults=[], defaults=[]), body=[For(target=Name(id='prober', ctx=Store()), iter=Attribute(value=Name(id='self', ctx=Load()), attr='probers', ctx=Load()), body=[If(test=UnaryOp(op=Not(), operand=Attribute(value=Name(id='prober', ctx=Load()), attr='active', ctx=Load())), body=[Continue()], orelse=[]), Assign(targets=[Name(id='state', ctx=Store())], value=Call(func=Attribute(value=Name(id='prober', ctx=Load()), attr='feed', ctx=Load()), args=[Name(id='byte_str', ctx=Load())], keywords=[])), If(test=UnaryOp(op=Not(), operand=Name(id='state', ctx=Load())), body=[Continue()], orelse=[]), If(test=Compare(left=Name(id='state', ctx=Load()), ops=[Eq()], comparators=[Attribute(value=Name(id='ProbingState', ctx=Load()), attr='FOUND_IT', ctx=Load())]), body=[Assign(targets=[Attribute(value=Name(id='self', ctx=Load()), attr='_best_guess_prober', ctx=Store())], value=Name(id='prober', ctx=Load())), Assign(targets=[Attribute(value=Name(id='self', ctx=Load()), attr='_state', ctx=Store())], value=Attribute(value=Name(id='ProbingState', ctx=Load()), attr='FOUND_IT', ctx=Load())), Return(value=Attribute(value=Name(id='self', ctx=Load()), attr='state', ctx=Load()))], orelse=[]), If(test=Compare(left=Name(id='state', ctx=Load()), ops=[Eq()], comparators=[Attribute(value=Name(id='ProbingState', ctx=Load()), attr='NOT_ME', ctx=Load())]), body=[Assign(targets=[Attribute(value=Name(id='prober', ctx=Load()), attr='active', ctx=Store())], value=Constant(value=False)), AugAssign(target=Attribute(value=Name(id='self', ctx=Load()), attr='_active_num', ctx=Store()), op=Sub(), value=Constant(value=1)), If(test=Compare(left=Attribute(value=Name(id='self', ctx=Load()), attr='_active_num', ctx=Load()), ops=[LtE()], comparators=[Constant(value=0)]), body=[Assign(targets=[Attribute(value=Name(id='self', ctx=Load()), attr='_state', ctx=Store())], value=Attribute(value=Name(id='ProbingState', ctx=Load()), attr='NOT_ME', ctx=Load())), Return(value=Attribute(value=Name(id='self', ctx=Load()), attr='state', ctx=Load()))], orelse=[])], orelse=[])], orelse=[]), Return(value=Attribute(value=Name(id='self', ctx=Load()), attr='state', ctx=Load()))], decorator_list=[], returns=Name(id='ProbingState', ctx=Load())), FunctionDef(name='get_confidence', args=arguments(posonlyargs=[], args=[arg(arg='self')], kwonlyargs=[], kw_defaults=[], defaults=[]), body=[Assign(targets=[Name(id='state', ctx=Store())], value=Attribute(value=Name(id='self', ctx=Load()), attr='state', ctx=Load())), If(test=Compare(left=Name(id='state', ctx=Load()), ops=[Eq()], comparators=[Attribute(value=Name(id='ProbingState', ctx=Load()), attr='FOUND_IT', ctx=Load())]), body=[Return(value=Constant(value=0.99))], orelse=[]), If(test=Compare(left=Name(id='state', ctx=Load()), ops=[Eq()], comparators=[Attribute(value=Name(id='ProbingState', ctx=Load()), attr='NOT_ME', ctx=Load())]), body=[Return(value=Constant(value=0.01))], orelse=[]), Assign(targets=[Name(id='best_conf', ctx=Store())], value=Constant(value=0.0)), Assign(targets=[Attribute(value=Name(id='self', ctx=Load()), attr='_best_guess_prober', ctx=Store())], value=Constant(value=None)), For(target=Name(id='prober', ctx=Store()), iter=Attribute(value=Name(id='self', ctx=Load()), attr='probers', ctx=Load()), body=[If(test=UnaryOp(op=Not(), operand=Attribute(value=Name(id='prober', ctx=Load()), attr='active', ctx=Load())), body=[Expr(value=Call(func=Attribute(value=Attribute(value=Name(id='self', ctx=Load()), attr='logger', ctx=Load()), attr='debug', ctx=Load()), args=[Constant(value='%s not active'), Attribute(value=Name(id='prober', ctx=Load()), attr='charset_name', ctx=Load())], keywords=[])), Continue()], orelse=[]), Assign(targets=[Name(id='conf', ctx=Store())], value=Call(func=Attribute(value=Name(id='prober', ctx=Load()), attr='get_confidence', ctx=Load()), args=[], keywords=[])), Expr(value=Call(func=Attribute(value=Attribute(value=Name(id='self', ctx=Load()), attr='logger', ctx=Load()), attr='debug', ctx=Load()), args=[Constant(value='%s %s confidence = %s'), Attribute(value=Name(id='prober', ctx=Load()), attr='charset_name', ctx=Load()), Attribute(value=Name(id='prober', ctx=Load()), attr='language', ctx=Load()), Name(id='conf', ctx=Load())], keywords=[])), If(test=Compare(left=Name(id='best_conf', ctx=Load()), ops=[Lt()], comparators=[Name(id='conf', ctx=Load())]), body=[Assign(targets=[Name(id='best_conf', ctx=Store())], value=Name(id='conf', ctx=Load())), Assign(targets=[Attribute(value=Name(id='self', ctx=Load()), attr='_best_guess_prober', ctx=Store())], value=Name(id='prober', ctx=Load()))], orelse=[])], orelse=[]), If(test=UnaryOp(op=Not(), operand=Attribute(value=Name(id='self', ctx=Load()), attr='_best_guess_prober', ctx=Load())), body=[Return(value=Constant(value=0.0))], orelse=[]), Return(value=Name(id='best_conf', ctx=Load()))], decorator_list=[], returns=Name(id='float', ctx=Load()))], decorator_list=[])], type_ignores=[])