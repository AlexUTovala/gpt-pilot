Module(body=[Expr(value=Constant(value='\n    pygments.formatters.terminal256\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n\n    Formatter for 256-color terminal output with ANSI sequences.\n\n    RGB-to-XTERM color conversion routines adapted from xterm256-conv\n    tool (http://frexx.de/xterm-256-notes/data/xterm256-conv2.tar.bz2)\n    by Wolfgang Frisch.\n\n    Formatter version 1.\n\n    :copyright: Copyright 2006-2023 by the Pygments team, see AUTHORS.\n    :license: BSD, see LICENSE for details.\n')), ImportFrom(module='pip._vendor.pygments.formatter', names=[alias(name='Formatter')], level=0), ImportFrom(module='pip._vendor.pygments.console', names=[alias(name='codes')], level=0), ImportFrom(module='pip._vendor.pygments.style', names=[alias(name='ansicolors')], level=0), Assign(targets=[Name(id='__all__', ctx=Store())], value=List(elts=[Constant(value='Terminal256Formatter'), Constant(value='TerminalTrueColorFormatter')], ctx=Load())), ClassDef(name='EscapeSequence', bases=[], keywords=[], body=[FunctionDef(name='__init__', args=arguments(posonlyargs=[], args=[arg(arg='self'), arg(arg='fg'), arg(arg='bg'), arg(arg='bold'), arg(arg='underline'), arg(arg='italic')], kwonlyargs=[], kw_defaults=[], defaults=[Constant(value=None), Constant(value=None), Constant(value=False), Constant(value=False), Constant(value=False)]), body=[Assign(targets=[Attribute(value=Name(id='self', ctx=Load()), attr='fg', ctx=Store())], value=Name(id='fg', ctx=Load())), Assign(targets=[Attribute(value=Name(id='self', ctx=Load()), attr='bg', ctx=Store())], value=Name(id='bg', ctx=Load())), Assign(targets=[Attribute(value=Name(id='self', ctx=Load()), attr='bold', ctx=Store())], value=Name(id='bold', ctx=Load())), Assign(targets=[Attribute(value=Name(id='self', ctx=Load()), attr='underline', ctx=Store())], value=Name(id='underline', ctx=Load())), Assign(targets=[Attribute(value=Name(id='self', ctx=Load()), attr='italic', ctx=Store())], value=Name(id='italic', ctx=Load()))], decorator_list=[]), FunctionDef(name='escape', args=arguments(posonlyargs=[], args=[arg(arg='self'), arg(arg='attrs')], kwonlyargs=[], kw_defaults=[], defaults=[]), body=[If(test=Call(func=Name(id='len', ctx=Load()), args=[Name(id='attrs', ctx=Load())], keywords=[]), body=[Return(value=BinOp(left=BinOp(left=Constant(value='\x1b['), op=Add(), right=Call(func=Attribute(value=Constant(value=';'), attr='join', ctx=Load()), args=[Name(id='attrs', ctx=Load())], keywords=[])), op=Add(), right=Constant(value='m')))], orelse=[]), Return(value=Constant(value=''))], decorator_list=[]), FunctionDef(name='color_string', args=arguments(posonlyargs=[], args=[arg(arg='self')], kwonlyargs=[], kw_defaults=[], defaults=[]), body=[Assign(targets=[Name(id='attrs', ctx=Store())], value=List(elts=[], ctx=Load())), If(test=Compare(left=Attribute(value=Name(id='self', ctx=Load()), attr='fg', ctx=Load()), ops=[IsNot()], comparators=[Constant(value=None)]), body=[If(test=Compare(left=Attribute(value=Name(id='self', ctx=Load()), attr='fg', ctx=Load()), ops=[In()], comparators=[Name(id='ansicolors', ctx=Load())]), body=[Assign(targets=[Name(id='esc', ctx=Store())], value=Subscript(value=Name(id='codes', ctx=Load()), slice=Call(func=Attribute(value=Attribute(value=Name(id='self', ctx=Load()), attr='fg', ctx=Load()), attr='replace', ctx=Load()), args=[Constant(value='ansi'), Constant(value='')], keywords=[]), ctx=Load())), If(test=Compare(left=Constant(value=';01m'), ops=[In()], comparators=[Name(id='esc', ctx=Load())]), body=[Assign(targets=[Attribute(value=Name(id='self', ctx=Load()), attr='bold', ctx=Store())], value=Constant(value=True))], orelse=[]), Expr(value=Call(func=Attribute(value=Name(id='attrs', ctx=Load()), attr='append', ctx=Load()), args=[Subscript(value=Name(id='esc', ctx=Load()), slice=Slice(lower=Constant(value=2), upper=Constant(value=4)), ctx=Load())], keywords=[]))], orelse=[Expr(value=Call(func=Attribute(value=Name(id='attrs', ctx=Load()), attr='extend', ctx=Load()), args=[Tuple(elts=[Constant(value='38'), Constant(value='5'), BinOp(left=Constant(value='%i'), op=Mod(), right=Attribute(value=Name(id='self', ctx=Load()), attr='fg', ctx=Load()))], ctx=Load())], keywords=[]))])], orelse=[]), If(test=Compare(left=Attribute(value=Name(id='self', ctx=Load()), attr='bg', ctx=Load()), ops=[IsNot()], comparators=[Constant(value=None)]), body=[If(test=Compare(left=Attribute(value=Name(id='self', ctx=Load()), attr='bg', ctx=Load()), ops=[In()], comparators=[Name(id='ansicolors', ctx=Load())]), body=[Assign(targets=[Name(id='esc', ctx=Store())], value=Subscript(value=Name(id='codes', ctx=Load()), slice=Call(func=Attribute(value=Attribute(value=Name(id='self', ctx=Load()), attr='bg', ctx=Load()), attr='replace', ctx=Load()), args=[Constant(value='ansi'), Constant(value='')], keywords=[]), ctx=Load())), Expr(value=Call(func=Attribute(value=Name(id='attrs', ctx=Load()), attr='append', ctx=Load()), args=[Call(func=Name(id='str', ctx=Load()), args=[BinOp(left=Call(func=Name(id='int', ctx=Load()), args=[Subscript(value=Name(id='esc', ctx=Load()), slice=Slice(lower=Constant(value=2), upper=Constant(value=4)), ctx=Load())], keywords=[]), op=Add(), right=Constant(value=10))], keywords=[])], keywords=[]))], orelse=[Expr(value=Call(func=Attribute(value=Name(id='attrs', ctx=Load()), attr='extend', ctx=Load()), args=[Tuple(elts=[Constant(value='48'), Constant(value='5'), BinOp(left=Constant(value='%i'), op=Mod(), right=Attribute(value=Name(id='self', ctx=Load()), attr='bg', ctx=Load()))], ctx=Load())], keywords=[]))])], orelse=[]), If(test=Attribute(value=Name(id='self', ctx=Load()), attr='bold', ctx=Load()), body=[Expr(value=Call(func=Attribute(value=Name(id='attrs', ctx=Load()), attr='append', ctx=Load()), args=[Constant(value='01')], keywords=[]))], orelse=[]), If(test=Attribute(value=Name(id='self', ctx=Load()), attr='underline', ctx=Load()), body=[Expr(value=Call(func=Attribute(value=Name(id='attrs', ctx=Load()), attr='append', ctx=Load()), args=[Constant(value='04')], keywords=[]))], orelse=[]), If(test=Attribute(value=Name(id='self', ctx=Load()), attr='italic', ctx=Load()), body=[Expr(value=Call(func=Attribute(value=Name(id='attrs', ctx=Load()), attr='append', ctx=Load()), args=[Constant(value='03')], keywords=[]))], orelse=[]), Return(value=Call(func=Attribute(value=Name(id='self', ctx=Load()), attr='escape', ctx=Load()), args=[Name(id='attrs', ctx=Load())], keywords=[]))], decorator_list=[]), FunctionDef(name='true_color_string', args=arguments(posonlyargs=[], args=[arg(arg='self')], kwonlyargs=[], kw_defaults=[], defaults=[]), body=[Assign(targets=[Name(id='attrs', ctx=Store())], value=List(elts=[], ctx=Load())), If(test=Attribute(value=Name(id='self', ctx=Load()), attr='fg', ctx=Load()), body=[Expr(value=Call(func=Attribute(value=Name(id='attrs', ctx=Load()), attr='extend', ctx=Load()), args=[Tuple(elts=[Constant(value='38'), Constant(value='2'), Call(func=Name(id='str', ctx=Load()), args=[Subscript(value=Attribute(value=Name(id='self', ctx=Load()), attr='fg', ctx=Load()), slice=Constant(value=0), ctx=Load())], keywords=[]), Call(func=Name(id='str', ctx=Load()), args=[Subscript(value=Attribute(value=Name(id='self', ctx=Load()), attr='fg', ctx=Load()), slice=Constant(value=1), ctx=Load())], keywords=[]), Call(func=Name(id='str', ctx=Load()), args=[Subscript(value=Attribute(value=Name(id='self', ctx=Load()), attr='fg', ctx=Load()), slice=Constant(value=2), ctx=Load())], keywords=[])], ctx=Load())], keywords=[]))], orelse=[]), If(test=Attribute(value=Name(id='self', ctx=Load()), attr='bg', ctx=Load()), body=[Expr(value=Call(func=Attribute(value=Name(id='attrs', ctx=Load()), attr='extend', ctx=Load()), args=[Tuple(elts=[Constant(value='48'), Constant(value='2'), Call(func=Name(id='str', ctx=Load()), args=[Subscript(value=Attribute(value=Name(id='self', ctx=Load()), attr='bg', ctx=Load()), slice=Constant(value=0), ctx=Load())], keywords=[]), Call(func=Name(id='str', ctx=Load()), args=[Subscript(value=Attribute(value=Name(id='self', ctx=Load()), attr='bg', ctx=Load()), slice=Constant(value=1), ctx=Load())], keywords=[]), Call(func=Name(id='str', ctx=Load()), args=[Subscript(value=Attribute(value=Name(id='self', ctx=Load()), attr='bg', ctx=Load()), slice=Constant(value=2), ctx=Load())], keywords=[])], ctx=Load())], keywords=[]))], orelse=[]), If(test=Attribute(value=Name(id='self', ctx=Load()), attr='bold', ctx=Load()), body=[Expr(value=Call(func=Attribute(value=Name(id='attrs', ctx=Load()), attr='append', ctx=Load()), args=[Constant(value='01')], keywords=[]))], orelse=[]), If(test=Attribute(value=Name(id='self', ctx=Load()), attr='underline', ctx=Load()), body=[Expr(value=Call(func=Attribute(value=Name(id='attrs', ctx=Load()), attr='append', ctx=Load()), args=[Constant(value='04')], keywords=[]))], orelse=[]), If(test=Attribute(value=Name(id='self', ctx=Load()), attr='italic', ctx=Load()), body=[Expr(value=Call(func=Attribute(value=Name(id='attrs', ctx=Load()), attr='append', ctx=Load()), args=[Constant(value='03')], keywords=[]))], orelse=[]), Return(value=Call(func=Attribute(value=Name(id='self', ctx=Load()), attr='escape', ctx=Load()), args=[Name(id='attrs', ctx=Load())], keywords=[]))], decorator_list=[]), FunctionDef(name='reset_string', args=arguments(posonlyargs=[], args=[arg(arg='self')], kwonlyargs=[], kw_defaults=[], defaults=[]), body=[Assign(targets=[Name(id='attrs', ctx=Store())], value=List(elts=[], ctx=Load())), If(test=Compare(left=Attribute(value=Name(id='self', ctx=Load()), attr='fg', ctx=Load()), ops=[IsNot()], comparators=[Constant(value=None)]), body=[Expr(value=Call(func=Attribute(value=Name(id='attrs', ctx=Load()), attr='append', ctx=Load()), args=[Constant(value='39')], keywords=[]))], orelse=[]), If(test=Compare(left=Attribute(value=Name(id='self', ctx=Load()), attr='bg', ctx=Load()), ops=[IsNot()], comparators=[Constant(value=None)]), body=[Expr(value=Call(func=Attribute(value=Name(id='attrs', ctx=Load()), attr='append', ctx=Load()), args=[Constant(value='49')], keywords=[]))], orelse=[]), If(test=BoolOp(op=Or(), values=[Attribute(value=Name(id='self', ctx=Load()), attr='bold', ctx=Load()), Attribute(value=Name(id='self', ctx=Load()), attr='underline', ctx=Load()), Attribute(value=Name(id='self', ctx=Load()), attr='italic', ctx=Load())]), body=[Expr(value=Call(func=Attribute(value=Name(id='attrs', ctx=Load()), attr='append', ctx=Load()), args=[Constant(value='00')], keywords=[]))], orelse=[]), Return(value=Call(func=Attribute(value=Name(id='self', ctx=Load()), attr='escape', ctx=Load()), args=[Name(id='attrs', ctx=Load())], keywords=[]))], decorator_list=[])], decorator_list=[]), ClassDef(name='Terminal256Formatter', bases=[Name(id='Formatter', ctx=Load())], keywords=[], body=[Expr(value=Constant(value="\n    Format tokens with ANSI color sequences, for output in a 256-color\n    terminal or console.  Like in `TerminalFormatter` color sequences\n    are terminated at newlines, so that paging the output works correctly.\n\n    The formatter takes colors from a style defined by the `style` option\n    and converts them to nearest ANSI 256-color escape sequences. Bold and\n    underline attributes from the style are preserved (and displayed).\n\n    .. versionadded:: 0.9\n\n    .. versionchanged:: 2.2\n       If the used style defines foreground colors in the form ``#ansi*``, then\n       `Terminal256Formatter` will map these to non extended foreground color.\n       See :ref:`AnsiTerminalStyle` for more information.\n\n    .. versionchanged:: 2.4\n       The ANSI color names have been updated with names that are easier to\n       understand and align with colornames of other projects and terminals.\n       See :ref:`this table <new-ansi-color-names>` for more information.\n\n\n    Options accepted:\n\n    `style`\n        The style to use, can be a string or a Style subclass (default:\n        ``'default'``).\n\n    `linenos`\n        Set to ``True`` to have line numbers on the terminal output as well\n        (default: ``False`` = no line numbers).\n    ")), Assign(targets=[Name(id='name', ctx=Store())], value=Constant(value='Terminal256')), Assign(targets=[Name(id='aliases', ctx=Store())], value=List(elts=[Constant(value='terminal256'), Constant(value='console256'), Constant(value='256')], ctx=Load())), Assign(targets=[Name(id='filenames', ctx=Store())], value=List(elts=[], ctx=Load())), FunctionDef(name='__init__', args=arguments(posonlyargs=[], args=[arg(arg='self')], kwonlyargs=[], kw_defaults=[], kwarg=arg(arg='options'), defaults=[]), body=[Expr(value=Call(func=Attribute(value=Name(id='Formatter', ctx=Load()), attr='__init__', ctx=Load()), args=[Name(id='self', ctx=Load())], keywords=[keyword(value=Name(id='options', ctx=Load()))])), Assign(targets=[Attribute(value=Name(id='self', ctx=Load()), attr='xterm_colors', ctx=Store())], value=List(elts=[], ctx=Load())), Assign(targets=[Attribute(value=Name(id='self', ctx=Load()), attr='best_match', ctx=Store())], value=Dict(keys=[], values=[])), Assign(targets=[Attribute(value=Name(id='self', ctx=Load()), attr='style_string', ctx=Store())], value=Dict(keys=[], values=[])), Assign(targets=[Attribute(value=Name(id='self', ctx=Load()), attr='usebold', ctx=Store())], value=Compare(left=Constant(value='nobold'), ops=[NotIn()], comparators=[Name(id='options', ctx=Load())])), Assign(targets=[Attribute(value=Name(id='self', ctx=Load()), attr='useunderline', ctx=Store())], value=Compare(left=Constant(value='nounderline'), ops=[NotIn()], comparators=[Name(id='options', ctx=Load())])), Assign(targets=[Attribute(value=Name(id='self', ctx=Load()), attr='useitalic', ctx=Store())], value=Compare(left=Constant(value='noitalic'), ops=[NotIn()], comparators=[Name(id='options', ctx=Load())])), Expr(value=Call(func=Attribute(value=Name(id='self', ctx=Load()), attr='_build_color_table', ctx=Load()), args=[], keywords=[])), Expr(value=Call(func=Attribute(value=Name(id='self', ctx=Load()), attr='_setup_styles', ctx=Load()), args=[], keywords=[])), Assign(targets=[Attribute(value=Name(id='self', ctx=Load()), attr='linenos', ctx=Store())], value=Call(func=Attribute(value=Name(id='options', ctx=Load()), attr='get', ctx=Load()), args=[Constant(value='linenos'), Constant(value=False)], keywords=[])), Assign(targets=[Attribute(value=Name(id='self', ctx=Load()), attr='_lineno', ctx=Store())], value=Constant(value=0))], decorator_list=[]), FunctionDef(name='_build_color_table', args=arguments(posonlyargs=[], args=[arg(arg='self')], kwonlyargs=[], kw_defaults=[], defaults=[]), body=[Expr(value=Call(func=Attribute(value=Attribute(value=Name(id='self', ctx=Load()), attr='xterm_colors', ctx=Load()), attr='append', ctx=Load()), args=[Tuple(elts=[Constant(value=0), Constant(value=0), Constant(value=0)], ctx=Load())], keywords=[])), Expr(value=Call(func=Attribute(value=Attribute(value=Name(id='self', ctx=Load()), attr='xterm_colors', ctx=Load()), attr='append', ctx=Load()), args=[Tuple(elts=[Constant(value=205), Constant(value=0), Constant(value=0)], ctx=Load())], keywords=[])), Expr(value=Call(func=Attribute(value=Attribute(value=Name(id='self', ctx=Load()), attr='xterm_colors', ctx=Load()), attr='append', ctx=Load()), args=[Tuple(elts=[Constant(value=0), Constant(value=205), Constant(value=0)], ctx=Load())], keywords=[])), Expr(value=Call(func=Attribute(value=Attribute(value=Name(id='self', ctx=Load()), attr='xterm_colors', ctx=Load()), attr='append', ctx=Load()), args=[Tuple(elts=[Constant(value=205), Constant(value=205), Constant(value=0)], ctx=Load())], keywords=[])), Expr(value=Call(func=Attribute(value=Attribute(value=Name(id='self', ctx=Load()), attr='xterm_colors', ctx=Load()), attr='append', ctx=Load()), args=[Tuple(elts=[Constant(value=0), Constant(value=0), Constant(value=238)], ctx=Load())], keywords=[])), Expr(value=Call(func=Attribute(value=Attribute(value=Name(id='self', ctx=Load()), attr='xterm_colors', ctx=Load()), attr='append', ctx=Load()), args=[Tuple(elts=[Constant(value=205), Constant(value=0), Constant(value=205)], ctx=Load())], keywords=[])), Expr(value=Call(func=Attribute(value=Attribute(value=Name(id='self', ctx=Load()), attr='xterm_colors', ctx=Load()), attr='append', ctx=Load()), args=[Tuple(elts=[Constant(value=0), Constant(value=205), Constant(value=205)], ctx=Load())], keywords=[])), Expr(value=Call(func=Attribute(value=Attribute(value=Name(id='self', ctx=Load()), attr='xterm_colors', ctx=Load()), attr='append', ctx=Load()), args=[Tuple(elts=[Constant(value=229), Constant(value=229), Constant(value=229)], ctx=Load())], keywords=[])), Expr(value=Call(func=Attribute(value=Attribute(value=Name(id='self', ctx=Load()), attr='xterm_colors', ctx=Load()), attr='append', ctx=Load()), args=[Tuple(elts=[Constant(value=127), Constant(value=127), Constant(value=127)], ctx=Load())], keywords=[])), Expr(value=Call(func=Attribute(value=Attribute(value=Name(id='self', ctx=Load()), attr='xterm_colors', ctx=Load()), attr='append', ctx=Load()), args=[Tuple(elts=[Constant(value=255), Constant(value=0), Constant(value=0)], ctx=Load())], keywords=[])), Expr(value=Call(func=Attribute(value=Attribute(value=Name(id='self', ctx=Load()), attr='xterm_colors', ctx=Load()), attr='append', ctx=Load()), args=[Tuple(elts=[Constant(value=0), Constant(value=255), Constant(value=0)], ctx=Load())], keywords=[])), Expr(value=Call(func=Attribute(value=Attribute(value=Name(id='self', ctx=Load()), attr='xterm_colors', ctx=Load()), attr='append', ctx=Load()), args=[Tuple(elts=[Constant(value=255), Constant(value=255), Constant(value=0)], ctx=Load())], keywords=[])), Expr(value=Call(func=Attribute(value=Attribute(value=Name(id='self', ctx=Load()), attr='xterm_colors', ctx=Load()), attr='append', ctx=Load()), args=[Tuple(elts=[Constant(value=92), Constant(value=92), Constant(value=255)], ctx=Load())], keywords=[])), Expr(value=Call(func=Attribute(value=Attribute(value=Name(id='self', ctx=Load()), attr='xterm_colors', ctx=Load()), attr='append', ctx=Load()), args=[Tuple(elts=[Constant(value=255), Constant(value=0), Constant(value=255)], ctx=Load())], keywords=[])), Expr(value=Call(func=Attribute(value=Attribute(value=Name(id='self', ctx=Load()), attr='xterm_colors', ctx=Load()), attr='append', ctx=Load()), args=[Tuple(elts=[Constant(value=0), Constant(value=255), Constant(value=255)], ctx=Load())], keywords=[])), Expr(value=Call(func=Attribute(value=Attribute(value=Name(id='self', ctx=Load()), attr='xterm_colors', ctx=Load()), attr='append', ctx=Load()), args=[Tuple(elts=[Constant(value=255), Constant(value=255), Constant(value=255)], ctx=Load())], keywords=[])), Assign(targets=[Name(id='valuerange', ctx=Store())], value=Tuple(elts=[Constant(value=0), Constant(value=95), Constant(value=135), Constant(value=175), Constant(value=215), Constant(value=255)], ctx=Load())), For(target=Name(id='i', ctx=Store()), iter=Call(func=Name(id='range', ctx=Load()), args=[Constant(value=217)], keywords=[]), body=[Assign(targets=[Name(id='r', ctx=Store())], value=Subscript(value=Name(id='valuerange', ctx=Load()), slice=BinOp(left=BinOp(left=Name(id='i', ctx=Load()), op=FloorDiv(), right=Constant(value=36)), op=Mod(), right=Constant(value=6)), ctx=Load())), Assign(targets=[Name(id='g', ctx=Store())], value=Subscript(value=Name(id='valuerange', ctx=Load()), slice=BinOp(left=BinOp(left=Name(id='i', ctx=Load()), op=FloorDiv(), right=Constant(value=6)), op=Mod(), right=Constant(value=6)), ctx=Load())), Assign(targets=[Name(id='b', ctx=Store())], value=Subscript(value=Name(id='valuerange', ctx=Load()), slice=BinOp(left=Name(id='i', ctx=Load()), op=Mod(), right=Constant(value=6)), ctx=Load())), Expr(value=Call(func=Attribute(value=Attribute(value=Name(id='self', ctx=Load()), attr='xterm_colors', ctx=Load()), attr='append', ctx=Load()), args=[Tuple(elts=[Name(id='r', ctx=Load()), Name(id='g', ctx=Load()), Name(id='b', ctx=Load())], ctx=Load())], keywords=[]))], orelse=[]), For(target=Name(id='i', ctx=Store()), iter=Call(func=Name(id='range', ctx=Load()), args=[Constant(value=1), Constant(value=22)], keywords=[]), body=[Assign(targets=[Name(id='v', ctx=Store())], value=BinOp(left=Constant(value=8), op=Add(), right=BinOp(left=Name(id='i', ctx=Load()), op=Mult(), right=Constant(value=10)))), Expr(value=Call(func=Attribute(value=Attribute(value=Name(id='self', ctx=Load()), attr='xterm_colors', ctx=Load()), attr='append', ctx=Load()), args=[Tuple(elts=[Name(id='v', ctx=Load()), Name(id='v', ctx=Load()), Name(id='v', ctx=Load())], ctx=Load())], keywords=[]))], orelse=[])], decorator_list=[]), FunctionDef(name='_closest_color', args=arguments(posonlyargs=[], args=[arg(arg='self'), arg(arg='r'), arg(arg='g'), arg(arg='b')], kwonlyargs=[], kw_defaults=[], defaults=[]), body=[Assign(targets=[Name(id='distance', ctx=Store())], value=BinOp(left=BinOp(left=Constant(value=257), op=Mult(), right=Constant(value=257)), op=Mult(), right=Constant(value=3))), Assign(targets=[Name(id='match', ctx=Store())], value=Constant(value=0)), For(target=Name(id='i', ctx=Store()), iter=Call(func=Name(id='range', ctx=Load()), args=[Constant(value=0), Constant(value=254)], keywords=[]), body=[Assign(targets=[Name(id='values', ctx=Store())], value=Subscript(value=Attribute(value=Name(id='self', ctx=Load()), attr='xterm_colors', ctx=Load()), slice=Name(id='i', ctx=Load()), ctx=Load())), Assign(targets=[Name(id='rd', ctx=Store())], value=BinOp(left=Name(id='r', ctx=Load()), op=Sub(), right=Subscript(value=Name(id='values', ctx=Load()), slice=Constant(value=0), ctx=Load()))), Assign(targets=[Name(id='gd', ctx=Store())], value=BinOp(left=Name(id='g', ctx=Load()), op=Sub(), right=Subscript(value=Name(id='values', ctx=Load()), slice=Constant(value=1), ctx=Load()))), Assign(targets=[Name(id='bd', ctx=Store())], value=BinOp(left=Name(id='b', ctx=Load()), op=Sub(), right=Subscript(value=Name(id='values', ctx=Load()), slice=Constant(value=2), ctx=Load()))), Assign(targets=[Name(id='d', ctx=Store())], value=BinOp(left=BinOp(left=BinOp(left=Name(id='rd', ctx=Load()), op=Mult(), right=Name(id='rd', ctx=Load())), op=Add(), right=BinOp(left=Name(id='gd', ctx=Load()), op=Mult(), right=Name(id='gd', ctx=Load()))), op=Add(), right=BinOp(left=Name(id='bd', ctx=Load()), op=Mult(), right=Name(id='bd', ctx=Load())))), If(test=Compare(left=Name(id='d', ctx=Load()), ops=[Lt()], comparators=[Name(id='distance', ctx=Load())]), body=[Assign(targets=[Name(id='match', ctx=Store())], value=Name(id='i', ctx=Load())), Assign(targets=[Name(id='distance', ctx=Store())], value=Name(id='d', ctx=Load()))], orelse=[])], orelse=[]), Return(value=Name(id='match', ctx=Load()))], decorator_list=[]), FunctionDef(name='_color_index', args=arguments(posonlyargs=[], args=[arg(arg='self'), arg(arg='color')], kwonlyargs=[], kw_defaults=[], defaults=[]), body=[Assign(targets=[Name(id='index', ctx=Store())], value=Call(func=Attribute(value=Attribute(value=Name(id='self', ctx=Load()), attr='best_match', ctx=Load()), attr='get', ctx=Load()), args=[Name(id='color', ctx=Load()), Constant(value=None)], keywords=[])), If(test=Compare(left=Name(id='color', ctx=Load()), ops=[In()], comparators=[Name(id='ansicolors', ctx=Load())]), body=[Assign(targets=[Name(id='index', ctx=Store())], value=Name(id='color', ctx=Load())), Assign(targets=[Subscript(value=Attribute(value=Name(id='self', ctx=Load()), attr='best_match', ctx=Load()), slice=Name(id='color', ctx=Load()), ctx=Store())], value=Name(id='index', ctx=Load()))], orelse=[]), If(test=Compare(left=Name(id='index', ctx=Load()), ops=[Is()], comparators=[Constant(value=None)]), body=[Try(body=[Assign(targets=[Name(id='rgb', ctx=Store())], value=Call(func=Name(id='int', ctx=Load()), args=[Call(func=Name(id='str', ctx=Load()), args=[Name(id='color', ctx=Load())], keywords=[]), Constant(value=16)], keywords=[]))], handlers=[ExceptHandler(type=Name(id='ValueError', ctx=Load()), body=[Assign(targets=[Name(id='rgb', ctx=Store())], value=Constant(value=0))])], orelse=[], finalbody=[]), Assign(targets=[Name(id='r', ctx=Store())], value=BinOp(left=BinOp(left=Name(id='rgb', ctx=Load()), op=RShift(), right=Constant(value=16)), op=BitAnd(), right=Constant(value=255))), Assign(targets=[Name(id='g', ctx=Store())], value=BinOp(left=BinOp(left=Name(id='rgb', ctx=Load()), op=RShift(), right=Constant(value=8)), op=BitAnd(), right=Constant(value=255))), Assign(targets=[Name(id='b', ctx=Store())], value=BinOp(left=Name(id='rgb', ctx=Load()), op=BitAnd(), right=Constant(value=255))), Assign(targets=[Name(id='index', ctx=Store())], value=Call(func=Attribute(value=Name(id='self', ctx=Load()), attr='_closest_color', ctx=Load()), args=[Name(id='r', ctx=Load()), Name(id='g', ctx=Load()), Name(id='b', ctx=Load())], keywords=[])), Assign(targets=[Subscript(value=Attribute(value=Name(id='self', ctx=Load()), attr='best_match', ctx=Load()), slice=Name(id='color', ctx=Load()), ctx=Store())], value=Name(id='index', ctx=Load()))], orelse=[]), Return(value=Name(id='index', ctx=Load()))], decorator_list=[]), FunctionDef(name='_setup_styles', args=arguments(posonlyargs=[], args=[arg(arg='self')], kwonlyargs=[], kw_defaults=[], defaults=[]), body=[For(target=Tuple(elts=[Name(id='ttype', ctx=Store()), Name(id='ndef', ctx=Store())], ctx=Store()), iter=Attribute(value=Name(id='self', ctx=Load()), attr='style', ctx=Load()), body=[Assign(targets=[Name(id='escape', ctx=Store())], value=Call(func=Name(id='EscapeSequence', ctx=Load()), args=[], keywords=[])), If(test=Subscript(value=Name(id='ndef', ctx=Load()), slice=Constant(value='ansicolor'), ctx=Load()), body=[Assign(targets=[Attribute(value=Name(id='escape', ctx=Load()), attr='fg', ctx=Store())], value=Call(func=Attribute(value=Name(id='self', ctx=Load()), attr='_color_index', ctx=Load()), args=[Subscript(value=Name(id='ndef', ctx=Load()), slice=Constant(value='ansicolor'), ctx=Load())], keywords=[]))], orelse=[If(test=Subscript(value=Name(id='ndef', ctx=Load()), slice=Constant(value='color'), ctx=Load()), body=[Assign(targets=[Attribute(value=Name(id='escape', ctx=Load()), attr='fg', ctx=Store())], value=Call(func=Attribute(value=Name(id='self', ctx=Load()), attr='_color_index', ctx=Load()), args=[Subscript(value=Name(id='ndef', ctx=Load()), slice=Constant(value='color'), ctx=Load())], keywords=[]))], orelse=[])]), If(test=Subscript(value=Name(id='ndef', ctx=Load()), slice=Constant(value='bgansicolor'), ctx=Load()), body=[Assign(targets=[Attribute(value=Name(id='escape', ctx=Load()), attr='bg', ctx=Store())], value=Call(func=Attribute(value=Name(id='self', ctx=Load()), attr='_color_index', ctx=Load()), args=[Subscript(value=Name(id='ndef', ctx=Load()), slice=Constant(value='bgansicolor'), ctx=Load())], keywords=[]))], orelse=[If(test=Subscript(value=Name(id='ndef', ctx=Load()), slice=Constant(value='bgcolor'), ctx=Load()), body=[Assign(targets=[Attribute(value=Name(id='escape', ctx=Load()), attr='bg', ctx=Store())], value=Call(func=Attribute(value=Name(id='self', ctx=Load()), attr='_color_index', ctx=Load()), args=[Subscript(value=Name(id='ndef', ctx=Load()), slice=Constant(value='bgcolor'), ctx=Load())], keywords=[]))], orelse=[])]), If(test=BoolOp(op=And(), values=[Attribute(value=Name(id='self', ctx=Load()), attr='usebold', ctx=Load()), Subscript(value=Name(id='ndef', ctx=Load()), slice=Constant(value='bold'), ctx=Load())]), body=[Assign(targets=[Attribute(value=Name(id='escape', ctx=Load()), attr='bold', ctx=Store())], value=Constant(value=True))], orelse=[]), If(test=BoolOp(op=And(), values=[Attribute(value=Name(id='self', ctx=Load()), attr='useunderline', ctx=Load()), Subscript(value=Name(id='ndef', ctx=Load()), slice=Constant(value='underline'), ctx=Load())]), body=[Assign(targets=[Attribute(value=Name(id='escape', ctx=Load()), attr='underline', ctx=Store())], value=Constant(value=True))], orelse=[]), If(test=BoolOp(op=And(), values=[Attribute(value=Name(id='self', ctx=Load()), attr='useitalic', ctx=Load()), Subscript(value=Name(id='ndef', ctx=Load()), slice=Constant(value='italic'), ctx=Load())]), body=[Assign(targets=[Attribute(value=Name(id='escape', ctx=Load()), attr='italic', ctx=Store())], value=Constant(value=True))], orelse=[]), Assign(targets=[Subscript(value=Attribute(value=Name(id='self', ctx=Load()), attr='style_string', ctx=Load()), slice=Call(func=Name(id='str', ctx=Load()), args=[Name(id='ttype', ctx=Load())], keywords=[]), ctx=Store())], value=Tuple(elts=[Call(func=Attribute(value=Name(id='escape', ctx=Load()), attr='color_string', ctx=Load()), args=[], keywords=[]), Call(func=Attribute(value=Name(id='escape', ctx=Load()), attr='reset_string', ctx=Load()), args=[], keywords=[])], ctx=Load()))], orelse=[])], decorator_list=[]), FunctionDef(name='_write_lineno', args=arguments(posonlyargs=[], args=[arg(arg='self'), arg(arg='outfile')], kwonlyargs=[], kw_defaults=[], defaults=[]), body=[AugAssign(target=Attribute(value=Name(id='self', ctx=Load()), attr='_lineno', ctx=Store()), op=Add(), value=Constant(value=1)), Expr(value=Call(func=Attribute(value=Name(id='outfile', ctx=Load()), attr='write', ctx=Load()), args=[BinOp(left=Constant(value='%s%04d: '), op=Mod(), right=Tuple(elts=[BoolOp(op=Or(), values=[BoolOp(op=And(), values=[Compare(left=Attribute(value=Name(id='self', ctx=Load()), attr='_lineno', ctx=Load()), ops=[NotEq()], comparators=[Constant(value=1)]), Constant(value='\n')]), Constant(value='')]), Attribute(value=Name(id='self', ctx=Load()), attr='_lineno', ctx=Load())], ctx=Load()))], keywords=[]))], decorator_list=[]), FunctionDef(name='format', args=arguments(posonlyargs=[], args=[arg(arg='self'), arg(arg='tokensource'), arg(arg='outfile')], kwonlyargs=[], kw_defaults=[], defaults=[]), body=[Return(value=Call(func=Attribute(value=Name(id='Formatter', ctx=Load()), attr='format', ctx=Load()), args=[Name(id='self', ctx=Load()), Name(id='tokensource', ctx=Load()), Name(id='outfile', ctx=Load())], keywords=[]))], decorator_list=[]), FunctionDef(name='format_unencoded', args=arguments(posonlyargs=[], args=[arg(arg='self'), arg(arg='tokensource'), arg(arg='outfile')], kwonlyargs=[], kw_defaults=[], defaults=[]), body=[If(test=Attribute(value=Name(id='self', ctx=Load()), attr='linenos', ctx=Load()), body=[Expr(value=Call(func=Attribute(value=Name(id='self', ctx=Load()), attr='_write_lineno', ctx=Load()), args=[Name(id='outfile', ctx=Load())], keywords=[]))], orelse=[]), For(target=Tuple(elts=[Name(id='ttype', ctx=Store()), Name(id='value', ctx=Store())], ctx=Store()), iter=Name(id='tokensource', ctx=Load()), body=[Assign(targets=[Name(id='not_found', ctx=Store())], value=Constant(value=True)), While(test=BoolOp(op=And(), values=[Name(id='ttype', ctx=Load()), Name(id='not_found', ctx=Load())]), body=[Try(body=[Assign(targets=[Tuple(elts=[Name(id='on', ctx=Store()), Name(id='off', ctx=Store())], ctx=Store())], value=Subscript(value=Attribute(value=Name(id='self', ctx=Load()), attr='style_string', ctx=Load()), slice=Call(func=Name(id='str', ctx=Load()), args=[Name(id='ttype', ctx=Load())], keywords=[]), ctx=Load())), Assign(targets=[Name(id='spl', ctx=Store())], value=Call(func=Attribute(value=Name(id='value', ctx=Load()), attr='split', ctx=Load()), args=[Constant(value='\n')], keywords=[])), For(target=Name(id='line', ctx=Store()), iter=Subscript(value=Name(id='spl', ctx=Load()), slice=Slice(upper=UnaryOp(op=USub(), operand=Constant(value=1))), ctx=Load()), body=[If(test=Name(id='line', ctx=Load()), body=[Expr(value=Call(func=Attribute(value=Name(id='outfile', ctx=Load()), attr='write', ctx=Load()), args=[BinOp(left=BinOp(left=Name(id='on', ctx=Load()), op=Add(), right=Name(id='line', ctx=Load())), op=Add(), right=Name(id='off', ctx=Load()))], keywords=[]))], orelse=[]), If(test=Attribute(value=Name(id='self', ctx=Load()), attr='linenos', ctx=Load()), body=[Expr(value=Call(func=Attribute(value=Name(id='self', ctx=Load()), attr='_write_lineno', ctx=Load()), args=[Name(id='outfile', ctx=Load())], keywords=[]))], orelse=[Expr(value=Call(func=Attribute(value=Name(id='outfile', ctx=Load()), attr='write', ctx=Load()), args=[Constant(value='\n')], keywords=[]))])], orelse=[]), If(test=Subscript(value=Name(id='spl', ctx=Load()), slice=UnaryOp(op=USub(), operand=Constant(value=1)), ctx=Load()), body=[Expr(value=Call(func=Attribute(value=Name(id='outfile', ctx=Load()), attr='write', ctx=Load()), args=[BinOp(left=BinOp(left=Name(id='on', ctx=Load()), op=Add(), right=Subscript(value=Name(id='spl', ctx=Load()), slice=UnaryOp(op=USub(), operand=Constant(value=1)), ctx=Load())), op=Add(), right=Name(id='off', ctx=Load()))], keywords=[]))], orelse=[]), Assign(targets=[Name(id='not_found', ctx=Store())], value=Constant(value=False))], handlers=[ExceptHandler(type=Name(id='KeyError', ctx=Load()), body=[Assign(targets=[Name(id='ttype', ctx=Store())], value=Attribute(value=Name(id='ttype', ctx=Load()), attr='parent', ctx=Load()))])], orelse=[], finalbody=[])], orelse=[]), If(test=Name(id='not_found', ctx=Load()), body=[Expr(value=Call(func=Attribute(value=Name(id='outfile', ctx=Load()), attr='write', ctx=Load()), args=[Name(id='value', ctx=Load())], keywords=[]))], orelse=[])], orelse=[]), If(test=Attribute(value=Name(id='self', ctx=Load()), attr='linenos', ctx=Load()), body=[Expr(value=Call(func=Attribute(value=Name(id='outfile', ctx=Load()), attr='write', ctx=Load()), args=[Constant(value='\n')], keywords=[]))], orelse=[])], decorator_list=[])], decorator_list=[]), ClassDef(name='TerminalTrueColorFormatter', bases=[Name(id='Terminal256Formatter', ctx=Load())], keywords=[], body=[Expr(value=Constant(value="\n    Format tokens with ANSI color sequences, for output in a true-color\n    terminal or console.  Like in `TerminalFormatter` color sequences\n    are terminated at newlines, so that paging the output works correctly.\n\n    .. versionadded:: 2.1\n\n    Options accepted:\n\n    `style`\n        The style to use, can be a string or a Style subclass (default:\n        ``'default'``).\n    ")), Assign(targets=[Name(id='name', ctx=Store())], value=Constant(value='TerminalTrueColor')), Assign(targets=[Name(id='aliases', ctx=Store())], value=List(elts=[Constant(value='terminal16m'), Constant(value='console16m'), Constant(value='16m')], ctx=Load())), Assign(targets=[Name(id='filenames', ctx=Store())], value=List(elts=[], ctx=Load())), FunctionDef(name='_build_color_table', args=arguments(posonlyargs=[], args=[arg(arg='self')], kwonlyargs=[], kw_defaults=[], defaults=[]), body=[Pass()], decorator_list=[]), FunctionDef(name='_color_tuple', args=arguments(posonlyargs=[], args=[arg(arg='self'), arg(arg='color')], kwonlyargs=[], kw_defaults=[], defaults=[]), body=[Try(body=[Assign(targets=[Name(id='rgb', ctx=Store())], value=Call(func=Name(id='int', ctx=Load()), args=[Call(func=Name(id='str', ctx=Load()), args=[Name(id='color', ctx=Load())], keywords=[]), Constant(value=16)], keywords=[]))], handlers=[ExceptHandler(type=Name(id='ValueError', ctx=Load()), body=[Return(value=Constant(value=None))])], orelse=[], finalbody=[]), Assign(targets=[Name(id='r', ctx=Store())], value=BinOp(left=BinOp(left=Name(id='rgb', ctx=Load()), op=RShift(), right=Constant(value=16)), op=BitAnd(), right=Constant(value=255))), Assign(targets=[Name(id='g', ctx=Store())], value=BinOp(left=BinOp(left=Name(id='rgb', ctx=Load()), op=RShift(), right=Constant(value=8)), op=BitAnd(), right=Constant(value=255))), Assign(targets=[Name(id='b', ctx=Store())], value=BinOp(left=Name(id='rgb', ctx=Load()), op=BitAnd(), right=Constant(value=255))), Return(value=Tuple(elts=[Name(id='r', ctx=Load()), Name(id='g', ctx=Load()), Name(id='b', ctx=Load())], ctx=Load()))], decorator_list=[]), FunctionDef(name='_setup_styles', args=arguments(posonlyargs=[], args=[arg(arg='self')], kwonlyargs=[], kw_defaults=[], defaults=[]), body=[For(target=Tuple(elts=[Name(id='ttype', ctx=Store()), Name(id='ndef', ctx=Store())], ctx=Store()), iter=Attribute(value=Name(id='self', ctx=Load()), attr='style', ctx=Load()), body=[Assign(targets=[Name(id='escape', ctx=Store())], value=Call(func=Name(id='EscapeSequence', ctx=Load()), args=[], keywords=[])), If(test=Subscript(value=Name(id='ndef', ctx=Load()), slice=Constant(value='color'), ctx=Load()), body=[Assign(targets=[Attribute(value=Name(id='escape', ctx=Load()), attr='fg', ctx=Store())], value=Call(func=Attribute(value=Name(id='self', ctx=Load()), attr='_color_tuple', ctx=Load()), args=[Subscript(value=Name(id='ndef', ctx=Load()), slice=Constant(value='color'), ctx=Load())], keywords=[]))], orelse=[]), If(test=Subscript(value=Name(id='ndef', ctx=Load()), slice=Constant(value='bgcolor'), ctx=Load()), body=[Assign(targets=[Attribute(value=Name(id='escape', ctx=Load()), attr='bg', ctx=Store())], value=Call(func=Attribute(value=Name(id='self', ctx=Load()), attr='_color_tuple', ctx=Load()), args=[Subscript(value=Name(id='ndef', ctx=Load()), slice=Constant(value='bgcolor'), ctx=Load())], keywords=[]))], orelse=[]), If(test=BoolOp(op=And(), values=[Attribute(value=Name(id='self', ctx=Load()), attr='usebold', ctx=Load()), Subscript(value=Name(id='ndef', ctx=Load()), slice=Constant(value='bold'), ctx=Load())]), body=[Assign(targets=[Attribute(value=Name(id='escape', ctx=Load()), attr='bold', ctx=Store())], value=Constant(value=True))], orelse=[]), If(test=BoolOp(op=And(), values=[Attribute(value=Name(id='self', ctx=Load()), attr='useunderline', ctx=Load()), Subscript(value=Name(id='ndef', ctx=Load()), slice=Constant(value='underline'), ctx=Load())]), body=[Assign(targets=[Attribute(value=Name(id='escape', ctx=Load()), attr='underline', ctx=Store())], value=Constant(value=True))], orelse=[]), If(test=BoolOp(op=And(), values=[Attribute(value=Name(id='self', ctx=Load()), attr='useitalic', ctx=Load()), Subscript(value=Name(id='ndef', ctx=Load()), slice=Constant(value='italic'), ctx=Load())]), body=[Assign(targets=[Attribute(value=Name(id='escape', ctx=Load()), attr='italic', ctx=Store())], value=Constant(value=True))], orelse=[]), Assign(targets=[Subscript(value=Attribute(value=Name(id='self', ctx=Load()), attr='style_string', ctx=Load()), slice=Call(func=Name(id='str', ctx=Load()), args=[Name(id='ttype', ctx=Load())], keywords=[]), ctx=Store())], value=Tuple(elts=[Call(func=Attribute(value=Name(id='escape', ctx=Load()), attr='true_color_string', ctx=Load()), args=[], keywords=[]), Call(func=Attribute(value=Name(id='escape', ctx=Load()), attr='reset_string', ctx=Load()), args=[], keywords=[])], ctx=Load()))], orelse=[])], decorator_list=[])], decorator_list=[])], type_ignores=[])