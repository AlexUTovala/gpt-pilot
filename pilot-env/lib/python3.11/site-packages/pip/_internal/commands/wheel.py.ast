Module(body=[Import(names=[alias(name='logging')]), Import(names=[alias(name='os')]), Import(names=[alias(name='shutil')]), ImportFrom(module='optparse', names=[alias(name='Values')], level=0), ImportFrom(module='typing', names=[alias(name='List')], level=0), ImportFrom(module='pip._internal.cache', names=[alias(name='WheelCache')], level=0), ImportFrom(module='pip._internal.cli', names=[alias(name='cmdoptions')], level=0), ImportFrom(module='pip._internal.cli.req_command', names=[alias(name='RequirementCommand'), alias(name='with_cleanup')], level=0), ImportFrom(module='pip._internal.cli.status_codes', names=[alias(name='SUCCESS')], level=0), ImportFrom(module='pip._internal.exceptions', names=[alias(name='CommandError')], level=0), ImportFrom(module='pip._internal.operations.build.build_tracker', names=[alias(name='get_build_tracker')], level=0), ImportFrom(module='pip._internal.req.req_install', names=[alias(name='InstallRequirement'), alias(name='check_legacy_setup_py_options')], level=0), ImportFrom(module='pip._internal.utils.misc', names=[alias(name='ensure_dir'), alias(name='normalize_path')], level=0), ImportFrom(module='pip._internal.utils.temp_dir', names=[alias(name='TempDirectory')], level=0), ImportFrom(module='pip._internal.wheel_builder', names=[alias(name='build'), alias(name='should_build_for_wheel_command')], level=0), Assign(targets=[Name(id='logger', ctx=Store())], value=Call(func=Attribute(value=Name(id='logging', ctx=Load()), attr='getLogger', ctx=Load()), args=[Name(id='__name__', ctx=Load())], keywords=[])), ClassDef(name='WheelCommand', bases=[Name(id='RequirementCommand', ctx=Load())], keywords=[], body=[Expr(value=Constant(value="\n    Build Wheel archives for your requirements and dependencies.\n\n    Wheel is a built-package format, and offers the advantage of not\n    recompiling your software during every install. For more details, see the\n    wheel docs: https://wheel.readthedocs.io/en/latest/\n\n    'pip wheel' uses the build system interface as described here:\n    https://pip.pypa.io/en/stable/reference/build-system/\n\n    ")), Assign(targets=[Name(id='usage', ctx=Store())], value=Constant(value='\n      %prog [options] <requirement specifier> ...\n      %prog [options] -r <requirements file> ...\n      %prog [options] [-e] <vcs project url> ...\n      %prog [options] [-e] <local project path> ...\n      %prog [options] <archive url/path> ...')), FunctionDef(name='add_options', args=arguments(posonlyargs=[], args=[arg(arg='self')], kwonlyargs=[], kw_defaults=[], defaults=[]), body=[Expr(value=Call(func=Attribute(value=Attribute(value=Name(id='self', ctx=Load()), attr='cmd_opts', ctx=Load()), attr='add_option', ctx=Load()), args=[Constant(value='-w'), Constant(value='--wheel-dir')], keywords=[keyword(arg='dest', value=Constant(value='wheel_dir')), keyword(arg='metavar', value=Constant(value='dir')), keyword(arg='default', value=Attribute(value=Name(id='os', ctx=Load()), attr='curdir', ctx=Load())), keyword(arg='help', value=Constant(value='Build wheels into <dir>, where the default is the current working directory.'))])), Expr(value=Call(func=Attribute(value=Attribute(value=Name(id='self', ctx=Load()), attr='cmd_opts', ctx=Load()), attr='add_option', ctx=Load()), args=[Call(func=Attribute(value=Name(id='cmdoptions', ctx=Load()), attr='no_binary', ctx=Load()), args=[], keywords=[])], keywords=[])), Expr(value=Call(func=Attribute(value=Attribute(value=Name(id='self', ctx=Load()), attr='cmd_opts', ctx=Load()), attr='add_option', ctx=Load()), args=[Call(func=Attribute(value=Name(id='cmdoptions', ctx=Load()), attr='only_binary', ctx=Load()), args=[], keywords=[])], keywords=[])), Expr(value=Call(func=Attribute(value=Attribute(value=Name(id='self', ctx=Load()), attr='cmd_opts', ctx=Load()), attr='add_option', ctx=Load()), args=[Call(func=Attribute(value=Name(id='cmdoptions', ctx=Load()), attr='prefer_binary', ctx=Load()), args=[], keywords=[])], keywords=[])), Expr(value=Call(func=Attribute(value=Attribute(value=Name(id='self', ctx=Load()), attr='cmd_opts', ctx=Load()), attr='add_option', ctx=Load()), args=[Call(func=Attribute(value=Name(id='cmdoptions', ctx=Load()), attr='no_build_isolation', ctx=Load()), args=[], keywords=[])], keywords=[])), Expr(value=Call(func=Attribute(value=Attribute(value=Name(id='self', ctx=Load()), attr='cmd_opts', ctx=Load()), attr='add_option', ctx=Load()), args=[Call(func=Attribute(value=Name(id='cmdoptions', ctx=Load()), attr='use_pep517', ctx=Load()), args=[], keywords=[])], keywords=[])), Expr(value=Call(func=Attribute(value=Attribute(value=Name(id='self', ctx=Load()), attr='cmd_opts', ctx=Load()), attr='add_option', ctx=Load()), args=[Call(func=Attribute(value=Name(id='cmdoptions', ctx=Load()), attr='no_use_pep517', ctx=Load()), args=[], keywords=[])], keywords=[])), Expr(value=Call(func=Attribute(value=Attribute(value=Name(id='self', ctx=Load()), attr='cmd_opts', ctx=Load()), attr='add_option', ctx=Load()), args=[Call(func=Attribute(value=Name(id='cmdoptions', ctx=Load()), attr='check_build_deps', ctx=Load()), args=[], keywords=[])], keywords=[])), Expr(value=Call(func=Attribute(value=Attribute(value=Name(id='self', ctx=Load()), attr='cmd_opts', ctx=Load()), attr='add_option', ctx=Load()), args=[Call(func=Attribute(value=Name(id='cmdoptions', ctx=Load()), attr='constraints', ctx=Load()), args=[], keywords=[])], keywords=[])), Expr(value=Call(func=Attribute(value=Attribute(value=Name(id='self', ctx=Load()), attr='cmd_opts', ctx=Load()), attr='add_option', ctx=Load()), args=[Call(func=Attribute(value=Name(id='cmdoptions', ctx=Load()), attr='editable', ctx=Load()), args=[], keywords=[])], keywords=[])), Expr(value=Call(func=Attribute(value=Attribute(value=Name(id='self', ctx=Load()), attr='cmd_opts', ctx=Load()), attr='add_option', ctx=Load()), args=[Call(func=Attribute(value=Name(id='cmdoptions', ctx=Load()), attr='requirements', ctx=Load()), args=[], keywords=[])], keywords=[])), Expr(value=Call(func=Attribute(value=Attribute(value=Name(id='self', ctx=Load()), attr='cmd_opts', ctx=Load()), attr='add_option', ctx=Load()), args=[Call(func=Attribute(value=Name(id='cmdoptions', ctx=Load()), attr='src', ctx=Load()), args=[], keywords=[])], keywords=[])), Expr(value=Call(func=Attribute(value=Attribute(value=Name(id='self', ctx=Load()), attr='cmd_opts', ctx=Load()), attr='add_option', ctx=Load()), args=[Call(func=Attribute(value=Name(id='cmdoptions', ctx=Load()), attr='ignore_requires_python', ctx=Load()), args=[], keywords=[])], keywords=[])), Expr(value=Call(func=Attribute(value=Attribute(value=Name(id='self', ctx=Load()), attr='cmd_opts', ctx=Load()), attr='add_option', ctx=Load()), args=[Call(func=Attribute(value=Name(id='cmdoptions', ctx=Load()), attr='no_deps', ctx=Load()), args=[], keywords=[])], keywords=[])), Expr(value=Call(func=Attribute(value=Attribute(value=Name(id='self', ctx=Load()), attr='cmd_opts', ctx=Load()), attr='add_option', ctx=Load()), args=[Call(func=Attribute(value=Name(id='cmdoptions', ctx=Load()), attr='progress_bar', ctx=Load()), args=[], keywords=[])], keywords=[])), Expr(value=Call(func=Attribute(value=Attribute(value=Name(id='self', ctx=Load()), attr='cmd_opts', ctx=Load()), attr='add_option', ctx=Load()), args=[Constant(value='--no-verify')], keywords=[keyword(arg='dest', value=Constant(value='no_verify')), keyword(arg='action', value=Constant(value='store_true')), keyword(arg='default', value=Constant(value=False)), keyword(arg='help', value=Constant(value="Don't verify if built wheel is valid."))])), Expr(value=Call(func=Attribute(value=Attribute(value=Name(id='self', ctx=Load()), attr='cmd_opts', ctx=Load()), attr='add_option', ctx=Load()), args=[Call(func=Attribute(value=Name(id='cmdoptions', ctx=Load()), attr='config_settings', ctx=Load()), args=[], keywords=[])], keywords=[])), Expr(value=Call(func=Attribute(value=Attribute(value=Name(id='self', ctx=Load()), attr='cmd_opts', ctx=Load()), attr='add_option', ctx=Load()), args=[Call(func=Attribute(value=Name(id='cmdoptions', ctx=Load()), attr='build_options', ctx=Load()), args=[], keywords=[])], keywords=[])), Expr(value=Call(func=Attribute(value=Attribute(value=Name(id='self', ctx=Load()), attr='cmd_opts', ctx=Load()), attr='add_option', ctx=Load()), args=[Call(func=Attribute(value=Name(id='cmdoptions', ctx=Load()), attr='global_options', ctx=Load()), args=[], keywords=[])], keywords=[])), Expr(value=Call(func=Attribute(value=Attribute(value=Name(id='self', ctx=Load()), attr='cmd_opts', ctx=Load()), attr='add_option', ctx=Load()), args=[Constant(value='--pre')], keywords=[keyword(arg='action', value=Constant(value='store_true')), keyword(arg='default', value=Constant(value=False)), keyword(arg='help', value=Constant(value='Include pre-release and development versions. By default, pip only finds stable versions.'))])), Expr(value=Call(func=Attribute(value=Attribute(value=Name(id='self', ctx=Load()), attr='cmd_opts', ctx=Load()), attr='add_option', ctx=Load()), args=[Call(func=Attribute(value=Name(id='cmdoptions', ctx=Load()), attr='require_hashes', ctx=Load()), args=[], keywords=[])], keywords=[])), Assign(targets=[Name(id='index_opts', ctx=Store())], value=Call(func=Attribute(value=Name(id='cmdoptions', ctx=Load()), attr='make_option_group', ctx=Load()), args=[Attribute(value=Name(id='cmdoptions', ctx=Load()), attr='index_group', ctx=Load()), Attribute(value=Name(id='self', ctx=Load()), attr='parser', ctx=Load())], keywords=[])), Expr(value=Call(func=Attribute(value=Attribute(value=Name(id='self', ctx=Load()), attr='parser', ctx=Load()), attr='insert_option_group', ctx=Load()), args=[Constant(value=0), Name(id='index_opts', ctx=Load())], keywords=[])), Expr(value=Call(func=Attribute(value=Attribute(value=Name(id='self', ctx=Load()), attr='parser', ctx=Load()), attr='insert_option_group', ctx=Load()), args=[Constant(value=0), Attribute(value=Name(id='self', ctx=Load()), attr='cmd_opts', ctx=Load())], keywords=[]))], decorator_list=[], returns=Constant(value=None)), FunctionDef(name='run', args=arguments(posonlyargs=[], args=[arg(arg='self'), arg(arg='options', annotation=Name(id='Values', ctx=Load())), arg(arg='args', annotation=Subscript(value=Name(id='List', ctx=Load()), slice=Name(id='str', ctx=Load()), ctx=Load()))], kwonlyargs=[], kw_defaults=[], defaults=[]), body=[Assign(targets=[Name(id='session', ctx=Store())], value=Call(func=Attribute(value=Name(id='self', ctx=Load()), attr='get_default_session', ctx=Load()), args=[Name(id='options', ctx=Load())], keywords=[])), Assign(targets=[Name(id='finder', ctx=Store())], value=Call(func=Attribute(value=Name(id='self', ctx=Load()), attr='_build_package_finder', ctx=Load()), args=[Name(id='options', ctx=Load()), Name(id='session', ctx=Load())], keywords=[])), Assign(targets=[Attribute(value=Name(id='options', ctx=Load()), attr='wheel_dir', ctx=Store())], value=Call(func=Name(id='normalize_path', ctx=Load()), args=[Attribute(value=Name(id='options', ctx=Load()), attr='wheel_dir', ctx=Load())], keywords=[])), Expr(value=Call(func=Name(id='ensure_dir', ctx=Load()), args=[Attribute(value=Name(id='options', ctx=Load()), attr='wheel_dir', ctx=Load())], keywords=[])), Assign(targets=[Name(id='build_tracker', ctx=Store())], value=Call(func=Attribute(value=Name(id='self', ctx=Load()), attr='enter_context', ctx=Load()), args=[Call(func=Name(id='get_build_tracker', ctx=Load()), args=[], keywords=[])], keywords=[])), Assign(targets=[Name(id='directory', ctx=Store())], value=Call(func=Name(id='TempDirectory', ctx=Load()), args=[], keywords=[keyword(arg='delete', value=UnaryOp(op=Not(), operand=Attribute(value=Name(id='options', ctx=Load()), attr='no_clean', ctx=Load()))), keyword(arg='kind', value=Constant(value='wheel')), keyword(arg='globally_managed', value=Constant(value=True))])), Assign(targets=[Name(id='reqs', ctx=Store())], value=Call(func=Attribute(value=Name(id='self', ctx=Load()), attr='get_requirements', ctx=Load()), args=[Name(id='args', ctx=Load()), Name(id='options', ctx=Load()), Name(id='finder', ctx=Load()), Name(id='session', ctx=Load())], keywords=[])), Expr(value=Call(func=Name(id='check_legacy_setup_py_options', ctx=Load()), args=[Name(id='options', ctx=Load()), Name(id='reqs', ctx=Load())], keywords=[])), Assign(targets=[Name(id='wheel_cache', ctx=Store())], value=Call(func=Name(id='WheelCache', ctx=Load()), args=[Attribute(value=Name(id='options', ctx=Load()), attr='cache_dir', ctx=Load())], keywords=[])), Assign(targets=[Name(id='preparer', ctx=Store())], value=Call(func=Attribute(value=Name(id='self', ctx=Load()), attr='make_requirement_preparer', ctx=Load()), args=[], keywords=[keyword(arg='temp_build_dir', value=Name(id='directory', ctx=Load())), keyword(arg='options', value=Name(id='options', ctx=Load())), keyword(arg='build_tracker', value=Name(id='build_tracker', ctx=Load())), keyword(arg='session', value=Name(id='session', ctx=Load())), keyword(arg='finder', value=Name(id='finder', ctx=Load())), keyword(arg='download_dir', value=Attribute(value=Name(id='options', ctx=Load()), attr='wheel_dir', ctx=Load())), keyword(arg='use_user_site', value=Constant(value=False)), keyword(arg='verbosity', value=Attribute(value=Name(id='self', ctx=Load()), attr='verbosity', ctx=Load()))])), Assign(targets=[Name(id='resolver', ctx=Store())], value=Call(func=Attribute(value=Name(id='self', ctx=Load()), attr='make_resolver', ctx=Load()), args=[], keywords=[keyword(arg='preparer', value=Name(id='preparer', ctx=Load())), keyword(arg='finder', value=Name(id='finder', ctx=Load())), keyword(arg='options', value=Name(id='options', ctx=Load())), keyword(arg='wheel_cache', value=Name(id='wheel_cache', ctx=Load())), keyword(arg='ignore_requires_python', value=Attribute(value=Name(id='options', ctx=Load()), attr='ignore_requires_python', ctx=Load())), keyword(arg='use_pep517', value=Attribute(value=Name(id='options', ctx=Load()), attr='use_pep517', ctx=Load()))])), Expr(value=Call(func=Attribute(value=Name(id='self', ctx=Load()), attr='trace_basic_info', ctx=Load()), args=[Name(id='finder', ctx=Load())], keywords=[])), Assign(targets=[Name(id='requirement_set', ctx=Store())], value=Call(func=Attribute(value=Name(id='resolver', ctx=Load()), attr='resolve', ctx=Load()), args=[Name(id='reqs', ctx=Load())], keywords=[keyword(arg='check_supported_wheels', value=Constant(value=True))])), AnnAssign(target=Name(id='reqs_to_build', ctx=Store()), annotation=Subscript(value=Name(id='List', ctx=Load()), slice=Name(id='InstallRequirement', ctx=Load()), ctx=Load()), value=List(elts=[], ctx=Load()), simple=1), For(target=Name(id='req', ctx=Store()), iter=Call(func=Attribute(value=Attribute(value=Name(id='requirement_set', ctx=Load()), attr='requirements', ctx=Load()), attr='values', ctx=Load()), args=[], keywords=[]), body=[If(test=Attribute(value=Name(id='req', ctx=Load()), attr='is_wheel', ctx=Load()), body=[Expr(value=Call(func=Attribute(value=Name(id='preparer', ctx=Load()), attr='save_linked_requirement', ctx=Load()), args=[Name(id='req', ctx=Load())], keywords=[]))], orelse=[If(test=Call(func=Name(id='should_build_for_wheel_command', ctx=Load()), args=[Name(id='req', ctx=Load())], keywords=[]), body=[Expr(value=Call(func=Attribute(value=Name(id='reqs_to_build', ctx=Load()), attr='append', ctx=Load()), args=[Name(id='req', ctx=Load())], keywords=[]))], orelse=[])])], orelse=[]), Expr(value=Call(func=Attribute(value=Name(id='preparer', ctx=Load()), attr='prepare_linked_requirements_more', ctx=Load()), args=[Call(func=Attribute(value=Attribute(value=Name(id='requirement_set', ctx=Load()), attr='requirements', ctx=Load()), attr='values', ctx=Load()), args=[], keywords=[])], keywords=[])), Expr(value=Call(func=Attribute(value=Name(id='requirement_set', ctx=Load()), attr='warn_legacy_versions_and_specifiers', ctx=Load()), args=[], keywords=[])), Assign(targets=[Tuple(elts=[Name(id='build_successes', ctx=Store()), Name(id='build_failures', ctx=Store())], ctx=Store())], value=Call(func=Name(id='build', ctx=Load()), args=[Name(id='reqs_to_build', ctx=Load())], keywords=[keyword(arg='wheel_cache', value=Name(id='wheel_cache', ctx=Load())), keyword(arg='verify', value=UnaryOp(op=Not(), operand=Attribute(value=Name(id='options', ctx=Load()), attr='no_verify', ctx=Load()))), keyword(arg='build_options', value=BoolOp(op=Or(), values=[Attribute(value=Name(id='options', ctx=Load()), attr='build_options', ctx=Load()), List(elts=[], ctx=Load())])), keyword(arg='global_options', value=BoolOp(op=Or(), values=[Attribute(value=Name(id='options', ctx=Load()), attr='global_options', ctx=Load()), List(elts=[], ctx=Load())]))])), For(target=Name(id='req', ctx=Store()), iter=Name(id='build_successes', ctx=Load()), body=[Assert(test=BoolOp(op=And(), values=[Attribute(value=Name(id='req', ctx=Load()), attr='link', ctx=Load()), Attribute(value=Attribute(value=Name(id='req', ctx=Load()), attr='link', ctx=Load()), attr='is_wheel', ctx=Load())])), Assert(test=Attribute(value=Name(id='req', ctx=Load()), attr='local_file_path', ctx=Load())), Try(body=[Expr(value=Call(func=Attribute(value=Name(id='shutil', ctx=Load()), attr='copy', ctx=Load()), args=[Attribute(value=Name(id='req', ctx=Load()), attr='local_file_path', ctx=Load()), Attribute(value=Name(id='options', ctx=Load()), attr='wheel_dir', ctx=Load())], keywords=[]))], handlers=[ExceptHandler(type=Name(id='OSError', ctx=Load()), name='e', body=[Expr(value=Call(func=Attribute(value=Name(id='logger', ctx=Load()), attr='warning', ctx=Load()), args=[Constant(value='Building wheel for %s failed: %s'), Attribute(value=Name(id='req', ctx=Load()), attr='name', ctx=Load()), Name(id='e', ctx=Load())], keywords=[])), Expr(value=Call(func=Attribute(value=Name(id='build_failures', ctx=Load()), attr='append', ctx=Load()), args=[Name(id='req', ctx=Load())], keywords=[]))])], orelse=[], finalbody=[])], orelse=[]), If(test=Compare(left=Call(func=Name(id='len', ctx=Load()), args=[Name(id='build_failures', ctx=Load())], keywords=[]), ops=[NotEq()], comparators=[Constant(value=0)]), body=[Raise(exc=Call(func=Name(id='CommandError', ctx=Load()), args=[Constant(value='Failed to build one or more wheels')], keywords=[]))], orelse=[]), Return(value=Name(id='SUCCESS', ctx=Load()))], decorator_list=[Name(id='with_cleanup', ctx=Load())], returns=Name(id='int', ctx=Load()))], decorator_list=[])], type_ignores=[])