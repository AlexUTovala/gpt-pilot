Module(body=[Expr(value=Constant(value=' PEP 610 ')), Import(names=[alias(name='json')]), Import(names=[alias(name='re')]), Import(names=[alias(name='urllib.parse')]), ImportFrom(module='typing', names=[alias(name='Any'), alias(name='Dict'), alias(name='Iterable'), alias(name='Optional'), alias(name='Type'), alias(name='TypeVar'), alias(name='Union')], level=0), Assign(targets=[Name(id='__all__', ctx=Store())], value=List(elts=[Constant(value='DirectUrl'), Constant(value='DirectUrlValidationError'), Constant(value='DirInfo'), Constant(value='ArchiveInfo'), Constant(value='VcsInfo')], ctx=Load())), Assign(targets=[Name(id='T', ctx=Store())], value=Call(func=Name(id='TypeVar', ctx=Load()), args=[Constant(value='T')], keywords=[])), Assign(targets=[Name(id='DIRECT_URL_METADATA_NAME', ctx=Store())], value=Constant(value='direct_url.json')), Assign(targets=[Name(id='ENV_VAR_RE', ctx=Store())], value=Call(func=Attribute(value=Name(id='re', ctx=Load()), attr='compile', ctx=Load()), args=[Constant(value='^\\$\\{[A-Za-z0-9-_]+\\}(:\\$\\{[A-Za-z0-9-_]+\\})?$')], keywords=[])), ClassDef(name='DirectUrlValidationError', bases=[Name(id='Exception', ctx=Load())], keywords=[], body=[Pass()], decorator_list=[]), FunctionDef(name='_get', args=arguments(posonlyargs=[], args=[arg(arg='d', annotation=Subscript(value=Name(id='Dict', ctx=Load()), slice=Tuple(elts=[Name(id='str', ctx=Load()), Name(id='Any', ctx=Load())], ctx=Load()), ctx=Load())), arg(arg='expected_type', annotation=Subscript(value=Name(id='Type', ctx=Load()), slice=Name(id='T', ctx=Load()), ctx=Load())), arg(arg='key', annotation=Name(id='str', ctx=Load())), arg(arg='default', annotation=Subscript(value=Name(id='Optional', ctx=Load()), slice=Name(id='T', ctx=Load()), ctx=Load()))], kwonlyargs=[], kw_defaults=[], defaults=[Constant(value=None)]), body=[Expr(value=Constant(value='Get value from dictionary and verify expected type.')), If(test=Compare(left=Name(id='key', ctx=Load()), ops=[NotIn()], comparators=[Name(id='d', ctx=Load())]), body=[Return(value=Name(id='default', ctx=Load()))], orelse=[]), Assign(targets=[Name(id='value', ctx=Store())], value=Subscript(value=Name(id='d', ctx=Load()), slice=Name(id='key', ctx=Load()), ctx=Load())), If(test=UnaryOp(op=Not(), operand=Call(func=Name(id='isinstance', ctx=Load()), args=[Name(id='value', ctx=Load()), Name(id='expected_type', ctx=Load())], keywords=[])), body=[Raise(exc=Call(func=Name(id='DirectUrlValidationError', ctx=Load()), args=[Call(func=Attribute(value=Constant(value='{!r} has unexpected type for {} (expected {})'), attr='format', ctx=Load()), args=[Name(id='value', ctx=Load()), Name(id='key', ctx=Load()), Name(id='expected_type', ctx=Load())], keywords=[])], keywords=[]))], orelse=[]), Return(value=Name(id='value', ctx=Load()))], decorator_list=[], returns=Subscript(value=Name(id='Optional', ctx=Load()), slice=Name(id='T', ctx=Load()), ctx=Load())), FunctionDef(name='_get_required', args=arguments(posonlyargs=[], args=[arg(arg='d', annotation=Subscript(value=Name(id='Dict', ctx=Load()), slice=Tuple(elts=[Name(id='str', ctx=Load()), Name(id='Any', ctx=Load())], ctx=Load()), ctx=Load())), arg(arg='expected_type', annotation=Subscript(value=Name(id='Type', ctx=Load()), slice=Name(id='T', ctx=Load()), ctx=Load())), arg(arg='key', annotation=Name(id='str', ctx=Load())), arg(arg='default', annotation=Subscript(value=Name(id='Optional', ctx=Load()), slice=Name(id='T', ctx=Load()), ctx=Load()))], kwonlyargs=[], kw_defaults=[], defaults=[Constant(value=None)]), body=[Assign(targets=[Name(id='value', ctx=Store())], value=Call(func=Name(id='_get', ctx=Load()), args=[Name(id='d', ctx=Load()), Name(id='expected_type', ctx=Load()), Name(id='key', ctx=Load()), Name(id='default', ctx=Load())], keywords=[])), If(test=Compare(left=Name(id='value', ctx=Load()), ops=[Is()], comparators=[Constant(value=None)]), body=[Raise(exc=Call(func=Name(id='DirectUrlValidationError', ctx=Load()), args=[JoinedStr(values=[FormattedValue(value=Name(id='key', ctx=Load()), conversion=-1), Constant(value=' must have a value')])], keywords=[]))], orelse=[]), Return(value=Name(id='value', ctx=Load()))], decorator_list=[], returns=Name(id='T', ctx=Load())), FunctionDef(name='_exactly_one_of', args=arguments(posonlyargs=[], args=[arg(arg='infos', annotation=Subscript(value=Name(id='Iterable', ctx=Load()), slice=Subscript(value=Name(id='Optional', ctx=Load()), slice=Constant(value='InfoType'), ctx=Load()), ctx=Load()))], kwonlyargs=[], kw_defaults=[], defaults=[]), body=[Assign(targets=[Name(id='infos', ctx=Store())], value=ListComp(elt=Name(id='info', ctx=Load()), generators=[comprehension(target=Name(id='info', ctx=Store()), iter=Name(id='infos', ctx=Load()), ifs=[Compare(left=Name(id='info', ctx=Load()), ops=[IsNot()], comparators=[Constant(value=None)])], is_async=0)])), If(test=UnaryOp(op=Not(), operand=Name(id='infos', ctx=Load())), body=[Raise(exc=Call(func=Name(id='DirectUrlValidationError', ctx=Load()), args=[Constant(value='missing one of archive_info, dir_info, vcs_info')], keywords=[]))], orelse=[]), If(test=Compare(left=Call(func=Name(id='len', ctx=Load()), args=[Name(id='infos', ctx=Load())], keywords=[]), ops=[Gt()], comparators=[Constant(value=1)]), body=[Raise(exc=Call(func=Name(id='DirectUrlValidationError', ctx=Load()), args=[Constant(value='more than one of archive_info, dir_info, vcs_info')], keywords=[]))], orelse=[]), Assert(test=Compare(left=Subscript(value=Name(id='infos', ctx=Load()), slice=Constant(value=0), ctx=Load()), ops=[IsNot()], comparators=[Constant(value=None)])), Return(value=Subscript(value=Name(id='infos', ctx=Load()), slice=Constant(value=0), ctx=Load()))], decorator_list=[], returns=Constant(value='InfoType')), FunctionDef(name='_filter_none', args=arguments(posonlyargs=[], args=[], kwonlyargs=[], kw_defaults=[], kwarg=arg(arg='kwargs', annotation=Name(id='Any', ctx=Load())), defaults=[]), body=[Expr(value=Constant(value='Make dict excluding None values.')), Return(value=DictComp(key=Name(id='k', ctx=Load()), value=Name(id='v', ctx=Load()), generators=[comprehension(target=Tuple(elts=[Name(id='k', ctx=Store()), Name(id='v', ctx=Store())], ctx=Store()), iter=Call(func=Attribute(value=Name(id='kwargs', ctx=Load()), attr='items', ctx=Load()), args=[], keywords=[]), ifs=[Compare(left=Name(id='v', ctx=Load()), ops=[IsNot()], comparators=[Constant(value=None)])], is_async=0)]))], decorator_list=[], returns=Subscript(value=Name(id='Dict', ctx=Load()), slice=Tuple(elts=[Name(id='str', ctx=Load()), Name(id='Any', ctx=Load())], ctx=Load()), ctx=Load())), ClassDef(name='VcsInfo', bases=[], keywords=[], body=[Assign(targets=[Name(id='name', ctx=Store())], value=Constant(value='vcs_info')), FunctionDef(name='__init__', args=arguments(posonlyargs=[], args=[arg(arg='self'), arg(arg='vcs', annotation=Name(id='str', ctx=Load())), arg(arg='commit_id', annotation=Name(id='str', ctx=Load())), arg(arg='requested_revision', annotation=Subscript(value=Name(id='Optional', ctx=Load()), slice=Name(id='str', ctx=Load()), ctx=Load()))], kwonlyargs=[], kw_defaults=[], defaults=[Constant(value=None)]), body=[Assign(targets=[Attribute(value=Name(id='self', ctx=Load()), attr='vcs', ctx=Store())], value=Name(id='vcs', ctx=Load())), Assign(targets=[Attribute(value=Name(id='self', ctx=Load()), attr='requested_revision', ctx=Store())], value=Name(id='requested_revision', ctx=Load())), Assign(targets=[Attribute(value=Name(id='self', ctx=Load()), attr='commit_id', ctx=Store())], value=Name(id='commit_id', ctx=Load()))], decorator_list=[], returns=Constant(value=None)), FunctionDef(name='_from_dict', args=arguments(posonlyargs=[], args=[arg(arg='cls'), arg(arg='d', annotation=Subscript(value=Name(id='Optional', ctx=Load()), slice=Subscript(value=Name(id='Dict', ctx=Load()), slice=Tuple(elts=[Name(id='str', ctx=Load()), Name(id='Any', ctx=Load())], ctx=Load()), ctx=Load()), ctx=Load()))], kwonlyargs=[], kw_defaults=[], defaults=[]), body=[If(test=Compare(left=Name(id='d', ctx=Load()), ops=[Is()], comparators=[Constant(value=None)]), body=[Return(value=Constant(value=None))], orelse=[]), Return(value=Call(func=Name(id='cls', ctx=Load()), args=[], keywords=[keyword(arg='vcs', value=Call(func=Name(id='_get_required', ctx=Load()), args=[Name(id='d', ctx=Load()), Name(id='str', ctx=Load()), Constant(value='vcs')], keywords=[])), keyword(arg='commit_id', value=Call(func=Name(id='_get_required', ctx=Load()), args=[Name(id='d', ctx=Load()), Name(id='str', ctx=Load()), Constant(value='commit_id')], keywords=[])), keyword(arg='requested_revision', value=Call(func=Name(id='_get', ctx=Load()), args=[Name(id='d', ctx=Load()), Name(id='str', ctx=Load()), Constant(value='requested_revision')], keywords=[]))]))], decorator_list=[Name(id='classmethod', ctx=Load())], returns=Subscript(value=Name(id='Optional', ctx=Load()), slice=Constant(value='VcsInfo'), ctx=Load())), FunctionDef(name='_to_dict', args=arguments(posonlyargs=[], args=[arg(arg='self')], kwonlyargs=[], kw_defaults=[], defaults=[]), body=[Return(value=Call(func=Name(id='_filter_none', ctx=Load()), args=[], keywords=[keyword(arg='vcs', value=Attribute(value=Name(id='self', ctx=Load()), attr='vcs', ctx=Load())), keyword(arg='requested_revision', value=Attribute(value=Name(id='self', ctx=Load()), attr='requested_revision', ctx=Load())), keyword(arg='commit_id', value=Attribute(value=Name(id='self', ctx=Load()), attr='commit_id', ctx=Load()))]))], decorator_list=[], returns=Subscript(value=Name(id='Dict', ctx=Load()), slice=Tuple(elts=[Name(id='str', ctx=Load()), Name(id='Any', ctx=Load())], ctx=Load()), ctx=Load()))], decorator_list=[]), ClassDef(name='ArchiveInfo', bases=[], keywords=[], body=[Assign(targets=[Name(id='name', ctx=Store())], value=Constant(value='archive_info')), FunctionDef(name='__init__', args=arguments(posonlyargs=[], args=[arg(arg='self'), arg(arg='hash', annotation=Subscript(value=Name(id='Optional', ctx=Load()), slice=Name(id='str', ctx=Load()), ctx=Load())), arg(arg='hashes', annotation=Subscript(value=Name(id='Optional', ctx=Load()), slice=Subscript(value=Name(id='Dict', ctx=Load()), slice=Tuple(elts=[Name(id='str', ctx=Load()), Name(id='str', ctx=Load())], ctx=Load()), ctx=Load()), ctx=Load()))], kwonlyargs=[], kw_defaults=[], defaults=[Constant(value=None), Constant(value=None)]), body=[Assign(targets=[Attribute(value=Name(id='self', ctx=Load()), attr='hashes', ctx=Store())], value=Name(id='hashes', ctx=Load())), Assign(targets=[Attribute(value=Name(id='self', ctx=Load()), attr='hash', ctx=Store())], value=Name(id='hash', ctx=Load()))], decorator_list=[], returns=Constant(value=None)), FunctionDef(name='hash', args=arguments(posonlyargs=[], args=[arg(arg='self')], kwonlyargs=[], kw_defaults=[], defaults=[]), body=[Return(value=Attribute(value=Name(id='self', ctx=Load()), attr='_hash', ctx=Load()))], decorator_list=[Name(id='property', ctx=Load())], returns=Subscript(value=Name(id='Optional', ctx=Load()), slice=Name(id='str', ctx=Load()), ctx=Load())), FunctionDef(name='hash', args=arguments(posonlyargs=[], args=[arg(arg='self'), arg(arg='value', annotation=Subscript(value=Name(id='Optional', ctx=Load()), slice=Name(id='str', ctx=Load()), ctx=Load()))], kwonlyargs=[], kw_defaults=[], defaults=[]), body=[If(test=Compare(left=Name(id='value', ctx=Load()), ops=[IsNot()], comparators=[Constant(value=None)]), body=[Try(body=[Assign(targets=[Tuple(elts=[Name(id='hash_name', ctx=Store()), Name(id='hash_value', ctx=Store())], ctx=Store())], value=Call(func=Attribute(value=Name(id='value', ctx=Load()), attr='split', ctx=Load()), args=[Constant(value='='), Constant(value=1)], keywords=[]))], handlers=[ExceptHandler(type=Name(id='ValueError', ctx=Load()), body=[Raise(exc=Call(func=Name(id='DirectUrlValidationError', ctx=Load()), args=[JoinedStr(values=[Constant(value='invalid archive_info.hash format: '), FormattedValue(value=Name(id='value', ctx=Load()), conversion=114)])], keywords=[]))])], orelse=[], finalbody=[]), If(test=Compare(left=Attribute(value=Name(id='self', ctx=Load()), attr='hashes', ctx=Load()), ops=[Is()], comparators=[Constant(value=None)]), body=[Assign(targets=[Attribute(value=Name(id='self', ctx=Load()), attr='hashes', ctx=Store())], value=Dict(keys=[Name(id='hash_name', ctx=Load())], values=[Name(id='hash_value', ctx=Load())]))], orelse=[If(test=Compare(left=Name(id='hash_name', ctx=Load()), ops=[NotIn()], comparators=[Attribute(value=Name(id='self', ctx=Load()), attr='hashes', ctx=Load())]), body=[Assign(targets=[Attribute(value=Name(id='self', ctx=Load()), attr='hashes', ctx=Store())], value=Call(func=Attribute(value=Attribute(value=Name(id='self', ctx=Load()), attr='hashes', ctx=Load()), attr='copy', ctx=Load()), args=[], keywords=[])), Assign(targets=[Subscript(value=Attribute(value=Name(id='self', ctx=Load()), attr='hashes', ctx=Load()), slice=Name(id='hash_name', ctx=Load()), ctx=Store())], value=Name(id='hash_value', ctx=Load()))], orelse=[])])], orelse=[]), Assign(targets=[Attribute(value=Name(id='self', ctx=Load()), attr='_hash', ctx=Store())], value=Name(id='value', ctx=Load()))], decorator_list=[Attribute(value=Name(id='hash', ctx=Load()), attr='setter', ctx=Load())], returns=Constant(value=None)), FunctionDef(name='_from_dict', args=arguments(posonlyargs=[], args=[arg(arg='cls'), arg(arg='d', annotation=Subscript(value=Name(id='Optional', ctx=Load()), slice=Subscript(value=Name(id='Dict', ctx=Load()), slice=Tuple(elts=[Name(id='str', ctx=Load()), Name(id='Any', ctx=Load())], ctx=Load()), ctx=Load()), ctx=Load()))], kwonlyargs=[], kw_defaults=[], defaults=[]), body=[If(test=Compare(left=Name(id='d', ctx=Load()), ops=[Is()], comparators=[Constant(value=None)]), body=[Return(value=Constant(value=None))], orelse=[]), Return(value=Call(func=Name(id='cls', ctx=Load()), args=[], keywords=[keyword(arg='hash', value=Call(func=Name(id='_get', ctx=Load()), args=[Name(id='d', ctx=Load()), Name(id='str', ctx=Load()), Constant(value='hash')], keywords=[])), keyword(arg='hashes', value=Call(func=Name(id='_get', ctx=Load()), args=[Name(id='d', ctx=Load()), Name(id='dict', ctx=Load()), Constant(value='hashes')], keywords=[]))]))], decorator_list=[Name(id='classmethod', ctx=Load())], returns=Subscript(value=Name(id='Optional', ctx=Load()), slice=Constant(value='ArchiveInfo'), ctx=Load())), FunctionDef(name='_to_dict', args=arguments(posonlyargs=[], args=[arg(arg='self')], kwonlyargs=[], kw_defaults=[], defaults=[]), body=[Return(value=Call(func=Name(id='_filter_none', ctx=Load()), args=[], keywords=[keyword(arg='hash', value=Attribute(value=Name(id='self', ctx=Load()), attr='hash', ctx=Load())), keyword(arg='hashes', value=Attribute(value=Name(id='self', ctx=Load()), attr='hashes', ctx=Load()))]))], decorator_list=[], returns=Subscript(value=Name(id='Dict', ctx=Load()), slice=Tuple(elts=[Name(id='str', ctx=Load()), Name(id='Any', ctx=Load())], ctx=Load()), ctx=Load()))], decorator_list=[]), ClassDef(name='DirInfo', bases=[], keywords=[], body=[Assign(targets=[Name(id='name', ctx=Store())], value=Constant(value='dir_info')), FunctionDef(name='__init__', args=arguments(posonlyargs=[], args=[arg(arg='self'), arg(arg='editable', annotation=Name(id='bool', ctx=Load()))], kwonlyargs=[], kw_defaults=[], defaults=[Constant(value=False)]), body=[Assign(targets=[Attribute(value=Name(id='self', ctx=Load()), attr='editable', ctx=Store())], value=Name(id='editable', ctx=Load()))], decorator_list=[], returns=Constant(value=None)), FunctionDef(name='_from_dict', args=arguments(posonlyargs=[], args=[arg(arg='cls'), arg(arg='d', annotation=Subscript(value=Name(id='Optional', ctx=Load()), slice=Subscript(value=Name(id='Dict', ctx=Load()), slice=Tuple(elts=[Name(id='str', ctx=Load()), Name(id='Any', ctx=Load())], ctx=Load()), ctx=Load()), ctx=Load()))], kwonlyargs=[], kw_defaults=[], defaults=[]), body=[If(test=Compare(left=Name(id='d', ctx=Load()), ops=[Is()], comparators=[Constant(value=None)]), body=[Return(value=Constant(value=None))], orelse=[]), Return(value=Call(func=Name(id='cls', ctx=Load()), args=[], keywords=[keyword(arg='editable', value=Call(func=Name(id='_get_required', ctx=Load()), args=[Name(id='d', ctx=Load()), Name(id='bool', ctx=Load()), Constant(value='editable')], keywords=[keyword(arg='default', value=Constant(value=False))]))]))], decorator_list=[Name(id='classmethod', ctx=Load())], returns=Subscript(value=Name(id='Optional', ctx=Load()), slice=Constant(value='DirInfo'), ctx=Load())), FunctionDef(name='_to_dict', args=arguments(posonlyargs=[], args=[arg(arg='self')], kwonlyargs=[], kw_defaults=[], defaults=[]), body=[Return(value=Call(func=Name(id='_filter_none', ctx=Load()), args=[], keywords=[keyword(arg='editable', value=BoolOp(op=Or(), values=[Attribute(value=Name(id='self', ctx=Load()), attr='editable', ctx=Load()), Constant(value=None)]))]))], decorator_list=[], returns=Subscript(value=Name(id='Dict', ctx=Load()), slice=Tuple(elts=[Name(id='str', ctx=Load()), Name(id='Any', ctx=Load())], ctx=Load()), ctx=Load()))], decorator_list=[]), Assign(targets=[Name(id='InfoType', ctx=Store())], value=Subscript(value=Name(id='Union', ctx=Load()), slice=Tuple(elts=[Name(id='ArchiveInfo', ctx=Load()), Name(id='DirInfo', ctx=Load()), Name(id='VcsInfo', ctx=Load())], ctx=Load()), ctx=Load())), ClassDef(name='DirectUrl', bases=[], keywords=[], body=[FunctionDef(name='__init__', args=arguments(posonlyargs=[], args=[arg(arg='self'), arg(arg='url', annotation=Name(id='str', ctx=Load())), arg(arg='info', annotation=Name(id='InfoType', ctx=Load())), arg(arg='subdirectory', annotation=Subscript(value=Name(id='Optional', ctx=Load()), slice=Name(id='str', ctx=Load()), ctx=Load()))], kwonlyargs=[], kw_defaults=[], defaults=[Constant(value=None)]), body=[Assign(targets=[Attribute(value=Name(id='self', ctx=Load()), attr='url', ctx=Store())], value=Name(id='url', ctx=Load())), Assign(targets=[Attribute(value=Name(id='self', ctx=Load()), attr='info', ctx=Store())], value=Name(id='info', ctx=Load())), Assign(targets=[Attribute(value=Name(id='self', ctx=Load()), attr='subdirectory', ctx=Store())], value=Name(id='subdirectory', ctx=Load()))], decorator_list=[], returns=Constant(value=None)), FunctionDef(name='_remove_auth_from_netloc', args=arguments(posonlyargs=[], args=[arg(arg='self'), arg(arg='netloc', annotation=Name(id='str', ctx=Load()))], kwonlyargs=[], kw_defaults=[], defaults=[]), body=[If(test=Compare(left=Constant(value='@'), ops=[NotIn()], comparators=[Name(id='netloc', ctx=Load())]), body=[Return(value=Name(id='netloc', ctx=Load()))], orelse=[]), Assign(targets=[Tuple(elts=[Name(id='user_pass', ctx=Store()), Name(id='netloc_no_user_pass', ctx=Store())], ctx=Store())], value=Call(func=Attribute(value=Name(id='netloc', ctx=Load()), attr='split', ctx=Load()), args=[Constant(value='@'), Constant(value=1)], keywords=[])), If(test=BoolOp(op=And(), values=[Call(func=Name(id='isinstance', ctx=Load()), args=[Attribute(value=Name(id='self', ctx=Load()), attr='info', ctx=Load()), Name(id='VcsInfo', ctx=Load())], keywords=[]), Compare(left=Attribute(value=Attribute(value=Name(id='self', ctx=Load()), attr='info', ctx=Load()), attr='vcs', ctx=Load()), ops=[Eq()], comparators=[Constant(value='git')]), Compare(left=Name(id='user_pass', ctx=Load()), ops=[Eq()], comparators=[Constant(value='git')])]), body=[Return(value=Name(id='netloc', ctx=Load()))], orelse=[]), If(test=Call(func=Attribute(value=Name(id='ENV_VAR_RE', ctx=Load()), attr='match', ctx=Load()), args=[Name(id='user_pass', ctx=Load())], keywords=[]), body=[Return(value=Name(id='netloc', ctx=Load()))], orelse=[]), Return(value=Name(id='netloc_no_user_pass', ctx=Load()))], decorator_list=[], returns=Name(id='str', ctx=Load())), FunctionDef(name='redacted_url', args=arguments(posonlyargs=[], args=[arg(arg='self')], kwonlyargs=[], kw_defaults=[], defaults=[]), body=[Expr(value=Constant(value='url with user:password part removed unless it is formed with\n        environment variables as specified in PEP 610, or it is ``git``\n        in the case of a git URL.\n        ')), Assign(targets=[Name(id='purl', ctx=Store())], value=Call(func=Attribute(value=Attribute(value=Name(id='urllib', ctx=Load()), attr='parse', ctx=Load()), attr='urlsplit', ctx=Load()), args=[Attribute(value=Name(id='self', ctx=Load()), attr='url', ctx=Load())], keywords=[])), Assign(targets=[Name(id='netloc', ctx=Store())], value=Call(func=Attribute(value=Name(id='self', ctx=Load()), attr='_remove_auth_from_netloc', ctx=Load()), args=[Attribute(value=Name(id='purl', ctx=Load()), attr='netloc', ctx=Load())], keywords=[])), Assign(targets=[Name(id='surl', ctx=Store())], value=Call(func=Attribute(value=Attribute(value=Name(id='urllib', ctx=Load()), attr='parse', ctx=Load()), attr='urlunsplit', ctx=Load()), args=[Tuple(elts=[Attribute(value=Name(id='purl', ctx=Load()), attr='scheme', ctx=Load()), Name(id='netloc', ctx=Load()), Attribute(value=Name(id='purl', ctx=Load()), attr='path', ctx=Load()), Attribute(value=Name(id='purl', ctx=Load()), attr='query', ctx=Load()), Attribute(value=Name(id='purl', ctx=Load()), attr='fragment', ctx=Load())], ctx=Load())], keywords=[])), Return(value=Name(id='surl', ctx=Load()))], decorator_list=[Name(id='property', ctx=Load())], returns=Name(id='str', ctx=Load())), FunctionDef(name='validate', args=arguments(posonlyargs=[], args=[arg(arg='self')], kwonlyargs=[], kw_defaults=[], defaults=[]), body=[Expr(value=Call(func=Attribute(value=Name(id='self', ctx=Load()), attr='from_dict', ctx=Load()), args=[Call(func=Attribute(value=Name(id='self', ctx=Load()), attr='to_dict', ctx=Load()), args=[], keywords=[])], keywords=[]))], decorator_list=[], returns=Constant(value=None)), FunctionDef(name='from_dict', args=arguments(posonlyargs=[], args=[arg(arg='cls'), arg(arg='d', annotation=Subscript(value=Name(id='Dict', ctx=Load()), slice=Tuple(elts=[Name(id='str', ctx=Load()), Name(id='Any', ctx=Load())], ctx=Load()), ctx=Load()))], kwonlyargs=[], kw_defaults=[], defaults=[]), body=[Return(value=Call(func=Name(id='DirectUrl', ctx=Load()), args=[], keywords=[keyword(arg='url', value=Call(func=Name(id='_get_required', ctx=Load()), args=[Name(id='d', ctx=Load()), Name(id='str', ctx=Load()), Constant(value='url')], keywords=[])), keyword(arg='subdirectory', value=Call(func=Name(id='_get', ctx=Load()), args=[Name(id='d', ctx=Load()), Name(id='str', ctx=Load()), Constant(value='subdirectory')], keywords=[])), keyword(arg='info', value=Call(func=Name(id='_exactly_one_of', ctx=Load()), args=[List(elts=[Call(func=Attribute(value=Name(id='ArchiveInfo', ctx=Load()), attr='_from_dict', ctx=Load()), args=[Call(func=Name(id='_get', ctx=Load()), args=[Name(id='d', ctx=Load()), Name(id='dict', ctx=Load()), Constant(value='archive_info')], keywords=[])], keywords=[]), Call(func=Attribute(value=Name(id='DirInfo', ctx=Load()), attr='_from_dict', ctx=Load()), args=[Call(func=Name(id='_get', ctx=Load()), args=[Name(id='d', ctx=Load()), Name(id='dict', ctx=Load()), Constant(value='dir_info')], keywords=[])], keywords=[]), Call(func=Attribute(value=Name(id='VcsInfo', ctx=Load()), attr='_from_dict', ctx=Load()), args=[Call(func=Name(id='_get', ctx=Load()), args=[Name(id='d', ctx=Load()), Name(id='dict', ctx=Load()), Constant(value='vcs_info')], keywords=[])], keywords=[])], ctx=Load())], keywords=[]))]))], decorator_list=[Name(id='classmethod', ctx=Load())], returns=Constant(value='DirectUrl')), FunctionDef(name='to_dict', args=arguments(posonlyargs=[], args=[arg(arg='self')], kwonlyargs=[], kw_defaults=[], defaults=[]), body=[Assign(targets=[Name(id='res', ctx=Store())], value=Call(func=Name(id='_filter_none', ctx=Load()), args=[], keywords=[keyword(arg='url', value=Attribute(value=Name(id='self', ctx=Load()), attr='redacted_url', ctx=Load())), keyword(arg='subdirectory', value=Attribute(value=Name(id='self', ctx=Load()), attr='subdirectory', ctx=Load()))])), Assign(targets=[Subscript(value=Name(id='res', ctx=Load()), slice=Attribute(value=Attribute(value=Name(id='self', ctx=Load()), attr='info', ctx=Load()), attr='name', ctx=Load()), ctx=Store())], value=Call(func=Attribute(value=Attribute(value=Name(id='self', ctx=Load()), attr='info', ctx=Load()), attr='_to_dict', ctx=Load()), args=[], keywords=[])), Return(value=Name(id='res', ctx=Load()))], decorator_list=[], returns=Subscript(value=Name(id='Dict', ctx=Load()), slice=Tuple(elts=[Name(id='str', ctx=Load()), Name(id='Any', ctx=Load())], ctx=Load()), ctx=Load())), FunctionDef(name='from_json', args=arguments(posonlyargs=[], args=[arg(arg='cls'), arg(arg='s', annotation=Name(id='str', ctx=Load()))], kwonlyargs=[], kw_defaults=[], defaults=[]), body=[Return(value=Call(func=Attribute(value=Name(id='cls', ctx=Load()), attr='from_dict', ctx=Load()), args=[Call(func=Attribute(value=Name(id='json', ctx=Load()), attr='loads', ctx=Load()), args=[Name(id='s', ctx=Load())], keywords=[])], keywords=[]))], decorator_list=[Name(id='classmethod', ctx=Load())], returns=Constant(value='DirectUrl')), FunctionDef(name='to_json', args=arguments(posonlyargs=[], args=[arg(arg='self')], kwonlyargs=[], kw_defaults=[], defaults=[]), body=[Return(value=Call(func=Attribute(value=Name(id='json', ctx=Load()), attr='dumps', ctx=Load()), args=[Call(func=Attribute(value=Name(id='self', ctx=Load()), attr='to_dict', ctx=Load()), args=[], keywords=[])], keywords=[keyword(arg='sort_keys', value=Constant(value=True))]))], decorator_list=[], returns=Name(id='str', ctx=Load())), FunctionDef(name='is_local_editable', args=arguments(posonlyargs=[], args=[arg(arg='self')], kwonlyargs=[], kw_defaults=[], defaults=[]), body=[Return(value=BoolOp(op=And(), values=[Call(func=Name(id='isinstance', ctx=Load()), args=[Attribute(value=Name(id='self', ctx=Load()), attr='info', ctx=Load()), Name(id='DirInfo', ctx=Load())], keywords=[]), Attribute(value=Attribute(value=Name(id='self', ctx=Load()), attr='info', ctx=Load()), attr='editable', ctx=Load())]))], decorator_list=[], returns=Name(id='bool', ctx=Load()))], decorator_list=[])], type_ignores=[])