Module(body=[Expr(value=Constant(value='\nCreate a dist_info directory\nAs defined in the wheel specification\n')), Import(names=[alias(name='os')]), Import(names=[alias(name='shutil')]), Import(names=[alias(name='sys')]), ImportFrom(module='contextlib', names=[alias(name='contextmanager')], level=0), ImportFrom(module='distutils', names=[alias(name='log')], level=0), ImportFrom(module='distutils.core', names=[alias(name='Command')], level=0), ImportFrom(module='pathlib', names=[alias(name='Path')], level=0), ImportFrom(names=[alias(name='_normalization')], level=2), ImportFrom(module='warnings', names=[alias(name='SetuptoolsDeprecationWarning')], level=2), ClassDef(name='dist_info', bases=[Name(id='Command', ctx=Load())], keywords=[], body=[Expr(value=Constant(value='\n    This command is private and reserved for internal use of setuptools,\n    users should rely on ``setuptools.build_meta`` APIs.\n    ')), Assign(targets=[Name(id='description', ctx=Store())], value=Constant(value='DO NOT CALL DIRECTLY, INTERNAL ONLY: create .dist-info directory')), Assign(targets=[Name(id='user_options', ctx=Store())], value=List(elts=[Tuple(elts=[Constant(value='egg-base='), Constant(value='e'), Constant(value='directory containing .egg-info directories (default: top of the source tree) DEPRECATED: use --output-dir.')], ctx=Load()), Tuple(elts=[Constant(value='output-dir='), Constant(value='o'), Constant(value='directory inside of which the .dist-info will becreated (default: top of the source tree)')], ctx=Load()), Tuple(elts=[Constant(value='tag-date'), Constant(value='d'), Constant(value='Add date stamp (e.g. 20050528) to version number')], ctx=Load()), Tuple(elts=[Constant(value='tag-build='), Constant(value='b'), Constant(value='Specify explicit tag to add to version number')], ctx=Load()), Tuple(elts=[Constant(value='no-date'), Constant(value='D'), Constant(value="Don't include date stamp [default]")], ctx=Load()), Tuple(elts=[Constant(value='keep-egg-info'), Constant(value=None), Constant(value='*TRANSITIONAL* will be removed in the future')], ctx=Load())], ctx=Load())), Assign(targets=[Name(id='boolean_options', ctx=Store())], value=List(elts=[Constant(value='tag-date'), Constant(value='keep-egg-info')], ctx=Load())), Assign(targets=[Name(id='negative_opt', ctx=Store())], value=Dict(keys=[Constant(value='no-date')], values=[Constant(value='tag-date')])), FunctionDef(name='initialize_options', args=arguments(posonlyargs=[], args=[arg(arg='self')], kwonlyargs=[], kw_defaults=[], defaults=[]), body=[Assign(targets=[Attribute(value=Name(id='self', ctx=Load()), attr='egg_base', ctx=Store())], value=Constant(value=None)), Assign(targets=[Attribute(value=Name(id='self', ctx=Load()), attr='output_dir', ctx=Store())], value=Constant(value=None)), Assign(targets=[Attribute(value=Name(id='self', ctx=Load()), attr='name', ctx=Store())], value=Constant(value=None)), Assign(targets=[Attribute(value=Name(id='self', ctx=Load()), attr='dist_info_dir', ctx=Store())], value=Constant(value=None)), Assign(targets=[Attribute(value=Name(id='self', ctx=Load()), attr='tag_date', ctx=Store())], value=Constant(value=None)), Assign(targets=[Attribute(value=Name(id='self', ctx=Load()), attr='tag_build', ctx=Store())], value=Constant(value=None)), Assign(targets=[Attribute(value=Name(id='self', ctx=Load()), attr='keep_egg_info', ctx=Store())], value=Constant(value=False))], decorator_list=[]), FunctionDef(name='finalize_options', args=arguments(posonlyargs=[], args=[arg(arg='self')], kwonlyargs=[], kw_defaults=[], defaults=[]), body=[If(test=Attribute(value=Name(id='self', ctx=Load()), attr='egg_base', ctx=Load()), body=[Assign(targets=[Name(id='msg', ctx=Store())], value=Constant(value='--egg-base is deprecated for dist_info command. Use --output-dir.')), Expr(value=Call(func=Attribute(value=Name(id='SetuptoolsDeprecationWarning', ctx=Load()), attr='emit', ctx=Load()), args=[Name(id='msg', ctx=Load())], keywords=[keyword(arg='due_date', value=Tuple(elts=[Constant(value=2023), Constant(value=9), Constant(value=26)], ctx=Load()))])), Assign(targets=[Attribute(value=Name(id='self', ctx=Load()), attr='output_dir', ctx=Store())], value=BoolOp(op=Or(), values=[Attribute(value=Name(id='self', ctx=Load()), attr='egg_base', ctx=Load()), Attribute(value=Name(id='self', ctx=Load()), attr='output_dir', ctx=Load())]))], orelse=[]), Assign(targets=[Name(id='dist', ctx=Store())], value=Attribute(value=Name(id='self', ctx=Load()), attr='distribution', ctx=Load())), Assign(targets=[Name(id='project_dir', ctx=Store())], value=BoolOp(op=Or(), values=[Attribute(value=Name(id='dist', ctx=Load()), attr='src_root', ctx=Load()), Attribute(value=Name(id='os', ctx=Load()), attr='curdir', ctx=Load())])), Assign(targets=[Attribute(value=Name(id='self', ctx=Load()), attr='output_dir', ctx=Store())], value=Call(func=Name(id='Path', ctx=Load()), args=[BoolOp(op=Or(), values=[Attribute(value=Name(id='self', ctx=Load()), attr='output_dir', ctx=Load()), Name(id='project_dir', ctx=Load())])], keywords=[])), Assign(targets=[Name(id='egg_info', ctx=Store())], value=Call(func=Attribute(value=Name(id='self', ctx=Load()), attr='reinitialize_command', ctx=Load()), args=[Constant(value='egg_info')], keywords=[])), Assign(targets=[Attribute(value=Name(id='egg_info', ctx=Load()), attr='egg_base', ctx=Store())], value=Call(func=Name(id='str', ctx=Load()), args=[Attribute(value=Name(id='self', ctx=Load()), attr='output_dir', ctx=Load())], keywords=[])), If(test=Attribute(value=Name(id='self', ctx=Load()), attr='tag_date', ctx=Load()), body=[Assign(targets=[Attribute(value=Name(id='egg_info', ctx=Load()), attr='tag_date', ctx=Store())], value=Attribute(value=Name(id='self', ctx=Load()), attr='tag_date', ctx=Load()))], orelse=[Assign(targets=[Attribute(value=Name(id='self', ctx=Load()), attr='tag_date', ctx=Store())], value=Attribute(value=Name(id='egg_info', ctx=Load()), attr='tag_date', ctx=Load()))]), If(test=Attribute(value=Name(id='self', ctx=Load()), attr='tag_build', ctx=Load()), body=[Assign(targets=[Attribute(value=Name(id='egg_info', ctx=Load()), attr='tag_build', ctx=Store())], value=Attribute(value=Name(id='self', ctx=Load()), attr='tag_build', ctx=Load()))], orelse=[Assign(targets=[Attribute(value=Name(id='self', ctx=Load()), attr='tag_build', ctx=Store())], value=Attribute(value=Name(id='egg_info', ctx=Load()), attr='tag_build', ctx=Load()))]), Expr(value=Call(func=Attribute(value=Name(id='egg_info', ctx=Load()), attr='finalize_options', ctx=Load()), args=[], keywords=[])), Assign(targets=[Attribute(value=Name(id='self', ctx=Load()), attr='egg_info', ctx=Store())], value=Name(id='egg_info', ctx=Load())), Assign(targets=[Name(id='name', ctx=Store())], value=Call(func=Attribute(value=Name(id='_normalization', ctx=Load()), attr='safer_name', ctx=Load()), args=[Call(func=Attribute(value=Name(id='dist', ctx=Load()), attr='get_name', ctx=Load()), args=[], keywords=[])], keywords=[])), Assign(targets=[Name(id='version', ctx=Store())], value=Call(func=Attribute(value=Name(id='_normalization', ctx=Load()), attr='safer_best_effort_version', ctx=Load()), args=[Call(func=Attribute(value=Name(id='dist', ctx=Load()), attr='get_version', ctx=Load()), args=[], keywords=[])], keywords=[])), Assign(targets=[Attribute(value=Name(id='self', ctx=Load()), attr='name', ctx=Store())], value=JoinedStr(values=[FormattedValue(value=Name(id='name', ctx=Load()), conversion=-1), Constant(value='-'), FormattedValue(value=Name(id='version', ctx=Load()), conversion=-1)])), Assign(targets=[Attribute(value=Name(id='self', ctx=Load()), attr='dist_info_dir', ctx=Store())], value=Call(func=Attribute(value=Attribute(value=Name(id='os', ctx=Load()), attr='path', ctx=Load()), attr='join', ctx=Load()), args=[Attribute(value=Name(id='self', ctx=Load()), attr='output_dir', ctx=Load()), JoinedStr(values=[FormattedValue(value=Attribute(value=Name(id='self', ctx=Load()), attr='name', ctx=Load()), conversion=-1), Constant(value='.dist-info')])], keywords=[]))], decorator_list=[]), FunctionDef(name='_maybe_bkp_dir', args=arguments(posonlyargs=[], args=[arg(arg='self'), arg(arg='dir_path', annotation=Name(id='str', ctx=Load())), arg(arg='requires_bkp', annotation=Name(id='bool', ctx=Load()))], kwonlyargs=[], kw_defaults=[], defaults=[]), body=[If(test=Name(id='requires_bkp', ctx=Load()), body=[Assign(targets=[Name(id='bkp_name', ctx=Store())], value=JoinedStr(values=[FormattedValue(value=Name(id='dir_path', ctx=Load()), conversion=-1), Constant(value='.__bkp__')])), Expr(value=Call(func=Name(id='_rm', ctx=Load()), args=[Name(id='bkp_name', ctx=Load())], keywords=[keyword(arg='ignore_errors', value=Constant(value=True))])), Expr(value=Call(func=Name(id='_copy', ctx=Load()), args=[Name(id='dir_path', ctx=Load()), Name(id='bkp_name', ctx=Load())], keywords=[keyword(arg='dirs_exist_ok', value=Constant(value=True)), keyword(arg='symlinks', value=Constant(value=True))])), Try(body=[Expr(value=Yield())], handlers=[], orelse=[], finalbody=[Expr(value=Call(func=Name(id='_rm', ctx=Load()), args=[Name(id='dir_path', ctx=Load())], keywords=[keyword(arg='ignore_errors', value=Constant(value=True))])), Expr(value=Call(func=Attribute(value=Name(id='shutil', ctx=Load()), attr='move', ctx=Load()), args=[Name(id='bkp_name', ctx=Load()), Name(id='dir_path', ctx=Load())], keywords=[]))])], orelse=[Expr(value=Yield())])], decorator_list=[Name(id='contextmanager', ctx=Load())]), FunctionDef(name='run', args=arguments(posonlyargs=[], args=[arg(arg='self')], kwonlyargs=[], kw_defaults=[], defaults=[]), body=[Expr(value=Call(func=Attribute(value=Attribute(value=Name(id='self', ctx=Load()), attr='output_dir', ctx=Load()), attr='mkdir', ctx=Load()), args=[], keywords=[keyword(arg='parents', value=Constant(value=True)), keyword(arg='exist_ok', value=Constant(value=True))])), Expr(value=Call(func=Attribute(value=Attribute(value=Name(id='self', ctx=Load()), attr='egg_info', ctx=Load()), attr='run', ctx=Load()), args=[], keywords=[])), Assign(targets=[Name(id='egg_info_dir', ctx=Store())], value=Attribute(value=Attribute(value=Name(id='self', ctx=Load()), attr='egg_info', ctx=Load()), attr='egg_info', ctx=Load())), Assert(test=Call(func=Attribute(value=Attribute(value=Name(id='os', ctx=Load()), attr='path', ctx=Load()), attr='isdir', ctx=Load()), args=[Name(id='egg_info_dir', ctx=Load())], keywords=[]), msg=Constant(value='.egg-info dir should have been created')), Expr(value=Call(func=Attribute(value=Name(id='log', ctx=Load()), attr='info', ctx=Load()), args=[Call(func=Attribute(value=Constant(value="creating '{}'"), attr='format', ctx=Load()), args=[Call(func=Attribute(value=Attribute(value=Name(id='os', ctx=Load()), attr='path', ctx=Load()), attr='abspath', ctx=Load()), args=[Attribute(value=Name(id='self', ctx=Load()), attr='dist_info_dir', ctx=Load())], keywords=[])], keywords=[])], keywords=[])), Assign(targets=[Name(id='bdist_wheel', ctx=Store())], value=Call(func=Attribute(value=Name(id='self', ctx=Load()), attr='get_finalized_command', ctx=Load()), args=[Constant(value='bdist_wheel')], keywords=[])), With(items=[withitem(context_expr=Call(func=Attribute(value=Name(id='self', ctx=Load()), attr='_maybe_bkp_dir', ctx=Load()), args=[Name(id='egg_info_dir', ctx=Load()), Attribute(value=Name(id='self', ctx=Load()), attr='keep_egg_info', ctx=Load())], keywords=[]))], body=[Expr(value=Call(func=Attribute(value=Name(id='bdist_wheel', ctx=Load()), attr='egg2dist', ctx=Load()), args=[Name(id='egg_info_dir', ctx=Load()), Attribute(value=Name(id='self', ctx=Load()), attr='dist_info_dir', ctx=Load())], keywords=[]))])], decorator_list=[])], decorator_list=[]), FunctionDef(name='_rm', args=arguments(posonlyargs=[], args=[arg(arg='dir_name')], kwonlyargs=[], kw_defaults=[], kwarg=arg(arg='opts'), defaults=[]), body=[If(test=Call(func=Attribute(value=Attribute(value=Name(id='os', ctx=Load()), attr='path', ctx=Load()), attr='isdir', ctx=Load()), args=[Name(id='dir_name', ctx=Load())], keywords=[]), body=[Expr(value=Call(func=Attribute(value=Name(id='shutil', ctx=Load()), attr='rmtree', ctx=Load()), args=[Name(id='dir_name', ctx=Load())], keywords=[keyword(value=Name(id='opts', ctx=Load()))]))], orelse=[])], decorator_list=[]), FunctionDef(name='_copy', args=arguments(posonlyargs=[], args=[arg(arg='src'), arg(arg='dst')], kwonlyargs=[], kw_defaults=[], kwarg=arg(arg='opts'), defaults=[]), body=[If(test=Compare(left=Attribute(value=Name(id='sys', ctx=Load()), attr='version_info', ctx=Load()), ops=[Lt()], comparators=[Tuple(elts=[Constant(value=3), Constant(value=8)], ctx=Load())]), body=[Expr(value=Call(func=Attribute(value=Name(id='opts', ctx=Load()), attr='pop', ctx=Load()), args=[Constant(value='dirs_exist_ok'), Constant(value=None)], keywords=[]))], orelse=[]), Expr(value=Call(func=Attribute(value=Name(id='shutil', ctx=Load()), attr='copytree', ctx=Load()), args=[Name(id='src', ctx=Load()), Name(id='dst', ctx=Load())], keywords=[keyword(value=Name(id='opts', ctx=Load()))]))], decorator_list=[])], type_ignores=[])