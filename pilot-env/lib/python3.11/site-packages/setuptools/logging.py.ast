Module(body=[Import(names=[alias(name='sys')]), Import(names=[alias(name='inspect')]), Import(names=[alias(name='logging')]), Import(names=[alias(name='distutils.log')]), ImportFrom(names=[alias(name='monkey')], level=1), FunctionDef(name='_not_warning', args=arguments(posonlyargs=[], args=[arg(arg='record')], kwonlyargs=[], kw_defaults=[], defaults=[]), body=[Return(value=Compare(left=Attribute(value=Name(id='record', ctx=Load()), attr='levelno', ctx=Load()), ops=[Lt()], comparators=[Attribute(value=Name(id='logging', ctx=Load()), attr='WARNING', ctx=Load())]))], decorator_list=[]), FunctionDef(name='configure', args=arguments(posonlyargs=[], args=[], kwonlyargs=[], kw_defaults=[], defaults=[]), body=[Expr(value=Constant(value='\n    Configure logging to emit warning and above to stderr\n    and everything else to stdout. This behavior is provided\n    for compatibility with distutils.log but may change in\n    the future.\n    ')), Assign(targets=[Name(id='err_handler', ctx=Store())], value=Call(func=Attribute(value=Name(id='logging', ctx=Load()), attr='StreamHandler', ctx=Load()), args=[], keywords=[])), Expr(value=Call(func=Attribute(value=Name(id='err_handler', ctx=Load()), attr='setLevel', ctx=Load()), args=[Attribute(value=Name(id='logging', ctx=Load()), attr='WARNING', ctx=Load())], keywords=[])), Assign(targets=[Name(id='out_handler', ctx=Store())], value=Call(func=Attribute(value=Name(id='logging', ctx=Load()), attr='StreamHandler', ctx=Load()), args=[Attribute(value=Name(id='sys', ctx=Load()), attr='stdout', ctx=Load())], keywords=[])), Expr(value=Call(func=Attribute(value=Name(id='out_handler', ctx=Load()), attr='addFilter', ctx=Load()), args=[Name(id='_not_warning', ctx=Load())], keywords=[])), Assign(targets=[Name(id='handlers', ctx=Store())], value=Tuple(elts=[Name(id='err_handler', ctx=Load()), Name(id='out_handler', ctx=Load())], ctx=Load())), Expr(value=Call(func=Attribute(value=Name(id='logging', ctx=Load()), attr='basicConfig', ctx=Load()), args=[], keywords=[keyword(arg='format', value=Constant(value='{message}')), keyword(arg='style', value=Constant(value='{')), keyword(arg='handlers', value=Name(id='handlers', ctx=Load())), keyword(arg='level', value=Attribute(value=Name(id='logging', ctx=Load()), attr='DEBUG', ctx=Load()))])), If(test=Call(func=Attribute(value=Name(id='inspect', ctx=Load()), attr='ismodule', ctx=Load()), args=[Attribute(value=Attribute(value=Name(id='distutils', ctx=Load()), attr='dist', ctx=Load()), attr='log', ctx=Load())], keywords=[]), body=[Expr(value=Call(func=Attribute(value=Name(id='monkey', ctx=Load()), attr='patch_func', ctx=Load()), args=[Name(id='set_threshold', ctx=Load()), Attribute(value=Name(id='distutils', ctx=Load()), attr='log', ctx=Load()), Constant(value='set_threshold')], keywords=[])), Assign(targets=[Attribute(value=Attribute(value=Name(id='distutils', ctx=Load()), attr='dist', ctx=Load()), attr='log', ctx=Store())], value=Attribute(value=Name(id='distutils', ctx=Load()), attr='log', ctx=Load()))], orelse=[])], decorator_list=[]), FunctionDef(name='set_threshold', args=arguments(posonlyargs=[], args=[arg(arg='level')], kwonlyargs=[], kw_defaults=[], defaults=[]), body=[Expr(value=Call(func=Attribute(value=Attribute(value=Name(id='logging', ctx=Load()), attr='root', ctx=Load()), attr='setLevel', ctx=Load()), args=[BinOp(left=Name(id='level', ctx=Load()), op=Mult(), right=Constant(value=10))], keywords=[])), Return(value=Call(func=Attribute(value=Name(id='set_threshold', ctx=Load()), attr='unpatched', ctx=Load()), args=[Name(id='level', ctx=Load())], keywords=[]))], decorator_list=[])], type_ignores=[])