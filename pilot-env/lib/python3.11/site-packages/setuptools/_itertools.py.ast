Module(body=[ImportFrom(module='setuptools.extern.more_itertools', names=[alias(name='consume')], level=0), FunctionDef(name='ensure_unique', args=arguments(posonlyargs=[], args=[arg(arg='iterable'), arg(arg='key')], kwonlyargs=[], kw_defaults=[], defaults=[Lambda(args=arguments(posonlyargs=[], args=[arg(arg='x')], kwonlyargs=[], kw_defaults=[], defaults=[]), body=Name(id='x', ctx=Load()))]), body=[Expr(value=Constant(value="\n    Wrap an iterable to raise a ValueError if non-unique values are encountered.\n\n    >>> list(ensure_unique('abc'))\n    ['a', 'b', 'c']\n    >>> consume(ensure_unique('abca'))\n    Traceback (most recent call last):\n    ...\n    ValueError: Duplicate element 'a' encountered.\n    ")), Assign(targets=[Name(id='seen', ctx=Store())], value=Call(func=Name(id='set', ctx=Load()), args=[], keywords=[])), Assign(targets=[Name(id='seen_add', ctx=Store())], value=Attribute(value=Name(id='seen', ctx=Load()), attr='add', ctx=Load())), For(target=Name(id='element', ctx=Store()), iter=Name(id='iterable', ctx=Load()), body=[Assign(targets=[Name(id='k', ctx=Store())], value=Call(func=Name(id='key', ctx=Load()), args=[Name(id='element', ctx=Load())], keywords=[])), If(test=Compare(left=Name(id='k', ctx=Load()), ops=[In()], comparators=[Name(id='seen', ctx=Load())]), body=[Raise(exc=Call(func=Name(id='ValueError', ctx=Load()), args=[JoinedStr(values=[Constant(value='Duplicate element '), FormattedValue(value=Name(id='element', ctx=Load()), conversion=114), Constant(value=' encountered.')])], keywords=[]))], orelse=[]), Expr(value=Call(func=Name(id='seen_add', ctx=Load()), args=[Name(id='k', ctx=Load())], keywords=[])), Expr(value=Yield(value=Name(id='element', ctx=Load())))], orelse=[])], decorator_list=[])], type_ignores=[])