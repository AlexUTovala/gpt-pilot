Module(body=[Expr(value=Constant(value='distutils.bcppcompiler\n\nContains BorlandCCompiler, an implementation of the abstract CCompiler class\nfor the Borland C++ compiler.\n')), Import(names=[alias(name='os')]), Import(names=[alias(name='warnings')]), ImportFrom(module='errors', names=[alias(name='DistutilsExecError'), alias(name='CompileError'), alias(name='LibError'), alias(name='LinkError'), alias(name='UnknownFileError')], level=1), ImportFrom(module='ccompiler', names=[alias(name='CCompiler'), alias(name='gen_preprocess_options')], level=1), ImportFrom(module='file_util', names=[alias(name='write_file')], level=1), ImportFrom(module='dep_util', names=[alias(name='newer')], level=1), ImportFrom(module='_log', names=[alias(name='log')], level=1), Expr(value=Call(func=Attribute(value=Name(id='warnings', ctx=Load()), attr='warn', ctx=Load()), args=[Constant(value='bcppcompiler is deprecated and slated to be removed in the future. Please discontinue use or file an issue with pypa/distutils describing your use case.'), Name(id='DeprecationWarning', ctx=Load())], keywords=[])), ClassDef(name='BCPPCompiler', bases=[Name(id='CCompiler', ctx=Load())], keywords=[], body=[Expr(value=Constant(value='Concrete class that implements an interface to the Borland C/C++\n    compiler, as defined by the CCompiler abstract class.\n    ')), Assign(targets=[Name(id='compiler_type', ctx=Store())], value=Constant(value='bcpp')), Assign(targets=[Name(id='executables', ctx=Store())], value=Dict(keys=[], values=[])), Assign(targets=[Name(id='_c_extensions', ctx=Store())], value=List(elts=[Constant(value='.c')], ctx=Load())), Assign(targets=[Name(id='_cpp_extensions', ctx=Store())], value=List(elts=[Constant(value='.cc'), Constant(value='.cpp'), Constant(value='.cxx')], ctx=Load())), Assign(targets=[Name(id='src_extensions', ctx=Store())], value=BinOp(left=Name(id='_c_extensions', ctx=Load()), op=Add(), right=Name(id='_cpp_extensions', ctx=Load()))), Assign(targets=[Name(id='obj_extension', ctx=Store())], value=Constant(value='.obj')), Assign(targets=[Name(id='static_lib_extension', ctx=Store())], value=Constant(value='.lib')), Assign(targets=[Name(id='shared_lib_extension', ctx=Store())], value=Constant(value='.dll')), Assign(targets=[Name(id='static_lib_format', ctx=Store()), Name(id='shared_lib_format', ctx=Store())], value=Constant(value='%s%s')), Assign(targets=[Name(id='exe_extension', ctx=Store())], value=Constant(value='.exe')), FunctionDef(name='__init__', args=arguments(posonlyargs=[], args=[arg(arg='self'), arg(arg='verbose'), arg(arg='dry_run'), arg(arg='force')], kwonlyargs=[], kw_defaults=[], defaults=[Constant(value=0), Constant(value=0), Constant(value=0)]), body=[Expr(value=Call(func=Attribute(value=Call(func=Name(id='super', ctx=Load()), args=[], keywords=[]), attr='__init__', ctx=Load()), args=[Name(id='verbose', ctx=Load()), Name(id='dry_run', ctx=Load()), Name(id='force', ctx=Load())], keywords=[])), Assign(targets=[Attribute(value=Name(id='self', ctx=Load()), attr='cc', ctx=Store())], value=Constant(value='bcc32.exe')), Assign(targets=[Attribute(value=Name(id='self', ctx=Load()), attr='linker', ctx=Store())], value=Constant(value='ilink32.exe')), Assign(targets=[Attribute(value=Name(id='self', ctx=Load()), attr='lib', ctx=Store())], value=Constant(value='tlib.exe')), Assign(targets=[Attribute(value=Name(id='self', ctx=Load()), attr='preprocess_options', ctx=Store())], value=Constant(value=None)), Assign(targets=[Attribute(value=Name(id='self', ctx=Load()), attr='compile_options', ctx=Store())], value=List(elts=[Constant(value='/tWM'), Constant(value='/O2'), Constant(value='/q'), Constant(value='/g0')], ctx=Load())), Assign(targets=[Attribute(value=Name(id='self', ctx=Load()), attr='compile_options_debug', ctx=Store())], value=List(elts=[Constant(value='/tWM'), Constant(value='/Od'), Constant(value='/q'), Constant(value='/g0')], ctx=Load())), Assign(targets=[Attribute(value=Name(id='self', ctx=Load()), attr='ldflags_shared', ctx=Store())], value=List(elts=[Constant(value='/Tpd'), Constant(value='/Gn'), Constant(value='/q'), Constant(value='/x')], ctx=Load())), Assign(targets=[Attribute(value=Name(id='self', ctx=Load()), attr='ldflags_shared_debug', ctx=Store())], value=List(elts=[Constant(value='/Tpd'), Constant(value='/Gn'), Constant(value='/q'), Constant(value='/x')], ctx=Load())), Assign(targets=[Attribute(value=Name(id='self', ctx=Load()), attr='ldflags_static', ctx=Store())], value=List(elts=[], ctx=Load())), Assign(targets=[Attribute(value=Name(id='self', ctx=Load()), attr='ldflags_exe', ctx=Store())], value=List(elts=[Constant(value='/Gn'), Constant(value='/q'), Constant(value='/x')], ctx=Load())), Assign(targets=[Attribute(value=Name(id='self', ctx=Load()), attr='ldflags_exe_debug', ctx=Store())], value=List(elts=[Constant(value='/Gn'), Constant(value='/q'), Constant(value='/x'), Constant(value='/r')], ctx=Load()))], decorator_list=[]), FunctionDef(name='compile', args=arguments(posonlyargs=[], args=[arg(arg='self'), arg(arg='sources'), arg(arg='output_dir'), arg(arg='macros'), arg(arg='include_dirs'), arg(arg='debug'), arg(arg='extra_preargs'), arg(arg='extra_postargs'), arg(arg='depends')], kwonlyargs=[], kw_defaults=[], defaults=[Constant(value=None), Constant(value=None), Constant(value=None), Constant(value=0), Constant(value=None), Constant(value=None), Constant(value=None)]), body=[Assign(targets=[Tuple(elts=[Name(id='macros', ctx=Store()), Name(id='objects', ctx=Store()), Name(id='extra_postargs', ctx=Store()), Name(id='pp_opts', ctx=Store()), Name(id='build', ctx=Store())], ctx=Store())], value=Call(func=Attribute(value=Name(id='self', ctx=Load()), attr='_setup_compile', ctx=Load()), args=[Name(id='output_dir', ctx=Load()), Name(id='macros', ctx=Load()), Name(id='include_dirs', ctx=Load()), Name(id='sources', ctx=Load()), Name(id='depends', ctx=Load()), Name(id='extra_postargs', ctx=Load())], keywords=[])), Assign(targets=[Name(id='compile_opts', ctx=Store())], value=BoolOp(op=Or(), values=[Name(id='extra_preargs', ctx=Load()), List(elts=[], ctx=Load())])), Expr(value=Call(func=Attribute(value=Name(id='compile_opts', ctx=Load()), attr='append', ctx=Load()), args=[Constant(value='-c')], keywords=[])), If(test=Name(id='debug', ctx=Load()), body=[Expr(value=Call(func=Attribute(value=Name(id='compile_opts', ctx=Load()), attr='extend', ctx=Load()), args=[Attribute(value=Name(id='self', ctx=Load()), attr='compile_options_debug', ctx=Load())], keywords=[]))], orelse=[Expr(value=Call(func=Attribute(value=Name(id='compile_opts', ctx=Load()), attr='extend', ctx=Load()), args=[Attribute(value=Name(id='self', ctx=Load()), attr='compile_options', ctx=Load())], keywords=[]))]), For(target=Name(id='obj', ctx=Store()), iter=Name(id='objects', ctx=Load()), body=[Try(body=[Assign(targets=[Tuple(elts=[Name(id='src', ctx=Store()), Name(id='ext', ctx=Store())], ctx=Store())], value=Subscript(value=Name(id='build', ctx=Load()), slice=Name(id='obj', ctx=Load()), ctx=Load()))], handlers=[ExceptHandler(type=Name(id='KeyError', ctx=Load()), body=[Continue()])], orelse=[], finalbody=[]), Assign(targets=[Name(id='src', ctx=Store())], value=Call(func=Attribute(value=Attribute(value=Name(id='os', ctx=Load()), attr='path', ctx=Load()), attr='normpath', ctx=Load()), args=[Name(id='src', ctx=Load())], keywords=[])), Assign(targets=[Name(id='obj', ctx=Store())], value=Call(func=Attribute(value=Attribute(value=Name(id='os', ctx=Load()), attr='path', ctx=Load()), attr='normpath', ctx=Load()), args=[Name(id='obj', ctx=Load())], keywords=[])), Expr(value=Call(func=Attribute(value=Name(id='self', ctx=Load()), attr='mkpath', ctx=Load()), args=[Call(func=Attribute(value=Attribute(value=Name(id='os', ctx=Load()), attr='path', ctx=Load()), attr='dirname', ctx=Load()), args=[Name(id='obj', ctx=Load())], keywords=[])], keywords=[])), If(test=Compare(left=Name(id='ext', ctx=Load()), ops=[Eq()], comparators=[Constant(value='.res')]), body=[Continue()], orelse=[]), If(test=Compare(left=Name(id='ext', ctx=Load()), ops=[Eq()], comparators=[Constant(value='.rc')]), body=[Try(body=[Expr(value=Call(func=Attribute(value=Name(id='self', ctx=Load()), attr='spawn', ctx=Load()), args=[List(elts=[Constant(value='brcc32'), Constant(value='-fo'), Name(id='obj', ctx=Load()), Name(id='src', ctx=Load())], ctx=Load())], keywords=[]))], handlers=[ExceptHandler(type=Name(id='DistutilsExecError', ctx=Load()), name='msg', body=[Raise(exc=Call(func=Name(id='CompileError', ctx=Load()), args=[Name(id='msg', ctx=Load())], keywords=[]))])], orelse=[], finalbody=[]), Continue()], orelse=[]), If(test=Compare(left=Name(id='ext', ctx=Load()), ops=[In()], comparators=[Attribute(value=Name(id='self', ctx=Load()), attr='_c_extensions', ctx=Load())]), body=[Assign(targets=[Name(id='input_opt', ctx=Store())], value=Constant(value=''))], orelse=[If(test=Compare(left=Name(id='ext', ctx=Load()), ops=[In()], comparators=[Attribute(value=Name(id='self', ctx=Load()), attr='_cpp_extensions', ctx=Load())]), body=[Assign(targets=[Name(id='input_opt', ctx=Store())], value=Constant(value='-P'))], orelse=[Assign(targets=[Name(id='input_opt', ctx=Store())], value=Constant(value=''))])]), Assign(targets=[Name(id='output_opt', ctx=Store())], value=BinOp(left=Constant(value='-o'), op=Add(), right=Name(id='obj', ctx=Load()))), Try(body=[Expr(value=Call(func=Attribute(value=Name(id='self', ctx=Load()), attr='spawn', ctx=Load()), args=[BinOp(left=BinOp(left=BinOp(left=BinOp(left=BinOp(left=List(elts=[Attribute(value=Name(id='self', ctx=Load()), attr='cc', ctx=Load())], ctx=Load()), op=Add(), right=Name(id='compile_opts', ctx=Load())), op=Add(), right=Name(id='pp_opts', ctx=Load())), op=Add(), right=List(elts=[Name(id='input_opt', ctx=Load()), Name(id='output_opt', ctx=Load())], ctx=Load())), op=Add(), right=Name(id='extra_postargs', ctx=Load())), op=Add(), right=List(elts=[Name(id='src', ctx=Load())], ctx=Load()))], keywords=[]))], handlers=[ExceptHandler(type=Name(id='DistutilsExecError', ctx=Load()), name='msg', body=[Raise(exc=Call(func=Name(id='CompileError', ctx=Load()), args=[Name(id='msg', ctx=Load())], keywords=[]))])], orelse=[], finalbody=[])], orelse=[]), Return(value=Name(id='objects', ctx=Load()))], decorator_list=[]), FunctionDef(name='create_static_lib', args=arguments(posonlyargs=[], args=[arg(arg='self'), arg(arg='objects'), arg(arg='output_libname'), arg(arg='output_dir'), arg(arg='debug'), arg(arg='target_lang')], kwonlyargs=[], kw_defaults=[], defaults=[Constant(value=None), Constant(value=0), Constant(value=None)]), body=[Assign(targets=[Tuple(elts=[Name(id='objects', ctx=Store()), Name(id='output_dir', ctx=Store())], ctx=Store())], value=Call(func=Attribute(value=Name(id='self', ctx=Load()), attr='_fix_object_args', ctx=Load()), args=[Name(id='objects', ctx=Load()), Name(id='output_dir', ctx=Load())], keywords=[])), Assign(targets=[Name(id='output_filename', ctx=Store())], value=Call(func=Attribute(value=Name(id='self', ctx=Load()), attr='library_filename', ctx=Load()), args=[Name(id='output_libname', ctx=Load())], keywords=[keyword(arg='output_dir', value=Name(id='output_dir', ctx=Load()))])), If(test=Call(func=Attribute(value=Name(id='self', ctx=Load()), attr='_need_link', ctx=Load()), args=[Name(id='objects', ctx=Load()), Name(id='output_filename', ctx=Load())], keywords=[]), body=[Assign(targets=[Name(id='lib_args', ctx=Store())], value=BinOp(left=List(elts=[Name(id='output_filename', ctx=Load()), Constant(value='/u')], ctx=Load()), op=Add(), right=Name(id='objects', ctx=Load()))), If(test=Name(id='debug', ctx=Load()), body=[Pass()], orelse=[]), Try(body=[Expr(value=Call(func=Attribute(value=Name(id='self', ctx=Load()), attr='spawn', ctx=Load()), args=[BinOp(left=List(elts=[Attribute(value=Name(id='self', ctx=Load()), attr='lib', ctx=Load())], ctx=Load()), op=Add(), right=Name(id='lib_args', ctx=Load()))], keywords=[]))], handlers=[ExceptHandler(type=Name(id='DistutilsExecError', ctx=Load()), name='msg', body=[Raise(exc=Call(func=Name(id='LibError', ctx=Load()), args=[Name(id='msg', ctx=Load())], keywords=[]))])], orelse=[], finalbody=[])], orelse=[Expr(value=Call(func=Attribute(value=Name(id='log', ctx=Load()), attr='debug', ctx=Load()), args=[Constant(value='skipping %s (up-to-date)'), Name(id='output_filename', ctx=Load())], keywords=[]))])], decorator_list=[]), FunctionDef(name='link', args=arguments(posonlyargs=[], args=[arg(arg='self'), arg(arg='target_desc'), arg(arg='objects'), arg(arg='output_filename'), arg(arg='output_dir'), arg(arg='libraries'), arg(arg='library_dirs'), arg(arg='runtime_library_dirs'), arg(arg='export_symbols'), arg(arg='debug'), arg(arg='extra_preargs'), arg(arg='extra_postargs'), arg(arg='build_temp'), arg(arg='target_lang')], kwonlyargs=[], kw_defaults=[], defaults=[Constant(value=None), Constant(value=None), Constant(value=None), Constant(value=None), Constant(value=None), Constant(value=0), Constant(value=None), Constant(value=None), Constant(value=None), Constant(value=None)]), body=[Assign(targets=[Tuple(elts=[Name(id='objects', ctx=Store()), Name(id='output_dir', ctx=Store())], ctx=Store())], value=Call(func=Attribute(value=Name(id='self', ctx=Load()), attr='_fix_object_args', ctx=Load()), args=[Name(id='objects', ctx=Load()), Name(id='output_dir', ctx=Load())], keywords=[])), Assign(targets=[Tuple(elts=[Name(id='libraries', ctx=Store()), Name(id='library_dirs', ctx=Store()), Name(id='runtime_library_dirs', ctx=Store())], ctx=Store())], value=Call(func=Attribute(value=Name(id='self', ctx=Load()), attr='_fix_lib_args', ctx=Load()), args=[Name(id='libraries', ctx=Load()), Name(id='library_dirs', ctx=Load()), Name(id='runtime_library_dirs', ctx=Load())], keywords=[])), If(test=Name(id='runtime_library_dirs', ctx=Load()), body=[Expr(value=Call(func=Attribute(value=Name(id='log', ctx=Load()), attr='warning', ctx=Load()), args=[Constant(value="I don't know what to do with 'runtime_library_dirs': %s"), Call(func=Name(id='str', ctx=Load()), args=[Name(id='runtime_library_dirs', ctx=Load())], keywords=[])], keywords=[]))], orelse=[]), If(test=Compare(left=Name(id='output_dir', ctx=Load()), ops=[IsNot()], comparators=[Constant(value=None)]), body=[Assign(targets=[Name(id='output_filename', ctx=Store())], value=Call(func=Attribute(value=Attribute(value=Name(id='os', ctx=Load()), attr='path', ctx=Load()), attr='join', ctx=Load()), args=[Name(id='output_dir', ctx=Load()), Name(id='output_filename', ctx=Load())], keywords=[]))], orelse=[]), If(test=Call(func=Attribute(value=Name(id='self', ctx=Load()), attr='_need_link', ctx=Load()), args=[Name(id='objects', ctx=Load()), Name(id='output_filename', ctx=Load())], keywords=[]), body=[If(test=Compare(left=Name(id='target_desc', ctx=Load()), ops=[Eq()], comparators=[Attribute(value=Name(id='CCompiler', ctx=Load()), attr='EXECUTABLE', ctx=Load())]), body=[Assign(targets=[Name(id='startup_obj', ctx=Store())], value=Constant(value='c0w32')), If(test=Name(id='debug', ctx=Load()), body=[Assign(targets=[Name(id='ld_args', ctx=Store())], value=Subscript(value=Attribute(value=Name(id='self', ctx=Load()), attr='ldflags_exe_debug', ctx=Load()), slice=Slice(), ctx=Load()))], orelse=[Assign(targets=[Name(id='ld_args', ctx=Store())], value=Subscript(value=Attribute(value=Name(id='self', ctx=Load()), attr='ldflags_exe', ctx=Load()), slice=Slice(), ctx=Load()))])], orelse=[Assign(targets=[Name(id='startup_obj', ctx=Store())], value=Constant(value='c0d32')), If(test=Name(id='debug', ctx=Load()), body=[Assign(targets=[Name(id='ld_args', ctx=Store())], value=Subscript(value=Attribute(value=Name(id='self', ctx=Load()), attr='ldflags_shared_debug', ctx=Load()), slice=Slice(), ctx=Load()))], orelse=[Assign(targets=[Name(id='ld_args', ctx=Store())], value=Subscript(value=Attribute(value=Name(id='self', ctx=Load()), attr='ldflags_shared', ctx=Load()), slice=Slice(), ctx=Load()))])]), If(test=Compare(left=Name(id='export_symbols', ctx=Load()), ops=[Is()], comparators=[Constant(value=None)]), body=[Assign(targets=[Name(id='def_file', ctx=Store())], value=Constant(value=''))], orelse=[Assign(targets=[Tuple(elts=[Name(id='head', ctx=Store()), Name(id='tail', ctx=Store())], ctx=Store())], value=Call(func=Attribute(value=Attribute(value=Name(id='os', ctx=Load()), attr='path', ctx=Load()), attr='split', ctx=Load()), args=[Name(id='output_filename', ctx=Load())], keywords=[])), Assign(targets=[Tuple(elts=[Name(id='modname', ctx=Store()), Name(id='ext', ctx=Store())], ctx=Store())], value=Call(func=Attribute(value=Attribute(value=Name(id='os', ctx=Load()), attr='path', ctx=Load()), attr='splitext', ctx=Load()), args=[Name(id='tail', ctx=Load())], keywords=[])), Assign(targets=[Name(id='temp_dir', ctx=Store())], value=Call(func=Attribute(value=Attribute(value=Name(id='os', ctx=Load()), attr='path', ctx=Load()), attr='dirname', ctx=Load()), args=[Subscript(value=Name(id='objects', ctx=Load()), slice=Constant(value=0), ctx=Load())], keywords=[])), Assign(targets=[Name(id='def_file', ctx=Store())], value=Call(func=Attribute(value=Attribute(value=Name(id='os', ctx=Load()), attr='path', ctx=Load()), attr='join', ctx=Load()), args=[Name(id='temp_dir', ctx=Load()), BinOp(left=Constant(value='%s.def'), op=Mod(), right=Name(id='modname', ctx=Load()))], keywords=[])), Assign(targets=[Name(id='contents', ctx=Store())], value=List(elts=[Constant(value='EXPORTS')], ctx=Load())), For(target=Name(id='sym', ctx=Store()), iter=BoolOp(op=Or(), values=[Name(id='export_symbols', ctx=Load()), List(elts=[], ctx=Load())]), body=[Expr(value=Call(func=Attribute(value=Name(id='contents', ctx=Load()), attr='append', ctx=Load()), args=[Call(func=Attribute(value=Constant(value='  {}=_{}'), attr='format', ctx=Load()), args=[Name(id='sym', ctx=Load()), Name(id='sym', ctx=Load())], keywords=[])], keywords=[]))], orelse=[]), Expr(value=Call(func=Attribute(value=Name(id='self', ctx=Load()), attr='execute', ctx=Load()), args=[Name(id='write_file', ctx=Load()), Tuple(elts=[Name(id='def_file', ctx=Load()), Name(id='contents', ctx=Load())], ctx=Load()), BinOp(left=Constant(value='writing %s'), op=Mod(), right=Name(id='def_file', ctx=Load()))], keywords=[]))]), Assign(targets=[Name(id='objects2', ctx=Store())], value=Call(func=Name(id='map', ctx=Load()), args=[Attribute(value=Attribute(value=Name(id='os', ctx=Load()), attr='path', ctx=Load()), attr='normpath', ctx=Load()), Name(id='objects', ctx=Load())], keywords=[])), Assign(targets=[Name(id='objects', ctx=Store())], value=List(elts=[Name(id='startup_obj', ctx=Load())], ctx=Load())), Assign(targets=[Name(id='resources', ctx=Store())], value=List(elts=[], ctx=Load())), For(target=Name(id='file', ctx=Store()), iter=Name(id='objects2', ctx=Load()), body=[Assign(targets=[Tuple(elts=[Name(id='base', ctx=Store()), Name(id='ext', ctx=Store())], ctx=Store())], value=Call(func=Attribute(value=Attribute(value=Name(id='os', ctx=Load()), attr='path', ctx=Load()), attr='splitext', ctx=Load()), args=[Call(func=Attribute(value=Attribute(value=Name(id='os', ctx=Load()), attr='path', ctx=Load()), attr='normcase', ctx=Load()), args=[Name(id='file', ctx=Load())], keywords=[])], keywords=[])), If(test=Compare(left=Name(id='ext', ctx=Load()), ops=[Eq()], comparators=[Constant(value='.res')]), body=[Expr(value=Call(func=Attribute(value=Name(id='resources', ctx=Load()), attr='append', ctx=Load()), args=[Name(id='file', ctx=Load())], keywords=[]))], orelse=[Expr(value=Call(func=Attribute(value=Name(id='objects', ctx=Load()), attr='append', ctx=Load()), args=[Name(id='file', ctx=Load())], keywords=[]))])], orelse=[]), For(target=Name(id='ell', ctx=Store()), iter=Name(id='library_dirs', ctx=Load()), body=[Expr(value=Call(func=Attribute(value=Name(id='ld_args', ctx=Load()), attr='append', ctx=Load()), args=[BinOp(left=Constant(value='/L%s'), op=Mod(), right=Call(func=Attribute(value=Attribute(value=Name(id='os', ctx=Load()), attr='path', ctx=Load()), attr='normpath', ctx=Load()), args=[Name(id='ell', ctx=Load())], keywords=[]))], keywords=[]))], orelse=[]), Expr(value=Call(func=Attribute(value=Name(id='ld_args', ctx=Load()), attr='append', ctx=Load()), args=[Constant(value='/L.')], keywords=[])), Expr(value=Call(func=Attribute(value=Name(id='ld_args', ctx=Load()), attr='extend', ctx=Load()), args=[Name(id='objects', ctx=Load())], keywords=[])), Expr(value=Call(func=Attribute(value=Name(id='ld_args', ctx=Load()), attr='extend', ctx=Load()), args=[List(elts=[Constant(value=','), Name(id='output_filename', ctx=Load())], ctx=Load())], keywords=[])), Expr(value=Call(func=Attribute(value=Name(id='ld_args', ctx=Load()), attr='append', ctx=Load()), args=[Constant(value=',,')], keywords=[])), For(target=Name(id='lib', ctx=Store()), iter=Name(id='libraries', ctx=Load()), body=[Assign(targets=[Name(id='libfile', ctx=Store())], value=Call(func=Attribute(value=Name(id='self', ctx=Load()), attr='find_library_file', ctx=Load()), args=[Name(id='library_dirs', ctx=Load()), Name(id='lib', ctx=Load()), Name(id='debug', ctx=Load())], keywords=[])), If(test=Compare(left=Name(id='libfile', ctx=Load()), ops=[Is()], comparators=[Constant(value=None)]), body=[Expr(value=Call(func=Attribute(value=Name(id='ld_args', ctx=Load()), attr='append', ctx=Load()), args=[Name(id='lib', ctx=Load())], keywords=[]))], orelse=[Expr(value=Call(func=Attribute(value=Name(id='ld_args', ctx=Load()), attr='append', ctx=Load()), args=[Name(id='libfile', ctx=Load())], keywords=[]))])], orelse=[]), Expr(value=Call(func=Attribute(value=Name(id='ld_args', ctx=Load()), attr='extend', ctx=Load()), args=[Tuple(elts=[Constant(value='import32'), Constant(value='cw32mt')], ctx=Load())], keywords=[])), Expr(value=Call(func=Attribute(value=Name(id='ld_args', ctx=Load()), attr='extend', ctx=Load()), args=[List(elts=[Constant(value=','), Name(id='def_file', ctx=Load())], ctx=Load())], keywords=[])), Expr(value=Call(func=Attribute(value=Name(id='ld_args', ctx=Load()), attr='append', ctx=Load()), args=[Constant(value=',')], keywords=[])), Expr(value=Call(func=Attribute(value=Name(id='ld_args', ctx=Load()), attr='extend', ctx=Load()), args=[Name(id='resources', ctx=Load())], keywords=[])), If(test=Name(id='extra_preargs', ctx=Load()), body=[Assign(targets=[Subscript(value=Name(id='ld_args', ctx=Load()), slice=Slice(upper=Constant(value=0)), ctx=Store())], value=Name(id='extra_preargs', ctx=Load()))], orelse=[]), If(test=Name(id='extra_postargs', ctx=Load()), body=[Expr(value=Call(func=Attribute(value=Name(id='ld_args', ctx=Load()), attr='extend', ctx=Load()), args=[Name(id='extra_postargs', ctx=Load())], keywords=[]))], orelse=[]), Expr(value=Call(func=Attribute(value=Name(id='self', ctx=Load()), attr='mkpath', ctx=Load()), args=[Call(func=Attribute(value=Attribute(value=Name(id='os', ctx=Load()), attr='path', ctx=Load()), attr='dirname', ctx=Load()), args=[Name(id='output_filename', ctx=Load())], keywords=[])], keywords=[])), Try(body=[Expr(value=Call(func=Attribute(value=Name(id='self', ctx=Load()), attr='spawn', ctx=Load()), args=[BinOp(left=List(elts=[Attribute(value=Name(id='self', ctx=Load()), attr='linker', ctx=Load())], ctx=Load()), op=Add(), right=Name(id='ld_args', ctx=Load()))], keywords=[]))], handlers=[ExceptHandler(type=Name(id='DistutilsExecError', ctx=Load()), name='msg', body=[Raise(exc=Call(func=Name(id='LinkError', ctx=Load()), args=[Name(id='msg', ctx=Load())], keywords=[]))])], orelse=[], finalbody=[])], orelse=[Expr(value=Call(func=Attribute(value=Name(id='log', ctx=Load()), attr='debug', ctx=Load()), args=[Constant(value='skipping %s (up-to-date)'), Name(id='output_filename', ctx=Load())], keywords=[]))])], decorator_list=[]), FunctionDef(name='find_library_file', args=arguments(posonlyargs=[], args=[arg(arg='self'), arg(arg='dirs'), arg(arg='lib'), arg(arg='debug')], kwonlyargs=[], kw_defaults=[], defaults=[Constant(value=0)]), body=[If(test=Name(id='debug', ctx=Load()), body=[Assign(targets=[Name(id='dlib', ctx=Store())], value=BinOp(left=Name(id='lib', ctx=Load()), op=Add(), right=Constant(value='_d'))), Assign(targets=[Name(id='try_names', ctx=Store())], value=Tuple(elts=[BinOp(left=Name(id='dlib', ctx=Load()), op=Add(), right=Constant(value='_bcpp')), BinOp(left=Name(id='lib', ctx=Load()), op=Add(), right=Constant(value='_bcpp')), Name(id='dlib', ctx=Load()), Name(id='lib', ctx=Load())], ctx=Load()))], orelse=[Assign(targets=[Name(id='try_names', ctx=Store())], value=Tuple(elts=[BinOp(left=Name(id='lib', ctx=Load()), op=Add(), right=Constant(value='_bcpp')), Name(id='lib', ctx=Load())], ctx=Load()))]), For(target=Name(id='dir', ctx=Store()), iter=Name(id='dirs', ctx=Load()), body=[For(target=Name(id='name', ctx=Store()), iter=Name(id='try_names', ctx=Load()), body=[Assign(targets=[Name(id='libfile', ctx=Store())], value=Call(func=Attribute(value=Attribute(value=Name(id='os', ctx=Load()), attr='path', ctx=Load()), attr='join', ctx=Load()), args=[Name(id='dir', ctx=Load()), Call(func=Attribute(value=Name(id='self', ctx=Load()), attr='library_filename', ctx=Load()), args=[Name(id='name', ctx=Load())], keywords=[])], keywords=[])), If(test=Call(func=Attribute(value=Attribute(value=Name(id='os', ctx=Load()), attr='path', ctx=Load()), attr='exists', ctx=Load()), args=[Name(id='libfile', ctx=Load())], keywords=[]), body=[Return(value=Name(id='libfile', ctx=Load()))], orelse=[])], orelse=[])], orelse=[Return(value=Constant(value=None))])], decorator_list=[]), FunctionDef(name='object_filenames', args=arguments(posonlyargs=[], args=[arg(arg='self'), arg(arg='source_filenames'), arg(arg='strip_dir'), arg(arg='output_dir')], kwonlyargs=[], kw_defaults=[], defaults=[Constant(value=0), Constant(value='')]), body=[If(test=Compare(left=Name(id='output_dir', ctx=Load()), ops=[Is()], comparators=[Constant(value=None)]), body=[Assign(targets=[Name(id='output_dir', ctx=Store())], value=Constant(value=''))], orelse=[]), Assign(targets=[Name(id='obj_names', ctx=Store())], value=List(elts=[], ctx=Load())), For(target=Name(id='src_name', ctx=Store()), iter=Name(id='source_filenames', ctx=Load()), body=[Assign(targets=[Tuple(elts=[Name(id='base', ctx=Store()), Name(id='ext', ctx=Store())], ctx=Store())], value=Call(func=Attribute(value=Attribute(value=Name(id='os', ctx=Load()), attr='path', ctx=Load()), attr='splitext', ctx=Load()), args=[Call(func=Attribute(value=Attribute(value=Name(id='os', ctx=Load()), attr='path', ctx=Load()), attr='normcase', ctx=Load()), args=[Name(id='src_name', ctx=Load())], keywords=[])], keywords=[])), If(test=Compare(left=Name(id='ext', ctx=Load()), ops=[NotIn()], comparators=[BinOp(left=Attribute(value=Name(id='self', ctx=Load()), attr='src_extensions', ctx=Load()), op=Add(), right=List(elts=[Constant(value='.rc'), Constant(value='.res')], ctx=Load()))]), body=[Raise(exc=Call(func=Name(id='UnknownFileError', ctx=Load()), args=[Call(func=Attribute(value=Constant(value="unknown file type '{}' (from '{}')"), attr='format', ctx=Load()), args=[Name(id='ext', ctx=Load()), Name(id='src_name', ctx=Load())], keywords=[])], keywords=[]))], orelse=[]), If(test=Name(id='strip_dir', ctx=Load()), body=[Assign(targets=[Name(id='base', ctx=Store())], value=Call(func=Attribute(value=Attribute(value=Name(id='os', ctx=Load()), attr='path', ctx=Load()), attr='basename', ctx=Load()), args=[Name(id='base', ctx=Load())], keywords=[]))], orelse=[]), If(test=Compare(left=Name(id='ext', ctx=Load()), ops=[Eq()], comparators=[Constant(value='.res')]), body=[Expr(value=Call(func=Attribute(value=Name(id='obj_names', ctx=Load()), attr='append', ctx=Load()), args=[Call(func=Attribute(value=Attribute(value=Name(id='os', ctx=Load()), attr='path', ctx=Load()), attr='join', ctx=Load()), args=[Name(id='output_dir', ctx=Load()), BinOp(left=Name(id='base', ctx=Load()), op=Add(), right=Name(id='ext', ctx=Load()))], keywords=[])], keywords=[]))], orelse=[If(test=Compare(left=Name(id='ext', ctx=Load()), ops=[Eq()], comparators=[Constant(value='.rc')]), body=[Expr(value=Call(func=Attribute(value=Name(id='obj_names', ctx=Load()), attr='append', ctx=Load()), args=[Call(func=Attribute(value=Attribute(value=Name(id='os', ctx=Load()), attr='path', ctx=Load()), attr='join', ctx=Load()), args=[Name(id='output_dir', ctx=Load()), BinOp(left=Name(id='base', ctx=Load()), op=Add(), right=Constant(value='.res'))], keywords=[])], keywords=[]))], orelse=[Expr(value=Call(func=Attribute(value=Name(id='obj_names', ctx=Load()), attr='append', ctx=Load()), args=[Call(func=Attribute(value=Attribute(value=Name(id='os', ctx=Load()), attr='path', ctx=Load()), attr='join', ctx=Load()), args=[Name(id='output_dir', ctx=Load()), BinOp(left=Name(id='base', ctx=Load()), op=Add(), right=Attribute(value=Name(id='self', ctx=Load()), attr='obj_extension', ctx=Load()))], keywords=[])], keywords=[]))])])], orelse=[]), Return(value=Name(id='obj_names', ctx=Load()))], decorator_list=[]), FunctionDef(name='preprocess', args=arguments(posonlyargs=[], args=[arg(arg='self'), arg(arg='source'), arg(arg='output_file'), arg(arg='macros'), arg(arg='include_dirs'), arg(arg='extra_preargs'), arg(arg='extra_postargs')], kwonlyargs=[], kw_defaults=[], defaults=[Constant(value=None), Constant(value=None), Constant(value=None), Constant(value=None), Constant(value=None)]), body=[Assign(targets=[Tuple(elts=[Name(id='_', ctx=Store()), Name(id='macros', ctx=Store()), Name(id='include_dirs', ctx=Store())], ctx=Store())], value=Call(func=Attribute(value=Name(id='self', ctx=Load()), attr='_fix_compile_args', ctx=Load()), args=[Constant(value=None), Name(id='macros', ctx=Load()), Name(id='include_dirs', ctx=Load())], keywords=[])), Assign(targets=[Name(id='pp_opts', ctx=Store())], value=Call(func=Name(id='gen_preprocess_options', ctx=Load()), args=[Name(id='macros', ctx=Load()), Name(id='include_dirs', ctx=Load())], keywords=[])), Assign(targets=[Name(id='pp_args', ctx=Store())], value=BinOp(left=List(elts=[Constant(value='cpp32.exe')], ctx=Load()), op=Add(), right=Name(id='pp_opts', ctx=Load()))), If(test=Compare(left=Name(id='output_file', ctx=Load()), ops=[IsNot()], comparators=[Constant(value=None)]), body=[Expr(value=Call(func=Attribute(value=Name(id='pp_args', ctx=Load()), attr='append', ctx=Load()), args=[BinOp(left=Constant(value='-o'), op=Add(), right=Name(id='output_file', ctx=Load()))], keywords=[]))], orelse=[]), If(test=Name(id='extra_preargs', ctx=Load()), body=[Assign(targets=[Subscript(value=Name(id='pp_args', ctx=Load()), slice=Slice(upper=Constant(value=0)), ctx=Store())], value=Name(id='extra_preargs', ctx=Load()))], orelse=[]), If(test=Name(id='extra_postargs', ctx=Load()), body=[Expr(value=Call(func=Attribute(value=Name(id='pp_args', ctx=Load()), attr='extend', ctx=Load()), args=[Name(id='extra_postargs', ctx=Load())], keywords=[]))], orelse=[]), Expr(value=Call(func=Attribute(value=Name(id='pp_args', ctx=Load()), attr='append', ctx=Load()), args=[Name(id='source', ctx=Load())], keywords=[])), If(test=BoolOp(op=Or(), values=[Attribute(value=Name(id='self', ctx=Load()), attr='force', ctx=Load()), Compare(left=Name(id='output_file', ctx=Load()), ops=[Is()], comparators=[Constant(value=None)]), Call(func=Name(id='newer', ctx=Load()), args=[Name(id='source', ctx=Load()), Name(id='output_file', ctx=Load())], keywords=[])]), body=[If(test=Name(id='output_file', ctx=Load()), body=[Expr(value=Call(func=Attribute(value=Name(id='self', ctx=Load()), attr='mkpath', ctx=Load()), args=[Call(func=Attribute(value=Attribute(value=Name(id='os', ctx=Load()), attr='path', ctx=Load()), attr='dirname', ctx=Load()), args=[Name(id='output_file', ctx=Load())], keywords=[])], keywords=[]))], orelse=[]), Try(body=[Expr(value=Call(func=Attribute(value=Name(id='self', ctx=Load()), attr='spawn', ctx=Load()), args=[Name(id='pp_args', ctx=Load())], keywords=[]))], handlers=[ExceptHandler(type=Name(id='DistutilsExecError', ctx=Load()), name='msg', body=[Expr(value=Call(func=Name(id='print', ctx=Load()), args=[Name(id='msg', ctx=Load())], keywords=[])), Raise(exc=Call(func=Name(id='CompileError', ctx=Load()), args=[Name(id='msg', ctx=Load())], keywords=[]))])], orelse=[], finalbody=[])], orelse=[])], decorator_list=[])], decorator_list=[])], type_ignores=[])