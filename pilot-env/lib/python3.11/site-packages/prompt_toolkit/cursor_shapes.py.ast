Module(body=[ImportFrom(module='__future__', names=[alias(name='annotations')], level=0), ImportFrom(module='abc', names=[alias(name='ABC'), alias(name='abstractmethod')], level=0), ImportFrom(module='enum', names=[alias(name='Enum')], level=0), ImportFrom(module='typing', names=[alias(name='TYPE_CHECKING'), alias(name='Any'), alias(name='Callable'), alias(name='Union')], level=0), ImportFrom(module='prompt_toolkit.enums', names=[alias(name='EditingMode')], level=0), ImportFrom(module='prompt_toolkit.key_binding.vi_state', names=[alias(name='InputMode')], level=0), If(test=Name(id='TYPE_CHECKING', ctx=Load()), body=[ImportFrom(module='application', names=[alias(name='Application')], level=1)], orelse=[]), Assign(targets=[Name(id='__all__', ctx=Store())], value=List(elts=[Constant(value='CursorShape'), Constant(value='CursorShapeConfig'), Constant(value='SimpleCursorShapeConfig'), Constant(value='ModalCursorShapeConfig'), Constant(value='DynamicCursorShapeConfig'), Constant(value='to_cursor_shape_config')], ctx=Load())), ClassDef(name='CursorShape', bases=[Name(id='Enum', ctx=Load())], keywords=[], body=[Assign(targets=[Name(id='_NEVER_CHANGE', ctx=Store())], value=Constant(value='_NEVER_CHANGE')), Assign(targets=[Name(id='BLOCK', ctx=Store())], value=Constant(value='BLOCK')), Assign(targets=[Name(id='BEAM', ctx=Store())], value=Constant(value='BEAM')), Assign(targets=[Name(id='UNDERLINE', ctx=Store())], value=Constant(value='UNDERLINE')), Assign(targets=[Name(id='BLINKING_BLOCK', ctx=Store())], value=Constant(value='BLINKING_BLOCK')), Assign(targets=[Name(id='BLINKING_BEAM', ctx=Store())], value=Constant(value='BLINKING_BEAM')), Assign(targets=[Name(id='BLINKING_UNDERLINE', ctx=Store())], value=Constant(value='BLINKING_UNDERLINE'))], decorator_list=[]), ClassDef(name='CursorShapeConfig', bases=[Name(id='ABC', ctx=Load())], keywords=[], body=[FunctionDef(name='get_cursor_shape', args=arguments(posonlyargs=[], args=[arg(arg='self'), arg(arg='application', annotation=Subscript(value=Name(id='Application', ctx=Load()), slice=Name(id='Any', ctx=Load()), ctx=Load()))], kwonlyargs=[], kw_defaults=[], defaults=[]), body=[Expr(value=Constant(value='\n        Return the cursor shape to be used in the current state.\n        '))], decorator_list=[Name(id='abstractmethod', ctx=Load())], returns=Name(id='CursorShape', ctx=Load()))], decorator_list=[]), Assign(targets=[Name(id='AnyCursorShapeConfig', ctx=Store())], value=Subscript(value=Name(id='Union', ctx=Load()), slice=Tuple(elts=[Name(id='CursorShape', ctx=Load()), Name(id='CursorShapeConfig', ctx=Load()), Constant(value=None)], ctx=Load()), ctx=Load())), ClassDef(name='SimpleCursorShapeConfig', bases=[Name(id='CursorShapeConfig', ctx=Load())], keywords=[], body=[Expr(value=Constant(value='\n    Always show the given cursor shape.\n    ')), FunctionDef(name='__init__', args=arguments(posonlyargs=[], args=[arg(arg='self'), arg(arg='cursor_shape', annotation=Name(id='CursorShape', ctx=Load()))], kwonlyargs=[], kw_defaults=[], defaults=[Attribute(value=Name(id='CursorShape', ctx=Load()), attr='_NEVER_CHANGE', ctx=Load())]), body=[Assign(targets=[Attribute(value=Name(id='self', ctx=Load()), attr='cursor_shape', ctx=Store())], value=Name(id='cursor_shape', ctx=Load()))], decorator_list=[], returns=Constant(value=None)), FunctionDef(name='get_cursor_shape', args=arguments(posonlyargs=[], args=[arg(arg='self'), arg(arg='application', annotation=Subscript(value=Name(id='Application', ctx=Load()), slice=Name(id='Any', ctx=Load()), ctx=Load()))], kwonlyargs=[], kw_defaults=[], defaults=[]), body=[Return(value=Attribute(value=Name(id='self', ctx=Load()), attr='cursor_shape', ctx=Load()))], decorator_list=[], returns=Name(id='CursorShape', ctx=Load()))], decorator_list=[]), ClassDef(name='ModalCursorShapeConfig', bases=[Name(id='CursorShapeConfig', ctx=Load())], keywords=[], body=[Expr(value=Constant(value='\n    Show cursor shape according to the current input mode.\n    ')), FunctionDef(name='get_cursor_shape', args=arguments(posonlyargs=[], args=[arg(arg='self'), arg(arg='application', annotation=Subscript(value=Name(id='Application', ctx=Load()), slice=Name(id='Any', ctx=Load()), ctx=Load()))], kwonlyargs=[], kw_defaults=[], defaults=[]), body=[If(test=Compare(left=Attribute(value=Name(id='application', ctx=Load()), attr='editing_mode', ctx=Load()), ops=[Eq()], comparators=[Attribute(value=Name(id='EditingMode', ctx=Load()), attr='VI', ctx=Load())]), body=[If(test=Compare(left=Attribute(value=Attribute(value=Name(id='application', ctx=Load()), attr='vi_state', ctx=Load()), attr='input_mode', ctx=Load()), ops=[Eq()], comparators=[Attribute(value=Name(id='InputMode', ctx=Load()), attr='INSERT', ctx=Load())]), body=[Return(value=Attribute(value=Name(id='CursorShape', ctx=Load()), attr='BEAM', ctx=Load()))], orelse=[]), If(test=Compare(left=Attribute(value=Attribute(value=Name(id='application', ctx=Load()), attr='vi_state', ctx=Load()), attr='input_mode', ctx=Load()), ops=[Eq()], comparators=[Attribute(value=Name(id='InputMode', ctx=Load()), attr='REPLACE', ctx=Load())]), body=[Return(value=Attribute(value=Name(id='CursorShape', ctx=Load()), attr='UNDERLINE', ctx=Load()))], orelse=[])], orelse=[]), Return(value=Attribute(value=Name(id='CursorShape', ctx=Load()), attr='BLOCK', ctx=Load()))], decorator_list=[], returns=Name(id='CursorShape', ctx=Load()))], decorator_list=[]), ClassDef(name='DynamicCursorShapeConfig', bases=[Name(id='CursorShapeConfig', ctx=Load())], keywords=[], body=[FunctionDef(name='__init__', args=arguments(posonlyargs=[], args=[arg(arg='self'), arg(arg='get_cursor_shape_config', annotation=Subscript(value=Name(id='Callable', ctx=Load()), slice=Tuple(elts=[List(elts=[], ctx=Load()), Name(id='AnyCursorShapeConfig', ctx=Load())], ctx=Load()), ctx=Load()))], kwonlyargs=[], kw_defaults=[], defaults=[]), body=[Assign(targets=[Attribute(value=Name(id='self', ctx=Load()), attr='get_cursor_shape_config', ctx=Store())], value=Name(id='get_cursor_shape_config', ctx=Load()))], decorator_list=[], returns=Constant(value=None)), FunctionDef(name='get_cursor_shape', args=arguments(posonlyargs=[], args=[arg(arg='self'), arg(arg='application', annotation=Subscript(value=Name(id='Application', ctx=Load()), slice=Name(id='Any', ctx=Load()), ctx=Load()))], kwonlyargs=[], kw_defaults=[], defaults=[]), body=[Return(value=Call(func=Attribute(value=Call(func=Name(id='to_cursor_shape_config', ctx=Load()), args=[Call(func=Attribute(value=Name(id='self', ctx=Load()), attr='get_cursor_shape_config', ctx=Load()), args=[], keywords=[])], keywords=[]), attr='get_cursor_shape', ctx=Load()), args=[Name(id='application', ctx=Load())], keywords=[]))], decorator_list=[], returns=Name(id='CursorShape', ctx=Load()))], decorator_list=[]), FunctionDef(name='to_cursor_shape_config', args=arguments(posonlyargs=[], args=[arg(arg='value', annotation=Name(id='AnyCursorShapeConfig', ctx=Load()))], kwonlyargs=[], kw_defaults=[], defaults=[]), body=[Expr(value=Constant(value='\n    Take a `CursorShape` instance or `CursorShapeConfig` and turn it into a\n    `CursorShapeConfig`.\n    ')), If(test=Compare(left=Name(id='value', ctx=Load()), ops=[Is()], comparators=[Constant(value=None)]), body=[Return(value=Call(func=Name(id='SimpleCursorShapeConfig', ctx=Load()), args=[], keywords=[]))], orelse=[]), If(test=Call(func=Name(id='isinstance', ctx=Load()), args=[Name(id='value', ctx=Load()), Name(id='CursorShape', ctx=Load())], keywords=[]), body=[Return(value=Call(func=Name(id='SimpleCursorShapeConfig', ctx=Load()), args=[Name(id='value', ctx=Load())], keywords=[]))], orelse=[]), Return(value=Name(id='value', ctx=Load()))], decorator_list=[], returns=Name(id='CursorShapeConfig', ctx=Load()))], type_ignores=[])