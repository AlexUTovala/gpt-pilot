Module(body=[Expr(value=Constant(value='\nSearch related key bindings.\n')), ImportFrom(module='__future__', names=[alias(name='annotations')], level=0), ImportFrom(module='prompt_toolkit', names=[alias(name='search')], level=0), ImportFrom(module='prompt_toolkit.application.current', names=[alias(name='get_app')], level=0), ImportFrom(module='prompt_toolkit.filters', names=[alias(name='Condition'), alias(name='control_is_searchable'), alias(name='is_searching')], level=0), ImportFrom(module='prompt_toolkit.key_binding.key_processor', names=[alias(name='KeyPressEvent')], level=0), ImportFrom(module='key_bindings', names=[alias(name='key_binding')], level=2), Assign(targets=[Name(id='__all__', ctx=Store())], value=List(elts=[Constant(value='abort_search'), Constant(value='accept_search'), Constant(value='start_reverse_incremental_search'), Constant(value='start_forward_incremental_search'), Constant(value='reverse_incremental_search'), Constant(value='forward_incremental_search'), Constant(value='accept_search_and_accept_input')], ctx=Load())), Assign(targets=[Name(id='E', ctx=Store())], value=Name(id='KeyPressEvent', ctx=Load())), FunctionDef(name='abort_search', args=arguments(posonlyargs=[], args=[arg(arg='event', annotation=Name(id='E', ctx=Load()))], kwonlyargs=[], kw_defaults=[], defaults=[]), body=[Expr(value=Constant(value='\n    Abort an incremental search and restore the original\n    line.\n    (Usually bound to ControlG/ControlC.)\n    ')), Expr(value=Call(func=Attribute(value=Name(id='search', ctx=Load()), attr='stop_search', ctx=Load()), args=[], keywords=[]))], decorator_list=[Call(func=Name(id='key_binding', ctx=Load()), args=[], keywords=[keyword(arg='filter', value=Name(id='is_searching', ctx=Load()))])], returns=Constant(value=None)), FunctionDef(name='accept_search', args=arguments(posonlyargs=[], args=[arg(arg='event', annotation=Name(id='E', ctx=Load()))], kwonlyargs=[], kw_defaults=[], defaults=[]), body=[Expr(value=Constant(value='\n    When enter pressed in isearch, quit isearch mode. (Multiline\n    isearch would be too complicated.)\n    (Usually bound to Enter.)\n    ')), Expr(value=Call(func=Attribute(value=Name(id='search', ctx=Load()), attr='accept_search', ctx=Load()), args=[], keywords=[]))], decorator_list=[Call(func=Name(id='key_binding', ctx=Load()), args=[], keywords=[keyword(arg='filter', value=Name(id='is_searching', ctx=Load()))])], returns=Constant(value=None)), FunctionDef(name='start_reverse_incremental_search', args=arguments(posonlyargs=[], args=[arg(arg='event', annotation=Name(id='E', ctx=Load()))], kwonlyargs=[], kw_defaults=[], defaults=[]), body=[Expr(value=Constant(value='\n    Enter reverse incremental search.\n    (Usually ControlR.)\n    ')), Expr(value=Call(func=Attribute(value=Name(id='search', ctx=Load()), attr='start_search', ctx=Load()), args=[], keywords=[keyword(arg='direction', value=Attribute(value=Attribute(value=Name(id='search', ctx=Load()), attr='SearchDirection', ctx=Load()), attr='BACKWARD', ctx=Load()))]))], decorator_list=[Call(func=Name(id='key_binding', ctx=Load()), args=[], keywords=[keyword(arg='filter', value=Name(id='control_is_searchable', ctx=Load()))])], returns=Constant(value=None)), FunctionDef(name='start_forward_incremental_search', args=arguments(posonlyargs=[], args=[arg(arg='event', annotation=Name(id='E', ctx=Load()))], kwonlyargs=[], kw_defaults=[], defaults=[]), body=[Expr(value=Constant(value='\n    Enter forward incremental search.\n    (Usually ControlS.)\n    ')), Expr(value=Call(func=Attribute(value=Name(id='search', ctx=Load()), attr='start_search', ctx=Load()), args=[], keywords=[keyword(arg='direction', value=Attribute(value=Attribute(value=Name(id='search', ctx=Load()), attr='SearchDirection', ctx=Load()), attr='FORWARD', ctx=Load()))]))], decorator_list=[Call(func=Name(id='key_binding', ctx=Load()), args=[], keywords=[keyword(arg='filter', value=Name(id='control_is_searchable', ctx=Load()))])], returns=Constant(value=None)), FunctionDef(name='reverse_incremental_search', args=arguments(posonlyargs=[], args=[arg(arg='event', annotation=Name(id='E', ctx=Load()))], kwonlyargs=[], kw_defaults=[], defaults=[]), body=[Expr(value=Constant(value='\n    Apply reverse incremental search, but keep search buffer focused.\n    ')), Expr(value=Call(func=Attribute(value=Name(id='search', ctx=Load()), attr='do_incremental_search', ctx=Load()), args=[Attribute(value=Attribute(value=Name(id='search', ctx=Load()), attr='SearchDirection', ctx=Load()), attr='BACKWARD', ctx=Load())], keywords=[keyword(arg='count', value=Attribute(value=Name(id='event', ctx=Load()), attr='arg', ctx=Load()))]))], decorator_list=[Call(func=Name(id='key_binding', ctx=Load()), args=[], keywords=[keyword(arg='filter', value=Name(id='is_searching', ctx=Load()))])], returns=Constant(value=None)), FunctionDef(name='forward_incremental_search', args=arguments(posonlyargs=[], args=[arg(arg='event', annotation=Name(id='E', ctx=Load()))], kwonlyargs=[], kw_defaults=[], defaults=[]), body=[Expr(value=Constant(value='\n    Apply forward incremental search, but keep search buffer focused.\n    ')), Expr(value=Call(func=Attribute(value=Name(id='search', ctx=Load()), attr='do_incremental_search', ctx=Load()), args=[Attribute(value=Attribute(value=Name(id='search', ctx=Load()), attr='SearchDirection', ctx=Load()), attr='FORWARD', ctx=Load())], keywords=[keyword(arg='count', value=Attribute(value=Name(id='event', ctx=Load()), attr='arg', ctx=Load()))]))], decorator_list=[Call(func=Name(id='key_binding', ctx=Load()), args=[], keywords=[keyword(arg='filter', value=Name(id='is_searching', ctx=Load()))])], returns=Constant(value=None)), FunctionDef(name='_previous_buffer_is_returnable', args=arguments(posonlyargs=[], args=[], kwonlyargs=[], kw_defaults=[], defaults=[]), body=[Expr(value=Constant(value='\n    True if the previously focused buffer has a return handler.\n    ')), Assign(targets=[Name(id='prev_control', ctx=Store())], value=Attribute(value=Attribute(value=Call(func=Name(id='get_app', ctx=Load()), args=[], keywords=[]), attr='layout', ctx=Load()), attr='search_target_buffer_control', ctx=Load())), Return(value=Call(func=Name(id='bool', ctx=Load()), args=[BoolOp(op=And(), values=[Name(id='prev_control', ctx=Load()), Attribute(value=Attribute(value=Name(id='prev_control', ctx=Load()), attr='buffer', ctx=Load()), attr='is_returnable', ctx=Load())])], keywords=[]))], decorator_list=[Name(id='Condition', ctx=Load())], returns=Name(id='bool', ctx=Load())), FunctionDef(name='accept_search_and_accept_input', args=arguments(posonlyargs=[], args=[arg(arg='event', annotation=Name(id='E', ctx=Load()))], kwonlyargs=[], kw_defaults=[], defaults=[]), body=[Expr(value=Constant(value='\n    Accept the search operation first, then accept the input.\n    ')), Expr(value=Call(func=Attribute(value=Name(id='search', ctx=Load()), attr='accept_search', ctx=Load()), args=[], keywords=[])), Expr(value=Call(func=Attribute(value=Attribute(value=Name(id='event', ctx=Load()), attr='current_buffer', ctx=Load()), attr='validate_and_handle', ctx=Load()), args=[], keywords=[]))], decorator_list=[Call(func=Name(id='key_binding', ctx=Load()), args=[], keywords=[keyword(arg='filter', value=BinOp(left=Name(id='is_searching', ctx=Load()), op=BitAnd(), right=Name(id='_previous_buffer_is_returnable', ctx=Load())))])], returns=Constant(value=None))], type_ignores=[])